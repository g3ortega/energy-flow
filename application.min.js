/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(t){function e(t){var e=t.length,n=i.type(t);return"function"===n||i.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}if(!t.jQuery){var i=function(t,e){return new i.fn.init(t,e)};i.isWindow=function(t){return null!=t&&t==t.window},i.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[a.call(t)]||"object":typeof t},i.isArray=Array.isArray||function(t){return"array"===i.type(t)},i.isPlainObject=function(t){var e;if(!t||"object"!==i.type(t)||t.nodeType||i.isWindow(t))return!1;try{if(t.constructor&&!s.call(t,"constructor")&&!s.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(e in t);return void 0===e||s.call(t,e)},i.each=function(t,i,n){var r,s=0,a=t.length,o=e(t);if(n){if(o)for(;a>s&&(r=i.apply(t[s],n),r!==!1);s++);else for(s in t)if(r=i.apply(t[s],n),r===!1)break}else if(o)for(;a>s&&(r=i.call(t[s],s,t[s]),r!==!1);s++);else for(s in t)if(r=i.call(t[s],s,t[s]),r===!1)break;return t},i.data=function(t,e,r){if(void 0===r){var s=t[i.expando],a=s&&n[s];if(void 0===e)return a;if(a&&e in a)return a[e]}else if(void 0!==e){var s=t[i.expando]||(t[i.expando]=++i.uuid);return n[s]=n[s]||{},n[s][e]=r,r}},i.removeData=function(t,e){var r=t[i.expando],s=r&&n[r];s&&i.each(e,function(t,e){delete s[e]})},i.extend=function(){var t,e,n,r,s,a,o=arguments[0]||{},h=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[h]||{},h++),"object"!=typeof o&&"function"!==i.type(o)&&(o={}),h===l&&(o=this,h--);l>h;h++)if(null!=(s=arguments[h]))for(r in s)t=o[r],n=s[r],o!==n&&(u&&n&&(i.isPlainObject(n)||(e=i.isArray(n)))?(e?(e=!1,a=t&&i.isArray(t)?t:[]):a=t&&i.isPlainObject(t)?t:{},o[r]=i.extend(u,a,n)):void 0!==n&&(o[r]=n));return o},i.queue=function(t,n,r){function s(t,i){var n=i||[];return null!=t&&(e(Object(t))?!function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;)t[r++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t}(n,"string"==typeof t?[t]:t):[].push.call(n,t)),n}if(t){n=(n||"fx")+"queue";var a=i.data(t,n);return r?(!a||i.isArray(r)?a=i.data(t,n,s(r)):a.push(r),a):a||[]}},i.dequeue=function(t,e){i.each(t.nodeType?[t]:t,function(t,n){e=e||"fx";var r=i.queue(n,e),s=r.shift();"inprogress"===s&&(s=r.shift()),s&&("fx"===e&&r.unshift("inprogress"),s.call(n,function(){i.dequeue(n,e)}))})},i.fn=i.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),n=this.offset(),r=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:i(t).offset();return n.top-=parseFloat(e.style.marginTop)||0,n.left-=parseFloat(e.style.marginLeft)||0,t.style&&(r.top+=parseFloat(t.style.borderTopWidth)||0,r.left+=parseFloat(t.style.borderLeftWidth)||0),{top:n.top-r.top,left:n.left-r.left}}};var n={};i.expando="velocity"+(new Date).getTime(),i.uuid=0;for(var r={},s=r.hasOwnProperty,a=r.toString,o="Boolean Number String Function Array Date RegExp Object Error".split(" "),h=0;h<o.length;h++)r["[object "+o[h]+"]"]=o[h].toLowerCase();i.fn.init.prototype=i.fn,t.Velocity={Utilities:i}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,i,n){function r(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var r=t[e];r&&n.push(r)}return n}function s(t){return p.isWrapped(t)?t=[].slice.call(t):p.isNode(t)&&(t=[t]),t}function a(t){var e=f.data(t,"velocity");return null===e?n:e}function o(t){return function(e){return Math.round(e*t)*(1/t)}}function h(t,i,n,r){function s(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function o(t){return 3*t}function h(t,e,i){return((s(e,i)*t+a(e,i))*t+o(e))*t}function l(t,e,i){return 3*s(e,i)*t*t+2*a(e,i)*t+o(e)}function u(e,i){for(var r=0;p>r;++r){var s=l(i,t,n);if(0===s)return i;var a=h(i,t,n)-e;i-=a/s}return i}function c(){for(var e=0;y>e;++e)S[e]=h(e*w,t,n)}function f(e,i,r){var s,a,o=0;do a=i+(r-i)/2,s=h(a,t,n)-e,s>0?r=a:i=a;while(Math.abs(s)>m&&++o<v);return a}function d(e){for(var i=0,r=1,s=y-1;r!=s&&S[r]<=e;++r)i+=w;--r;var a=(e-S[r])/(S[r+1]-S[r]),o=i+a*w,h=l(o,t,n);return h>=g?u(e,o):0==h?o:f(e,i,i+w)}function _(){C=!0,(t!=i||n!=r)&&c()}var p=4,g=.001,m=1e-7,v=10,y=11,w=1/(y-1),x="Float32Array"in e;if(4!==arguments.length)return!1;for(var b=0;4>b;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var S=x?new Float32Array(y):new Array(y),C=!1,T=function(e){return C||_(),t===i&&n===r?e:0===e?0:1===e?1:h(d(e),i,r)};T.getControlPoints=function(){return[{x:t,y:i},{x:n,y:r}]};var P="generateBezier("+[t,i,n,r]+")";return T.toString=function(){return P},T}function l(t,e){var i=t;return p.isString(t)?y.Easings[t]||(i=!1):i=p.isArray(t)&&1===t.length?o.apply(null,t):p.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):p.isArray(t)&&4===t.length?h.apply(null,t):!1,i===!1&&(i=y.Easings[y.defaults.easing]?y.defaults.easing:v),i}function u(t){if(t)for(var e=(new Date).getTime(),i=0,r=y.State.calls.length;r>i;i++)if(y.State.calls[i]){var s=y.State.calls[i],o=s[0],h=s[2],l=s[3],d=!!l;l||(l=y.State.calls[i][3]=e-16);for(var _=Math.min((e-l)/h.duration,1),g=0,m=o.length;m>g;g++){var v=o[g],w=v.element;if(a(w)){var b=!1;if(h.display!==n&&null!==h.display&&"none"!==h.display){if("flex"===h.display){var C=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(C,function(t,e){x.setPropertyValue(w,"display",e)})}x.setPropertyValue(w,"display",h.display)}h.visibility!==n&&"hidden"!==h.visibility&&x.setPropertyValue(w,"visibility",h.visibility);for(var T in v)if("element"!==T){var P,k=v[T],M=p.isString(k.easing)?y.Easings[k.easing]:k.easing;if(1===_)P=k.endValue;else if(P=k.startValue+(k.endValue-k.startValue)*M(_),!d&&P===k.currentValue)continue;if(k.currentValue=P,x.Hooks.registered[T]){var A=x.Hooks.getRoot(T),O=a(w).rootPropertyValueCache[A];O&&(k.rootPropertyValue=O)}var I=x.setPropertyValue(w,T,k.currentValue+(0===parseFloat(P)?"":k.unitType),k.rootPropertyValue,k.scrollData);x.Hooks.registered[T]&&(a(w).rootPropertyValueCache[A]=x.Normalizations.registered[A]?x.Normalizations.registered[A]("extract",null,I[1]):I[1]),"transform"===I[0]&&(b=!0)}h.mobileHA&&a(w).transformCache.translate3d===n&&(a(w).transformCache.translate3d="(0px, 0px, 0px)",b=!0),b&&x.flushTransformCache(w)}}h.display!==n&&"none"!==h.display&&(y.State.calls[i][2].display=!1),h.visibility!==n&&"hidden"!==h.visibility&&(y.State.calls[i][2].visibility=!1),h.progress&&h.progress.call(s[1],s[1],_,Math.max(0,l+h.duration-e),l),1===_&&c(i)}y.State.isTicking&&S(u)}function c(t,e){if(!y.State.calls[t])return!1;for(var i=y.State.calls[t][0],r=y.State.calls[t][1],s=y.State.calls[t][2],o=y.State.calls[t][4],h=!1,l=0,u=i.length;u>l;l++){var c=i[l].element;if(e||s.loop||("none"===s.display&&x.setPropertyValue(c,"display",s.display),"hidden"===s.visibility&&x.setPropertyValue(c,"visibility",s.visibility)),s.loop!==!0&&(f.queue(c)[1]===n||!/\.velocityQueueEntryFlag/i.test(f.queue(c)[1]))&&a(c)){a(c).isAnimating=!1,a(c).rootPropertyValueCache={};var d=!1;f.each(x.Lists.transforms3D,function(t,e){var i=/^scale/.test(e)?1:0,r=a(c).transformCache[e];a(c).transformCache[e]!==n&&new RegExp("^\\("+i+"[^.]").test(r)&&(d=!0,delete a(c).transformCache[e])}),s.mobileHA&&(d=!0,delete a(c).transformCache.translate3d),d&&x.flushTransformCache(c),x.Values.removeClass(c,"velocity-animating")}if(!e&&s.complete&&!s.loop&&l===u-1)try{s.complete.call(r,r)}catch(_){setTimeout(function(){throw _},1)}o&&s.loop!==!0&&o(r),s.loop!==!0||e||(f.each(a(c).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360)}),y(c,"reverse",{loop:!0,delay:s.delay})),s.queue!==!1&&f.dequeue(c,s.queue)}y.State.calls[t]=!1;for(var p=0,g=y.State.calls.length;g>p;p++)if(y.State.calls[p]!==!1){h=!0;break}h===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var f,d=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return n}(),_=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-t)),t=n+i,setTimeout(function(){e(n+i)},i)}}(),p={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==n&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},g=!1;if(t.fn&&t.fn.jquery?(f=t,g=!0):f=e.Velocity.Utilities,8>=d&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var m=400,v="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:m,easing:v,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){f.data(t,"velocity",{isSVG:p.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};e.pageYOffset!==n?(y.State.scrollAnchor=e,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var r={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:r.v,dv:t(r)}}function i(i,n){var r={dx:i.v,dv:t(i)},s=e(i,.5*n,r),a=e(i,.5*n,s),o=e(i,n,a),h=1/6*(r.dx+2*(s.dx+a.dx)+o.dx),l=1/6*(r.dv+2*(s.dv+a.dv)+o.dv);return i.x=i.x+h*n,i.v=i.v+l*n,i}return function n(t,e,r){var s,a,o,h={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1e-4,f=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,r=r||null,h.tension=t,h.friction=e,s=null!==r,s?(u=n(t,e),a=u/r*f):a=f;o=i(o||h,a),l.push(1+o.x),u+=16,Math.abs(o.x)>c&&Math.abs(o.v)>c;);return s?function(t){return l[t*(l.length-1)|0]}:u}}();y.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){y.Easings[e[0]]=h.apply(null,e[1])});var x=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<x.Lists.colors.length;t++){var e="color"===x.Lists.colors[t]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[t]]=["Red Green Blue Alpha",e]}var i,n,r;if(d)for(i in x.Hooks.templates){n=x.Hooks.templates[i],r=n[0].split(" ");var s=n[1].match(x.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),s.push(s.shift()),x.Hooks.templates[i]=[r.join(" "),s.join(" ")])}for(i in x.Hooks.templates){n=x.Hooks.templates[i],r=n[0].split(" ");for(var t in r){var a=i+r[t],o=t;x.Hooks.registered[a]=[i,o]}}},getRoot:function(t){var e=x.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return x.RegEx.valueUnwrap.test(e)&&(e=e.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(e)&&(e=x.Hooks.templates[t][1]),e},extractValue:function(t,e){var i=x.Hooks.registered[t];if(i){var n=i[0],r=i[1];return e=x.Hooks.cleanRootPropertyValue(n,e),e.toString().match(x.RegEx.valueSplit)[r]}return e},injectValue:function(t,e,i){var n=x.Hooks.registered[t];if(n){var r,s,a=n[0],o=n[1];return i=x.Hooks.cleanRootPropertyValue(a,i),r=i.toString().match(x.RegEx.valueSplit),r[o]=e,s=r.join(" ")}return i}},Normalizations:{registered:{clip:function(t,e,i){switch(t){case"name":return"clip";case"extract":var n;return x.RegEx.wrappedValueAlreadyExtracted.test(i)?n=i:(n=i.toString().match(x.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):i),n;case"inject":return"rect("+i+")"}},blur:function(t,e,i){switch(t){case"name":return"-webkit-filter";case"extract":var n=parseFloat(i);if(!n&&0!==n){var r=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=r?r[1]:0}return n;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(t,e,i){if(8>=d)switch(t){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=n?n[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(t){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){9>=d||y.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var t=0;t<x.Lists.transformsBase.length;t++)!function(){var e=x.Lists.transformsBase[t];x.Normalizations.registered[e]=function(t,i,r){switch(t){case"name":return"transform";case"extract":return a(i)===n||a(i).transformCache[e]===n?/^scale/i.test(e)?1:0:a(i).transformCache[e].replace(/[()]/g,"");case"inject":var s=!1;switch(e.substr(0,e.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":y.State.isAndroid&&a(i).transformCache[e]===n&&1>r&&(r=1),s=!/(\d)$/i.test(r);break;case"skew":s=!/(deg|\d)$/i.test(r);break;case"rotate":s=!/(deg|\d)$/i.test(r)}return s||(a(i).transformCache[e]="("+r+")"),a(i).transformCache[e]}}}();for(var t=0;t<x.Lists.colors.length;t++)!function(){var e=x.Lists.colors[t];x.Normalizations.registered[e]=function(t,i,r){switch(t){case"name":return e;case"extract":var s;if(x.RegEx.wrappedValueAlreadyExtracted.test(r))s=r;else{var a,o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=o[r]!==n?o[r]:o.black:x.RegEx.isHex.test(r)?a="rgb("+x.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=o.black),s=(a||r).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==s.split(" ").length||(s+=" 1"),s;case"inject":return 8>=d?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=d?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||y.State.isAndroid&&!y.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(y.State.prefixMatches[t])return[y.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],i=0,n=e.length;n>i;i++){var r;if(r=0===i?t:e[i]+t.replace(/^\w/,function(t){return t.toUpperCase()}),p.isString(y.State.prefixElement.style[r]))return y.State.prefixMatches[t]=r,[r,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(i,function(t,e,i,n){return e+e+i+i+n+n}),e=n.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,i,r,s){function o(t,i){function r(){l&&x.setPropertyValue(t,"display","none")}var h=0;if(8>=d)h=f.css(t,i);else{var l=!1;if(/^(width|height)$/.test(i)&&0===x.getPropertyValue(t,"display")&&(l=!0,x.setPropertyValue(t,"display",x.Values.getDisplayType(t))),!s){if("height"===i&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(x.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(t,"paddingBottom"))||0);return r(),u}if("width"===i&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetWidth-(parseFloat(x.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(t,"paddingRight"))||0);return r(),c}}var _;_=a(t)===n?e.getComputedStyle(t,null):a(t).computedStyle?a(t).computedStyle:a(t).computedStyle=e.getComputedStyle(t,null),(d||y.State.isFirefox)&&"borderColor"===i&&(i="borderTopColor"),h=9===d&&"filter"===i?_.getPropertyValue(i):_[i],(""===h||null===h)&&(h=t.style[i]),r()}if("auto"===h&&/^(top|right|bottom|left)$/i.test(i)){var p=o(t,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(i))&&(h=f(t).position()[i]+"px")}return h}var h;if(x.Hooks.registered[i]){var l=i,u=x.Hooks.getRoot(l);r===n&&(r=x.getPropertyValue(t,x.Names.prefixCheck(u)[0])),x.Normalizations.registered[u]&&(r=x.Normalizations.registered[u]("extract",t,r)),h=x.Hooks.extractValue(l,r)}else if(x.Normalizations.registered[i]){var c,_;c=x.Normalizations.registered[i]("name",t),"transform"!==c&&(_=o(t,x.Names.prefixCheck(c)[0]),x.Values.isCSSNullValue(_)&&x.Hooks.templates[i]&&(_=x.Hooks.templates[i][1])),h=x.Normalizations.registered[i]("extract",t,_)}return/^[\d-]/.test(h)||(h=a(t)&&a(t).isSVG&&x.Names.SVGAttribute(i)?/^(height|width)$/i.test(i)?t.getBBox()[i]:t.getAttribute(i):o(t,x.Names.prefixCheck(i)[0])),x.Values.isCSSNullValue(h)&&(h=0),y.debug>=2&&console.log("Get "+i+": "+h),h},setPropertyValue:function(t,i,n,r,s){var o=i;if("scroll"===i)s.container?s.container["scroll"+s.direction]=n:"Left"===s.direction?e.scrollTo(n,s.alternateValue):e.scrollTo(s.alternateValue,n);else if(x.Normalizations.registered[i]&&"transform"===x.Normalizations.registered[i]("name",t))x.Normalizations.registered[i]("inject",t,n),o="transform",n=a(t).transformCache[i];else{if(x.Hooks.registered[i]){var h=i,l=x.Hooks.getRoot(i);r=r||x.getPropertyValue(t,l),n=x.Hooks.injectValue(h,n,r),i=l}if(x.Normalizations.registered[i]&&(n=x.Normalizations.registered[i]("inject",t,n),i=x.Normalizations.registered[i]("name",t)),o=x.Names.prefixCheck(i)[0],8>=d)try{t.style[o]=n}catch(u){y.debug&&console.log("Browser does not support ["+n+"] for ["+o+"]")}else a(t)&&a(t).isSVG&&x.Names.SVGAttribute(i)?t.setAttribute(i,n):t.style[o]=n;y.debug>=2&&console.log("Set "+i+" ("+o+"): "+n)}return[o,n]},flushTransformCache:function(t){function e(e){return parseFloat(x.getPropertyValue(t,e))}var i="";if((d||y.State.isAndroid&&!y.State.isChrome)&&a(t).isSVG){var n={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};f.each(a(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),n[t]&&(i+=t+"("+n[t].join(" ")+") ",delete n[t])})}else{var r,s;f.each(a(t).transformCache,function(e){return r=a(t).transformCache[e],"transformPerspective"===e?(s=r,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(i+=e+r+" "))}),s&&(i="perspective"+s+" "+i)}x.setPropertyValue(t,"transform",i)}};x.Hooks.register(),x.Normalizations.register(),y.hook=function(t,e,i){var r=n;return t=s(t),f.each(t,function(t,s){if(a(s)===n&&y.init(s),i===n)r===n&&(r=y.CSS.getPropertyValue(s,e));else{var o=y.CSS.setPropertyValue(s,e,i);"transform"===o[0]&&y.CSS.flushTransformCache(s),r=o}}),r};var b=function(){function t(){return h?M.promise||null:d}function o(){function t(){function t(t,e){var i=n,r=n,s=n;return p.isArray(t)?(i=t[0],!p.isArray(t[1])&&/^[\d-]/.test(t[1])||p.isFunction(t[1])||x.RegEx.isHex.test(t[1])?s=t[1]:(p.isString(t[1])&&!x.RegEx.isHex.test(t[1])||p.isArray(t[1]))&&(r=e?t[1]:l(t[1],h.duration),t[2]!==n&&(s=t[2]))):i=t,e||(r=r||h.easing),p.isFunction(i)&&(i=i.call(o,T,C)),p.isFunction(s)&&(s=s.call(o,T,C)),[i||0,r,s]}function d(t,e){var i,n;return n=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return i=t,""}),i||(i=x.Values.getUnitType(t)),[n,i]}function _(){var t={myParent:o.parentNode||i.body,position:x.getPropertyValue(o,"position"),fontSize:x.getPropertyValue(o,"fontSize")},n=t.position===L.lastPosition&&t.myParent===L.lastParent,r=t.fontSize===L.lastFontSize;L.lastParent=t.myParent,L.lastPosition=t.position,L.lastFontSize=t.fontSize;var s=100,h={};if(r&&n)h.emToPx=L.lastEmToPx,h.percentToPxWidth=L.lastPercentToPxWidth,h.percentToPxHeight=L.lastPercentToPxHeight;else{var l=a(o).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");y.init(l),t.myParent.appendChild(l),f.each(["overflow","overflowX","overflowY"],function(t,e){y.CSS.setPropertyValue(l,e,"hidden")}),y.CSS.setPropertyValue(l,"position",t.position),y.CSS.setPropertyValue(l,"fontSize",t.fontSize),y.CSS.setPropertyValue(l,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){y.CSS.setPropertyValue(l,e,s+"%")}),y.CSS.setPropertyValue(l,"paddingLeft",s+"em"),h.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(l,"width",null,!0))||1)/s,h.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(l,"height",null,!0))||1)/s,h.emToPx=L.lastEmToPx=(parseFloat(x.getPropertyValue(l,"paddingLeft"))||1)/s,t.myParent.removeChild(l)}return null===L.remToPx&&(L.remToPx=parseFloat(x.getPropertyValue(i.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(e.innerWidth)/100,L.vhToPx=parseFloat(e.innerHeight)/100),h.remToPx=L.remToPx,h.vwToPx=L.vwToPx,h.vhToPx=L.vhToPx,y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(h),o),h}if(h.begin&&0===T)try{h.begin.call(g,g)}catch(m){setTimeout(function(){throw m},1)}if("scroll"===A){var b,S,P,k=/^x$/i.test(h.axis)?"Left":"Top",O=parseFloat(h.offset)||0;h.container?p.isWrapped(h.container)||p.isNode(h.container)?(h.container=h.container[0]||h.container,b=h.container["scroll"+k],P=b+f(o).position()[k.toLowerCase()]+O):h.container=null:(b=y.State.scrollAnchor[y.State["scrollProperty"+k]],S=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===k?"Top":"Left")]],P=f(o).offset()[k.toLowerCase()]+O),c={scroll:{rootPropertyValue:!1,startValue:b,currentValue:b,endValue:P,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:k,alternateValue:S}},element:o},y.debug&&console.log("tweensContainer (scroll): ",c.scroll,o)}else if("reverse"===A){if(!a(o).tweensContainer)return void f.dequeue(o,h.queue);"none"===a(o).opts.display&&(a(o).opts.display="auto"),"hidden"===a(o).opts.visibility&&(a(o).opts.visibility="visible"),a(o).opts.loop=!1,a(o).opts.begin=null,a(o).opts.complete=null,w.easing||delete h.easing,w.duration||delete h.duration,h=f.extend({},a(o).opts,h);var I=f.extend(!0,{},a(o).tweensContainer);for(var z in I)if("element"!==z){var R=I[z].startValue;I[z].startValue=I[z].currentValue=I[z].endValue,I[z].endValue=R,p.isEmptyObject(w)||(I[z].easing=h.easing),y.debug&&console.log("reverse tweensContainer ("+z+"): "+JSON.stringify(I[z]),o)}c=I}else if("start"===A){var I;a(o).tweensContainer&&a(o).isAnimating===!0&&(I=a(o).tweensContainer),f.each(v,function(e,i){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(e)){var r=t(i,!0),s=r[0],a=r[1],o=r[2];if(x.RegEx.isHex.test(s)){for(var h=["Red","Green","Blue"],l=x.Values.hexToRgb(s),u=o?x.Values.hexToRgb(o):n,c=0;c<h.length;c++){var f=[l[c]];a&&f.push(a),u!==n&&f.push(u[c]),v[e+h[c]]=f}delete v[e]}}});for(var E in v){var N=t(v[E]),F=N[0],j=N[1],V=N[2];E=x.Names.camelCase(E);var B=x.Hooks.getRoot(E),q=!1;if(a(o).isSVG||x.Names.prefixCheck(B)[1]!==!1||x.Normalizations.registered[B]!==n){(h.display!==n&&null!==h.display&&"none"!==h.display||h.visibility!==n&&"hidden"!==h.visibility)&&/opacity|filter/.test(E)&&!V&&0!==F&&(V=0),h._cacheValues&&I&&I[E]?(V===n&&(V=I[E].endValue+I[E].unitType),q=a(o).rootPropertyValueCache[B]):x.Hooks.registered[E]?V===n?(q=x.getPropertyValue(o,B),V=x.getPropertyValue(o,E,q)):q=x.Hooks.templates[B][1]:V===n&&(V=x.getPropertyValue(o,E));var X,H,U,Y=!1;if(X=d(E,V),V=X[0],U=X[1],X=d(E,F),F=X[0].replace(/^([+-\/*])=/,function(t,e){return Y=e,""}),H=X[1],V=parseFloat(V)||0,F=parseFloat(F)||0,"%"===H&&(/^(fontSize|lineHeight)$/.test(E)?(F/=100,H="em"):/^scale/.test(E)?(F/=100,H=""):/(Red|Green|Blue)$/i.test(E)&&(F=F/100*255,H="")),/[\/*]/.test(Y))H=U;else if(U!==H&&0!==V)if(0===F)H=U;else{s=s||_();var W=/margin|padding|left|right|width|text|word|letter/i.test(E)||/X$/.test(E)||"x"===E?"x":"y";switch(U){case"%":V*="x"===W?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:V*=s[U+"ToPx"]}switch(H){case"%":V*=1/("x"===W?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:V*=1/s[H+"ToPx"]}}switch(Y){case"+":F=V+F;break;case"-":F=V-F;break;case"*":F=V*F;break;case"/":F=V/F}c[E]={rootPropertyValue:q,startValue:V,currentValue:V,endValue:F,unitType:H,easing:j},y.debug&&console.log("tweensContainer ("+E+"): "+JSON.stringify(c[E]),o)}else y.debug&&console.log("Skipping ["+B+"] due to a lack of browser support.")}c.element=o}c.element&&(x.Values.addClass(o,"velocity-animating"),D.push(c),""===h.queue&&(a(o).tweensContainer=c,a(o).opts=h),a(o).isAnimating=!0,T===C-1?(y.State.calls.length>1e4&&(y.State.calls=r(y.State.calls)),y.State.calls.push([D,g,h,null,M.resolver]),y.State.isTicking===!1&&(y.State.isTicking=!0,u())):T++)}var s,o=this,h=f.extend({},y.defaults,w),c={};switch(a(o)===n&&y.init(o),parseFloat(h.delay)&&h.queue!==!1&&f.queue(o,h.queue,function(t){y.velocityQueueEntryFlag=!0,a(o).delayTimer={setTimeout:setTimeout(t,parseFloat(h.delay)),next:t}}),h.duration.toString().toLowerCase()){case"fast":h.duration=200;break;case"normal":h.duration=m;break;case"slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}y.mock!==!1&&(y.mock===!0?h.duration=h.delay=1:(h.duration*=parseFloat(y.mock)||1,h.delay*=parseFloat(y.mock)||1)),h.easing=l(h.easing,h.duration),h.begin&&!p.isFunction(h.begin)&&(h.begin=null),h.progress&&!p.isFunction(h.progress)&&(h.progress=null),h.complete&&!p.isFunction(h.complete)&&(h.complete=null),h.display!==n&&null!==h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===h.display&&(h.display=y.CSS.Values.getDisplayType(o))),h.visibility!==n&&null!==h.visibility&&(h.visibility=h.visibility.toString().toLowerCase()),h.mobileHA=h.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,h.queue===!1?h.delay?setTimeout(t,h.delay):t():f.queue(o,h.queue,function(e,i){return i===!0?(M.promise&&M.resolver(g),!0):(y.velocityQueueEntryFlag=!0,void t(e))}),""!==h.queue&&"fx"!==h.queue||"inprogress"===f.queue(o)[0]||f.dequeue(o)}var h,d,_,g,v,w,S=arguments[0]&&(f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));if(p.isWrapped(this)?(h=!1,_=0,g=this,d=this):(h=!0,_=1,g=S?arguments[0].elements:arguments[0]),g=s(g)){S?(v=arguments[0].properties,w=arguments[0].options):(v=arguments[_],w=arguments[_+1]);var C=g.length,T=0;if("stop"!==v&&!f.isPlainObject(w)){var P=_+1;w={};for(var k=P;k<arguments.length;k++)p.isArray(arguments[k])||!/^(fast|normal|slow)$/i.test(arguments[k])&&!/^\d/.test(arguments[k])?p.isString(arguments[k])||p.isArray(arguments[k])?w.easing=arguments[k]:p.isFunction(arguments[k])&&(w.complete=arguments[k]):w.duration=arguments[k]}var M={promise:null,resolver:null,rejecter:null};h&&y.Promise&&(M.promise=new y.Promise(function(t,e){M.resolver=t,M.rejecter=e}));var A;switch(v){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"stop":f.each(g,function(t,e){a(e)&&a(e).delayTimer&&(clearTimeout(a(e).delayTimer.setTimeout),a(e).delayTimer.next&&a(e).delayTimer.next(),delete a(e).delayTimer)});var O=[];return f.each(y.State.calls,function(t,e){e&&f.each(e[1],function(i,r){var s=p.isString(w)?w:"";return w!==n&&e[2].queue!==s?!0:void f.each(g,function(e,i){i===r&&(w!==n&&(f.each(f.queue(i,s),function(t,e){p.isFunction(e)&&e(null,!0)}),f.queue(i,s,[])),a(i)&&""===s&&f.each(a(i).tweensContainer,function(t,e){e.endValue=e.currentValue}),O.push(t))})})}),f.each(O,function(t,e){c(e,!0)}),M.promise&&M.resolver(g),t();default:if(!f.isPlainObject(v)||p.isEmptyObject(v)){if(p.isString(v)&&y.Redirects[v]){var I=f.extend({},w),z=I.duration,R=I.delay||0;return I.backwards===!0&&(g=f.extend(!0,[],g).reverse()),f.each(g,function(t,e){parseFloat(I.stagger)?I.delay=R+parseFloat(I.stagger)*t:p.isFunction(I.stagger)&&(I.delay=R+I.stagger.call(e,t,C)),I.drag&&(I.duration=parseFloat(z)||(/^(callout|transition)/.test(v)?1e3:m),I.duration=Math.max(I.duration*(I.backwards?1-t/C:(t+1)/C),.75*I.duration,200)),y.Redirects[v].call(e,e,I||{},t,C,g,M.promise?M:n)
}),t()}var E="Velocity: First argument ("+v+") was not a property map, a known action, or a registered redirect. Aborting.";return M.promise?M.rejecter(new Error(E)):console.log(E),t()}A="start"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},D=[];f.each(g,function(t,e){p.isNode(e)&&o.call(e)});var N,I=f.extend({},y.defaults,w);if(I.loop=parseInt(I.loop),N=2*I.loop-1,I.loop)for(var F=0;N>F;F++){var j={delay:I.delay,progress:I.progress};F===N-1&&(j.display=I.display,j.visibility=I.visibility,j.complete=I.complete),b(g,"reverse",j)}return t()}};y=f.extend(b,y),y.animate=b;var S=e.requestAnimationFrame||_;return y.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(S=function(t){return setTimeout(function(){t(!0)},16)},u()):S=e.requestAnimationFrame||_}),t.Velocity=y,t!==e&&(t.fn.velocity=b,t.fn.velocity.defaults=y.defaults),f.each(["Down","Up"],function(t,e){y.Redirects["slide"+e]=function(t,i,r,s,a,o){var h=f.extend({},i),l=h.begin,u=h.complete,c={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},d={};h.display===n&&(h.display="Down"===e?"inline"===y.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),h.begin=function(){l&&l.call(a,a);for(var i in c){d[i]=t.style[i];var n=y.CSS.getPropertyValue(t,i);c[i]="Down"===e?[n,0]:[0,n]}d.overflow=t.style.overflow,t.style.overflow="hidden"},h.complete=function(){for(var e in d)t.style[e]=d[e];u&&u.call(a,a),o&&o.resolver(a)},y(t,c,h)}}),f.each(["In","Out"],function(t,e){y.Redirects["fade"+e]=function(t,i,r,s,a,o){var h=f.extend({},i),l={opacity:"In"===e?1:0},u=h.complete;h.complete=r!==s-1?h.begin=null:function(){u&&u.call(a,a),o&&o.resolver(a)},h.display===n&&(h.display="In"===e?"auto":"none"),y(this,l,h)}}),y}(window.jQuery||window.Zepto||window,window,document)});/*!
 * VERSION: 1.13.1
 * DATE: 2014-07-19
 * UPDATES AND DOCS AT: http://www.greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},s=1e-10,a=i._internals,o=a.isSelector,h=a.isArray,l=r.prototype=i.to({},.1,{}),u=[];r.version="1.13.1",l.constructor=r,l.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i.killTweensOf,r.getTweensOf=i.getTweensOf,r.lagSmoothing=i.lagSmoothing,r.ticker=i.ticker,r.render=i.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var n,r=this.ratio;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted)if(e)this._initted=!1;else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var a,o=1/(1-r),h=this._firstPT;h;)a=h.s+h.c,h.c*=o,h.s=a-h.c,h=h._next}return this},l.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,o,h,l,c,f,d,_=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._totalTime,m=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=_?(this._totalTime=_,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete"),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>y||y===s)&&y!==t&&(i=!0,y>s&&(r="onReverseComplete")),this._rawPrevTime=d=!e||t||y===t?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&y>0&&y!==s)&&(r="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=d=!e||t||y===t?t:s)):this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=v+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:0>this._time&&(this._time=0)),this._easeType?(l=this._time/v,c=this._easeType,f=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===f?l*=l:2===f?l*=l*l:3===f?l*=l*l*l:4===f&&(l*=l*l*l*l),this.ratio=1===c?1-l:2===c?l:.5>this._time/v?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/v)),p===this._time&&!i&&m===this._cycle)return g!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=g,this._rawPrevTime=y,this._cycle=m,a.lazyTweens.push(this),this._lazy=t,void 0;this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===g&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==g||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||u)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||u),0===v&&this._rawPrevTime===s&&d!==s&&(this._rawPrevTime=0))},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new r(t,e,i)},r.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new r(t,e,n)},r.staggerTo=r.allTo=function(t,e,s,a,l,c,f){a=a||0;var d,_,p,g,m=s.delay||0,v=[],y=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),l.apply(f||this,c||u)};for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=n(t))),d=t.length,p=0;d>p;p++){_={};for(g in s)_[g]=s[g];_.delay=m,p===d-1&&l&&(_.onComplete=y),v[p]=new r(t[p],e,_),m+=a}return v},r.staggerFrom=r.allFrom=function(t,e,i,n,s,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,r.staggerTo(t,e,i,n,s,a,o)},r.staggerFromTo=r.allFromTo=function(t,e,i,n,s,a,o,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,r.staggerTo(t,e,n,s,a,o,h)},r.delayedCall=function(t,e,i,n,s){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:s,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var c=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),n=n.concat(c(s,e)),r=n.length),s=s._next;return n},f=r.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};r.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,a,o,h=f(0!=r),l=h.length,u=i&&n&&r;for(o=0;l>o;o++)a=h[o],(u||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(t,e){if(null!=t){var s,l,u,c,f,d=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=n(t)),h(t))for(c=t.length;--c>-1;)r.killChildTweensOf(t[c],e);else{s=[];for(u in d)for(l=d[u].target.parentNode;l;)l===t&&(s=s.concat(d[u].tweens)),l=l.parentNode;for(f=s.length,c=0;f>c;c++)e&&s[c].totalTime(s[c].totalDuration()),s[c]._enabled(!1,!1)}}};var d=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,a,o=f(r),h=i&&n&&r,l=o.length;--l>-1;)a=o[l],(h||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&a.paused(t)};return r.pauseAll=function(t,e,i){d(!0,t,e,i)},r.resumeAll=function(t,e,i){d(!1,t,e,i)},r.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||s,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],o(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));o(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals,a=s.isSelector,o=s.isArray,h=s.lazyTweens,l=s.lazyRender,u=[],c=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},d=function(t,e,i,n){t._timeline.pause(t._startTime),e&&e.apply(n||t._timeline,i||u)},_=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},p=n.prototype=new e;return n.version="1.13.1",p.constructor=n,p.kill()._gc=!1,p.to=function(t,e,n,r){var s=n.repeat&&c.TweenMax||i;return e?this.add(new s(t,e,n),r):this.set(t,n,r)},p.from=function(t,e,n,r){return this.add((n.repeat&&c.TweenMax||i).from(t,e,n),r)},p.fromTo=function(t,e,n,r,s){var a=r.repeat&&c.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),s):this.set(t,r,s)},p.staggerTo=function(t,e,r,s,o,h,l,u){var c,d=new n({onComplete:h,onCompleteParams:l,onCompleteScope:u,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=_(t)),s=s||0,c=0;t.length>c;c++)r.startAt&&(r.startAt=f(r.startAt)),d.to(t[c],e,f(r),c*s);return this.add(d,o)},p.staggerFrom=function(t,e,i,n,r,s,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,a,o)},p.staggerFromTo=function(t,e,i,n,r,s,a,o,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,a,o,h)},p.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},p.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,a=new n(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)s=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=s;return o.add(a,0),a},p.add=function(r,s,a,h){var l,u,c,f,d,_;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&o(r)){for(a=a||"normal",h=h||0,l=s,u=r.length,c=0;u>c;c++)o(f=r[c])&&(f=new n({tweens:f})),this.add(f,l),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?l=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),l+=h;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,_=d.rawTime()>r._startTime;d._timeline;)_&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},p.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&o(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},p._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},p.insert=p.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},p.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},p.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},p.addPause=function(t,e,i,n){return this.call(d,["{self}",e,i,n],this,t)},p.removeLabel=function(t){return delete this._labels[t],this},p.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},p._parseTimeOrLabel=function(e,i,n,r){var s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&o(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},p.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(t,e){return this.play(t,e)},p.gotoAndStop=function(t,e){return this.pause(t,e)},p.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,a,o,c,f=this._dirty?this.totalDuration():this._totalDuration,d=this._time,_=this._startTime,p=this._timeScale,g=this._paused;if(t>=f?(this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(s=!0,o="onComplete",0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(c=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=f+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",s=this._reversed),0>t?(this._active=!1,this._rawPrevTime>=0&&this._first&&(c=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=0,this._initted||(c=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==d&&this._first||i||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u)),this._time>=d)for(n=this._first;n&&(a=n._next,!this._paused||g);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,!this._paused||g);)(n._active||d>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;this._onUpdate&&(e||(h.length&&l(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u))),o&&(this._gc||(_===this._startTime||p!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(s&&(h.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||u)))}},p._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},p.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(s[o++]=a):(n!==!1&&(s[o++]=a),t!==!1&&(s=s.concat(a.getChildren(!0,e,n)),o=s.length))),a=a._next;return s},p.getTweensOf=function(t,e){var n,r,s=this._gc,a=[],o=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[o++]=n[r]);return s&&this._enabled(!1,!0),a},p._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},p.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},p._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},p.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return this},p._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},p.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,0>r._startTime&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},p.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},p.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=[],a=e._internals,o=a.lazyTweens,h=a.lazyRender,l=new i(null,null,1,0),u=n.prototype=new t;return u.constructor=n,u.kill()._gc=!1,n.version="1.13.1",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},u.tweenTo=function(t,i){i=i||{};var n,r,a,o={ease:l,overwrite:i.delay?2:1,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(t),n=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,a=new e(this,n,o),o.onStart=function(){a.target.paused(!0),a.vars.time!==a.target.time()&&n===a.duration()&&a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||a,i.onStartParams||s)},a},u.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,a,l,u,c,f,d=this._dirty?this.totalDuration():this._totalDuration,_=this._duration,p=this._time,g=this._totalTime,m=this._startTime,v=this._timeScale,y=this._rawPrevTime,w=this._paused,x=this._cycle;if(t>=d?(this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,u="onComplete",0===this._duration&&(0===t||0>y||y===r)&&y!==t&&this._first&&(c=!0,y>r&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=_,t=_+1e-4)):1e-7>t?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===_&&y!==r&&(y>0||0>t&&y>=0)&&!this._locked)&&(u="onReverseComplete",a=this._reversed),0>t?(this._active=!1,y>=0&&this._first&&(c=!0),this._rawPrevTime=t):(this._rawPrevTime=_||!e||t||this._rawPrevTime===t?t:r,t=0,this._initted||(c=!0))):(0===_&&0>y&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(f=_+this._repeatDelay,this._cycle=this._totalTime/f>>0,0!==this._cycle&&this._cycle===this._totalTime/f&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&0!==(1&this._cycle)&&(this._time=_-this._time),this._time>_?(this._time=_,t=_+1e-4):0>this._time?this._time=t=0:t=this._time))),this._cycle!==x&&!this._locked){var b=this._yoyo&&0!==(1&x),S=b===(this._yoyo&&0!==(1&this._cycle)),C=this._totalTime,T=this._cycle,P=this._rawPrevTime,k=this._time;if(this._totalTime=x*_,x>this._cycle?b=!b:this._totalTime+=_,this._time=p,this._rawPrevTime=0===_?y-1e-4:y,this._cycle=x,this._locked=!0,p=b?0:_,this.render(p,e,0===_),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||s),S&&(p=b?_+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=k,this._totalTime=C,this._cycle=T,this._rawPrevTime=P}if(!(this._time!==p&&this._first||i||c))return g!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s)),this._time>=p)for(n=this._first;n&&(l=n._next,!this._paused||w);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=l;else for(n=this._last;n&&(l=n._prev,!this._paused||w);)(n._active||p>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=l;this._onUpdate&&(e||(o.length&&h(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s))),u&&(this._locked||this._gc||(m===this._startTime||v!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(a&&(o.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this.vars[u].apply(this.vars[u+"Scope"]||this,this.vars[u+"Params"]||s)))},u.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],a=this.getChildren(t,e,i),o=0,h=a.length;for(n=0;h>n;n++)r=a[n],r.isActive()&&(s[o++]=r);return s},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},u.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},u.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},s=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},a=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",o=function(t,e,i,n){var r={a:t},s={},a={},o={c:n},h=(t+e)/2,l=(e+i)/2,u=(i+n)/2,c=(h+l)/2,f=(l+u)/2,d=(f-c)/8;return r.b=h+(t-h)/4,s.b=c+d,r.c=s.a=(r.b+s.b)/2,s.c=a.a=(c+f)/2,a.b=f-d,o.b=u+(n-u)/4,a.c=o.a=(a.b+o.b)/2,[r,s,a,o]},h=function(t,r,s,a,h){var l,u,c,f,d,_,p,g,m,v,y,w,x,b=t.length-1,S=0,C=t[0].a;for(l=0;b>l;l++)d=t[S],u=d.a,c=d.d,f=t[S+1].d,h?(y=e[l],w=i[l],x=.25*(w+y)*r/(a?.5:n[l]||.5),_=c-(c-u)*(a?.5*r:0!==y?x/y:0),p=c+(f-c)*(a?.5*r:0!==w?x/w:0),g=c-(_+((p-_)*(3*y/(y+w)+.5)/4||0))):(_=c-.5*(c-u)*r,p=c+.5*(f-c)*r,g=c-(_+p)/2),_+=g,p+=g,d.c=m=_,d.b=0!==l?C:C=d.a+.6*(d.c-d.a),d.da=c-u,d.ca=m-u,d.ba=C-u,s?(v=o(u,C,m,c),t.splice(S,1,v[0],v[1],v[2],v[3]),S+=4):S++,C=p;d=t[S],d.b=C,d.c=C+.4*(d.d-C),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=C-d.a,s&&(v=o(d.a,C,d.c,d.d),t.splice(S,1,v[0],v[1],v[2],v[3]))},l=function(t,n,r,a){var o,h,l,u,c,f,d=[];if(a)for(t=[a].concat(t),h=t.length;--h>-1;)"string"==typeof(f=t[h][n])&&"="===f.charAt(1)&&(t[h][n]=a[n]+Number(f.charAt(0)+f.substr(2)));if(o=t.length-2,0>o)return d[0]=new s(t[0][n],0,0,t[-1>o?0:1][n]),d;for(h=0;o>h;h++)l=t[h][n],u=t[h+1][n],d[h]=new s(l,0,0,u),r&&(c=t[h+2][n],e[h]=(e[h]||0)+(u-l)*(u-l),i[h]=(i[h]||0)+(c-u)*(c-u));return d[h]=new s(t[h][n],0,0,t[h+1][n]),d},u=function(t,s,o,u,c,f){var d,_,p,g,m,v,y,w,x={},b=[],S=f||t[0];c="string"==typeof c?","+c+",":a,null==s&&(s=1);for(_ in t[0])b.push(_);if(t.length>1){for(w=t[t.length-1],y=!0,d=b.length;--d>-1;)if(_=b[d],Math.abs(S[_]-w[_])>.05){y=!1;break}y&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=i.length=n.length=0,d=b.length;--d>-1;)_=b[d],r[_]=-1!==c.indexOf(","+_+","),x[_]=l(t,_,r[_],f);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!u){for(d=b.length;--d>-1;)if(r[_])for(p=x[b[d]],v=p.length-1,g=0;v>g;g++)m=p[g+1].da/i[g]+p[g].da/e[g],n[g]=(n[g]||0)+m*m;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=b.length,g=o?4:1;--d>-1;)_=b[d],p=x[_],h(p,s,o,u,r[_]),y&&(p.splice(0,g),p.splice(p.length-g,g));return x},c=function(t,e,i){e=e||"soft";var n,r,a,o,h,l,u,c,f,d,_,p={},g="cubic"===e?3:2,m="soft"===e,v=[];if(m&&i&&(t=[i].concat(t)),null==t||g+1>t.length)throw"invalid Bezier data";for(f in t[0])v.push(f);for(l=v.length;--l>-1;){for(f=v[l],p[f]=h=[],d=0,c=t.length,u=0;c>u;u++)n=null==i?t[u][f]:"string"==typeof(_=t[u][f])&&"="===_.charAt(1)?i[f]+Number(_.charAt(0)+_.substr(2)):Number(_),m&&u>1&&c-1>u&&(h[d++]=(n+h[d-2])/2),h[d++]=n;for(c=d-g+1,d=0,u=0;c>u;u+=g)n=h[u],r=h[u+1],a=h[u+2],o=2===g?0:h[u+3],h[d++]=_=3===g?new s(n,r,a,o):new s(n,(2*r+n)/3,(2*r+a)/3,a);h.length=d}return p},f=function(t,e,i){for(var n,r,s,a,o,h,l,u,c,f,d,_=1/i,p=t.length;--p>-1;)for(f=t[p],s=f.a,a=f.d-s,o=f.c-s,h=f.b-s,n=r=0,u=1;i>=u;u++)l=_*u,c=1-l,n=r-(r=(l*l*a+3*c*(l*o+c*h))*l),d=p*i+u-1,e[d]=(e[d]||0)+n*n},d=function(t,e){e=e>>0||6;var i,n,r,s,a=[],o=[],h=0,l=0,u=e-1,c=[],d=[];for(i in t)f(t[i],a,e);for(r=a.length,n=0;r>n;n++)h+=Math.sqrt(a[n]),s=n%e,d[s]=h,s===u&&(l+=h,s=n/e>>0,c[s]=d,o[s]=l,h=0,d=[]);return{length:l,lengths:o,segments:c}},_=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.3",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,a,o,h=e.values||[],l={},f=h[0],_=e.autoRotate||i.vars.orientToBezier;this._autoRotate=_?_ instanceof Array?_:[["x","y","rotation",_===!0?0:Number(_)||0]]:null;for(n in f)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],l[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),o||l[n]!==h[0][n]&&(o=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?u(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):c(h,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var p=d(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(_=this._autoRotate)for(this._initialRotations=[],_[0]instanceof Array||(this._autoRotate=_=[_]),s=_.length;--s>-1;){for(a=0;3>a;a++)n=_[s][a],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=_[s][2],this._initialRotations[s]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,a,o,h,l,u,c,f=this._segCount,d=this._func,_=this._target,p=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&f-1>r){for(l=f-1;l>r&&e>=(this._l2=u[++r]););this._l1=u[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(this._l1>e&&r>0){for(;r>0&&(this._l1=u[--r])>=e;);0===r&&this._l1>e?this._l1=0:r++,this._l2=u[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&c.length-1>r){for(l=c.length-1;l>r&&e>=(this._s2=c[++r]););this._s1=c[r-1],this._si=r}else if(this._s1>e&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&this._s1>e?this._s1=0:r++,this._s2=c[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?f-1:f*e>>0,o=(e-i*(1/f))*f;for(n=1-o,r=this._props.length;--r>-1;)s=this._props[r],a=this._beziers[s][i],h=(o*o*a.da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._round[s]&&(h=Math.round(h)),d[s]?_[s](h):_[s]=h;if(this._autoRotate){var g,m,v,y,w,x,b,S=this._autoRotate;
for(r=S.length;--r>-1;)s=S[r][2],x=S[r][3]||0,b=S[r][4]===!0?1:t,a=this._beziers[S[r][0]],g=this._beziers[S[r][1]],a&&g&&(a=a[i],g=g[i],m=a.a+(a.b-a.a)*o,y=a.b+(a.c-a.b)*o,m+=(y-m)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=g.a+(g.b-g.a)*o,w=g.b+(g.c-g.b)*o,v+=(w-v)*o,w+=(g.c+(g.d-g.c)*o-w)*o,h=p?Math.atan2(w-v,y-m)*b+x:this._initialRotations[r],d[s]?_[s](h):_[s]=h)}}}),p=_.prototype;_.bezierThrough=u,_.cubicToQuadratic=o,_._autoCSS=!0,_.quadraticToCubic=function(t,e,i){return new s(t,(2*e+t)/3,(2*e+i)/3,i)},_._cssRegister=function(){var t=_gsScope._gsDefine.globals.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,a,o,h){e instanceof Array&&(e={values:e}),h=new _;var l,u,c,f=e.values,d=f.length-1,p=[],g={};if(0>d)return o;for(l=0;d>=l;l++)c=i(t,f[l],a,o,h,d!==l),p[l]=c.end;for(u in e)g[u]=e[u];return g.values=p,o=new r(t,"bezier",0,0,c.pt,2),o.data=c,o.plugin=h,o.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(l=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=c.end.left?[["left","top","rotation",l,!1]]:null!=c.end.x?[["x","y","rotation",l,!1]]:!1),g.autoRotate&&(a._transform||a._enableTransforms(!1),c.autoRotate=a._target._gsTransform),h._onInitTween(c.proxy,g,a._tween),o}})}},p._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},p._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o={},h=a.prototype=new t("css");h.constructor=a,a.version="1.13.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var l,u,c,f,d,_,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,m=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,v=/[^\d\-\.]/g,y=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,C=/([A-Z])/g,T=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},M=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,O=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,z=Math.PI/180,R=180/Math.PI,E={},L=document,D=L.createElement("div"),N=L.createElement("img"),F=a._internals={_specialProps:o},j=navigator.userAgent,V=function(){var t,e=j.indexOf("Android"),i=L.createElement("div");return c=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===e||Number(j.substr(e+8,1))>3),d=c&&6>Number(j.substr(j.indexOf("Version/")+8,1)),f=-1!==j.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)&&(_=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",t=i.getElementsByTagName("a")[0],t?/^0.55/.test(t.style.opacity):!1}(),B=function(t){return w.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},X="",H="",U=function(t,e){e=e||D;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(H=3===n?"ms":i[n],X="-"+H.toLowerCase()+"-",H+t):null},Y=L.defaultView?L.defaultView.getComputedStyle:function(){},W=a.getStyle=function(t,e,i,n,r){var s;return V||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||Y(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):B(t)},Z=F.convertToPixels=function(t,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,h,l,u=M.test(i),c=t,f=D.style,d=0>n;if(d&&(n=-n),"%"===r&&-1!==i.indexOf("border"))o=n/100*(u?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+W(t,"position")+";line-height:0;","%"!==r&&c.appendChild)f[u?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||L.body,h=c._gsCache,l=e.ticker.frame,h&&u&&h.time===l)return h.width*n/100;f[u?"width":"height"]=n+r}c.appendChild(D),o=parseFloat(D[u?"offsetWidth":"offsetHeight"]),c.removeChild(D),u&&"%"===r&&a.cacheWidths!==!1&&(h=c._gsCache=c._gsCache||{},h.time=l,h.width=100*(o/n)),0!==o||s||(o=Z(t,i,n,r,!0))}return d?-o:o},$=F.calculateOffset=function(t,e,i){if("absolute"!==W(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=W(t,"margin"+n,i);return t["offset"+n]-(Z(t,e,parseFloat(r),r.replace(y,""))||0)},G=function(t,e){var i,n,r={};if(e=e||Y(t,null))if(i=e.length)for(;--i>-1;)r[e[i].replace(T,k)]=e.getPropertyValue(e[i]);else for(i in e)r[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===r[i]&&(r[i.replace(T,k)]=e[i]);return V||(r.opacity=B(t)),n=Ce(t,e,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,be&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},Q=function(t,e,i,n,r){var s,a,o,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(s=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(h[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[a]||""===e[a].replace(v,"")?s:0:$(t,a),void 0!==l[a]&&(o=new ce(l,a,l[a],o)));if(n)for(a in n)"className"!==a&&(h[a]=n[a]);return{difs:h,firstMPT:o}},J={width:["Left","Right"],height:["Top","Bottom"]},K=["marginLeft","marginRight","marginTop","marginBottom"],te=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=J[e],s=r.length;for(i=i||Y(t,null);--s>-1;)n-=parseFloat(W(t,"padding"+r[s],i,!0))||0,n-=parseFloat(W(t,"border"+r[s]+"Width",i,!0))||0;return n},ee=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(n.replace(v,"")),e.oy=parseFloat(r.replace(v,""))),n+" "+r+(i.length>2?" "+i[2]:"")},ie=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},re=function(t,e,i,n){var r,s,a,o,h=1e-6;return null==t?o=e:"number"==typeof t?o=t:(r=360,s=t.split("_"),a=Number(s[0].replace(v,""))*(-1===t.indexOf("rad")?1:R)-("="===t.charAt(1)?0:e),s.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(0|a/r)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(0|a/r)*r)),o=e+a),h>o&&o>-h&&(o=0),o},se={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ae=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},oe=function(t){var e,i,n,r,s,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),se[t]?se[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(p),r=Number(t[0])%360/360,s=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(s+1):a+s-a*s,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=ae(r+1/3,e,i),t[1]=ae(r,e,i),t[2]=ae(r-1/3,e,i),t):(t=t.match(p)||se.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):se.black},he="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in se)he+="|"+h+"\\b";he=RegExp(he+")","gi");var le=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(he)||[""])[0]:"",a=t.split(s).join("").match(m)||[],o=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",u=a.length,c=u>0?a[0].replace(p,""):"";return u?r=e?function(t){var e,f,d,_;if("number"==typeof t)t+=c;else if(n&&I.test(t)){for(_=t.replace(I,"|").split("|"),d=0;_.length>d;d++)_[d]=r(_[d]);return _.join(",")}if(e=(t.match(he)||[s])[0],f=t.split(e).join("").match(m)||[],d=f.length,u>d--)for(;u>++d;)f[d]=i?f[0|(d-1)/2]:a[d];return o+f.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,f;if("number"==typeof t)t+=c;else if(n&&I.test(t)){for(s=t.replace(I,"|").split("|"),f=0;s.length>f;f++)s[f]=r(s[f]);return s.join(",")}if(e=t.match(m)||[],f=e.length,u>f--)for(;u>++f;)e[f]=i?e[0|(f-1)/2]:a[f];return o+e.join(l)+h}:function(t){return t}},ue=function(t){return t=t.split(","),function(e,i,n,r,s,a,o){var h,l=(i+"").split(" ");for(o={},h=0;4>h;h++)o[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return r.parse(e,o,s,a)}},ce=(F._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s=this.data,a=s.proxy,o=s.firstMPT,h=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):h>e&&e>-h&&(e=0),o.t[o.p]=e,o=o._next;if(s.autoRotate&&(s.autoRotate.rotation=a.rotation),1===t)for(o=s.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),fe=(F._parseToProxy=function(t,e,i,n,r,s){var a,o,h,l,u,c=n,f={},d={},_=i._transform,p=E;for(i._transform=null,E=e,n=u=i.parse(t,e,n,r),E=p,s&&(i._transform=_,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(1>=n.type&&(o=n.p,d[o]=n.s+n.c,f[o]=n.s,s||(l=new ce(n,"s",o,l,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)h="xn"+a,o=n.p+"_"+h,d[o]=n.data[h],f[o]=n[h],s||(l=new ce(n,h,o,l,n.rxp[h]));n=n._next}return{proxy:f,end:d,firstMPT:l,pt:u}},F.CSSPropTween=function(t,e,n,r,a,o,h,l,u,c,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=h||e,t instanceof fe||s.push(this.n),this.r=l,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+r:f,a&&(this._next=a,a._prev=this)}),de=a.parseComplex=function(t,e,i,n,r,s,a,o,h,u){i=i||s||"",a=new fe(t,e,0,0,a,u?2:1,null,!1,o,i,n),n+="";var c,f,d,_,m,v,y,w,x,b,C,T,P=i.split(", ").join(",").split(" "),k=n.split(", ").join(",").split(" "),M=P.length,A=l!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(P=P.join(" ").replace(I,", ").split(" "),k=k.join(" ").replace(I,", ").split(" "),M=P.length),M!==k.length&&(P=(s||"").split(" "),M=P.length),a.plugin=h,a.setRatio=u,c=0;M>c;c++)if(_=P[c],m=k[c],w=parseFloat(_),w||0===w)a.appendXtra("",w,ie(m,w),m.replace(g,""),A&&-1!==m.indexOf("px"),!0);else if(r&&("#"===_.charAt(0)||se[_]||S.test(_)))T=","===m.charAt(m.length-1)?"),":")",_=oe(_),m=oe(m),x=_.length+m.length>6,x&&!V&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(k[c]).join("transparent")):(V||(x=!1),a.appendXtra(x?"rgba(":"rgb(",_[0],m[0]-_[0],",",!0,!0).appendXtra("",_[1],m[1]-_[1],",",!0).appendXtra("",_[2],m[2]-_[2],x?",":T,!0),x&&(_=4>_.length?1:_[3],a.appendXtra("",_,(4>m.length?1:m[3])-_,T,!1)));else if(v=_.match(p)){if(y=m.match(g),!y||y.length!==v.length)return a;for(d=0,f=0;v.length>f;f++)C=v[f],b=_.indexOf(C,d),a.appendXtra(_.substr(d,b-d),Number(C),ie(y[f],C),"",A&&"px"===_.substr(b+C.length,2),0===f),d=b+C.length;a["xs"+a.l]+=_.substr(d)}else a["xs"+a.l]+=a.l?" "+_:_;if(-1!==n.indexOf("=")&&a.data){for(T=a.xs0+a.data.s,c=1;a.l>c;c++)T+=a["xs"+c]+a.data["xn"+c];a.e=T+a["xs"+c]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},_e=9;for(h=fe.prototype,h.l=h.pr=0;--_e>0;)h["xn"+_e]=0,h["xs"+_e]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,n,r,s){var a=this,o=a.l;return a["xs"+o]+=s&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new fe(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(n||""),a)};var pe=function(t,e){e=e||{},this.p=e.prefix?U(t)||t:t,o[t]=o[this.p]=this,this.format=e.formatter||le(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ge=F._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,s=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;s.length>n;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,r=new pe(s[n],e)},me=function(t){if(!o[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ge(t,{parser:function(t,i,n,r,s,a,h){var l=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[e];return l?(l._cssRegister(),o[n].parse(t,i,n,r,s,a,h)):(q("Error: "+e+" js file not loaded."),s)}})}};h=pe.prototype,h.parseComplex=function(t,e,i,n,r,s){var a,o,h,l,u,c,f=this.keyword;if(this.multi&&(I.test(i)||I.test(e)?(o=e.replace(I,"|").split("|"),h=i.replace(I,"|").split("|")):f&&(o=[e],h=[i])),h){for(l=h.length>o.length?h.length:o.length,a=0;l>a;a++)e=o[a]=o[a]||this.dflt,i=h[a]=h[a]||this.dflt,f&&(u=e.indexOf(f),c=i.indexOf(f),u!==c&&(i=-1===c?h:o,i[a]+=" "+f));e=o.join(", "),i=h.join(", ")}return de(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},h.parse=function(t,e,i,n,s,a){return this.parseComplex(t.style,this.format(W(t,this.p,r,!1,this.dflt)),this.format(e),s,a)},a.registerSpecialProp=function(t,e,i){ge(t,{parser:function(t,n,r,s,a,o){var h=new fe(t,r,0,0,a,2,r,!1,i);return h.plugin=o,h.setRatio=e(t,n,s._tween,r),h},priority:i})};var ve="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),ye=U("transform"),we=X+"transform",xe=U("transformOrigin"),be=null!==U("perspective"),Se=F.Transform=function(){this.skewY=0},Ce=F.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var r,s,o,h,l,u,c,f,d,_,p,g,m,v=i?t._gsTransform||new Se:new Se,y=0>v.scaleX,w=2e-5,x=1e5,b=179.99,S=b*z,C=be?parseFloat(W(t,xe,e,!1,"0 0 0").split(" ")[2])||v.zOrigin||0:0;if(ye?r=W(t,we,e,!0):t.currentStyle&&(r=t.currentStyle.filter.match(A),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),v.x||0,v.y||0].join(","):""),r&&"none"!==r&&"matrix(1, 0, 0, 1, 0, 0)"!==r){for(s=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],o=s.length;--o>-1;)h=Number(s[o]),s[o]=(l=h-(h|=0))?(0|l*x+(0>l?-.5:.5))/x+h:h;if(16===s.length){var T=s[8],P=s[9],k=s[10],M=s[12],O=s[13],I=s[14];if(v.zOrigin&&(I=-v.zOrigin,M=T*I-s[12],O=P*I-s[13],I=k*I+v.zOrigin-s[14]),!i||n||null==v.rotationX){var E,L,D,N,F,j,V,B=s[0],q=s[1],X=s[2],H=s[3],U=s[4],Y=s[5],Z=s[6],$=s[7],G=s[11],Q=Math.atan2(Z,k),J=-S>Q||Q>S;v.rotationX=Q*R,Q&&(N=Math.cos(-Q),F=Math.sin(-Q),E=U*N+T*F,L=Y*N+P*F,D=Z*N+k*F,T=U*-F+T*N,P=Y*-F+P*N,k=Z*-F+k*N,G=$*-F+G*N,U=E,Y=L,Z=D),Q=Math.atan2(T,B),v.rotationY=Q*R,Q&&(j=-S>Q||Q>S,N=Math.cos(-Q),F=Math.sin(-Q),E=B*N-T*F,L=q*N-P*F,D=X*N-k*F,P=q*F+P*N,k=X*F+k*N,G=H*F+G*N,B=E,q=L,X=D),Q=Math.atan2(q,Y),v.rotation=Q*R,Q&&(V=-S>Q||Q>S,N=Math.cos(-Q),F=Math.sin(-Q),B=B*N+U*F,L=q*N+Y*F,Y=q*-F+Y*N,Z=X*-F+Z*N,q=L),V&&J?v.rotation=v.rotationX=0:V&&j?v.rotation=v.rotationY=0:j&&J&&(v.rotationY=v.rotationX=0),v.scaleX=(0|Math.sqrt(B*B+q*q)*x+.5)/x,v.scaleY=(0|Math.sqrt(Y*Y+P*P)*x+.5)/x,v.scaleZ=(0|Math.sqrt(Z*Z+k*k)*x+.5)/x,v.skewX=0,v.perspective=G?1/(0>G?-G:G):0,v.x=M,v.y=O,v.z=I}}else if(!(be&&!n&&s.length&&v.x===s[4]&&v.y===s[5]&&(v.rotationX||v.rotationY)||void 0!==v.x&&"none"===W(t,"display",e))){var K=s.length>=6,te=K?s[0]:1,ee=s[1]||0,ie=s[2]||0,ne=K?s[3]:1;v.x=s[4]||0,v.y=s[5]||0,u=Math.sqrt(te*te+ee*ee),c=Math.sqrt(ne*ne+ie*ie),f=te||ee?Math.atan2(ee,te)*R:v.rotation||0,d=ie||ne?Math.atan2(ie,ne)*R+f:v.skewX||0,_=u-Math.abs(v.scaleX||0),p=c-Math.abs(v.scaleY||0),Math.abs(d)>90&&270>Math.abs(d)&&(y?(u*=-1,d+=0>=f?180:-180,f+=0>=f?180:-180):(c*=-1,d+=0>=d?180:-180)),g=(f-v.rotation)%180,m=(d-v.skewX)%180,(void 0===v.skewX||_>w||-w>_||p>w||-w>p||g>-b&&b>g&&!1|g*x||m>-b&&b>m&&!1|m*x)&&(v.scaleX=u,v.scaleY=c,v.rotation=f,v.skewX=d),be&&(v.rotationX=v.rotationY=v.z=0,v.perspective=parseFloat(a.defaultTransformPerspective)||0,v.scaleZ=1)}v.zOrigin=C;for(o in v)w>v[o]&&v[o]>-w&&(v[o]=0)}else v={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,perspective:0,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return i&&(t._gsTransform=v),v.xPercent=v.yPercent=0,v},Te=function(t){var e,i,n=this.data,r=-n.rotation*z,s=r+n.skewX*z,a=1e5,o=(0|Math.cos(r)*n.scaleX*a)/a,h=(0|Math.sin(r)*n.scaleX*a)/a,l=(0|Math.sin(s)*-n.scaleY*a)/a,u=(0|Math.cos(s)*n.scaleY*a)/a,c=this.t.style,f=this.t.currentStyle;if(f){i=h,h=-l,l=-i,e=f.filter,c.filter="";var d,p,g=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==f.position,x="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+h+", M21="+l+", M22="+u,b=n.x+g*n.xPercent/100,S=n.y+m*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?.01*g*n.ox:n.ox)-g/2,p=(n.oyp?.01*m*n.oy:n.oy)-m/2,b+=d-(d*o+p*h),S+=p-(d*l+p*u)),v?(d=g/2,p=m/2,x+=", Dx="+(d-(d*o+p*h)+b)+", Dy="+(p-(d*l+p*u)+S)+")"):x+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(O,x):x+" "+e,(0===t||1===t)&&1===o&&0===h&&0===l&&1===u&&(v&&-1===x.indexOf("Dx=0, Dy=0")||w.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var C,T,P,k=8>_?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>o?-o:o)*g+(0>h?-h:h)*m))/2+b),n.ieOffsetY=Math.round((m-((0>u?-u:u)*m+(0>l?-l:l)*g))/2+S),_e=0;4>_e;_e++)T=K[_e],C=f[T],i=-1!==C.indexOf("px")?parseFloat(C):Z(this.t,T,parseFloat(C),C.replace(y,""))||0,P=i!==n[T]?2>_e?-n.ieOffsetX:-n.ieOffsetY:2>_e?d-n.ieOffsetX:p-n.ieOffsetY,c[T]=(n[T]=Math.round(i-P*(0===_e||2===_e?1:k)))+"px"}}},Pe=F.set3DTransformRatio=function(t){var e,i,n,r,s,a,o,h,l,u,c,d,_,p,g,m,v,y,w,x,b,S,C,T=this.data,P=this.t.style,k=T.rotation*z,M=T.scaleX,A=T.scaleY,O=T.scaleZ,I=T.x,R=T.y,E=T.z,L=T.perspective;if(!(1!==t&&0!==t||"auto"!==T.force3D||T.rotationY||T.rotationX||1!==O||L||E))return ke.call(this,t),void 0;if(f){var D=1e-4;D>M&&M>-D&&(M=O=2e-5),D>A&&A>-D&&(A=O=2e-5),!L||T.z||T.rotationX||T.rotationY||(L=0)}if(k||T.skewX)y=Math.cos(k),w=Math.sin(k),e=y,s=w,T.skewX&&(k-=T.skewX*z,y=Math.cos(k),w=Math.sin(k),"simple"===T.skewType&&(x=Math.tan(T.skewX*z),x=Math.sqrt(1+x*x),y*=x,w*=x)),i=-w,a=y;else{if(!(T.rotationY||T.rotationX||1!==O||L))return P[ye]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+R+"px,"+E+"px)"+(1!==M||1!==A?" scale("+M+","+A+")":""),void 0;e=a=1,i=s=0}c=1,n=r=o=h=l=u=d=_=p=0,g=L?-1/L:0,m=T.zOrigin,v=1e5,k=T.rotationY*z,k&&(y=Math.cos(k),w=Math.sin(k),l=c*-w,_=g*-w,n=e*w,o=s*w,c*=y,g*=y,e*=y,s*=y),k=T.rotationX*z,k&&(y=Math.cos(k),w=Math.sin(k),x=i*y+n*w,b=a*y+o*w,S=u*y+c*w,C=p*y+g*w,n=i*-w+n*y,o=a*-w+o*y,c=u*-w+c*y,g=p*-w+g*y,i=x,a=b,u=S,p=C),1!==O&&(n*=O,o*=O,c*=O,g*=O),1!==A&&(i*=A,a*=A,u*=A,p*=A),1!==M&&(e*=M,s*=M,l*=M,_*=M),m&&(d-=m,r=n*d,h=o*d,d=c*d+m),r=(x=(r+=I)-(r|=0))?(0|x*v+(0>x?-.5:.5))/v+r:r,h=(x=(h+=R)-(h|=0))?(0|x*v+(0>x?-.5:.5))/v+h:h,d=(x=(d+=E)-(d|=0))?(0|x*v+(0>x?-.5:.5))/v+d:d,P[ye]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(")+[(0|e*v)/v,(0|s*v)/v,(0|l*v)/v,(0|_*v)/v,(0|i*v)/v,(0|a*v)/v,(0|u*v)/v,(0|p*v)/v,(0|n*v)/v,(0|o*v)/v,(0|c*v)/v,(0|g*v)/v,r,h,d,L?1+-d/L:1].join(",")+")"},ke=F.set2DTransformRatio=function(t){var e,i,n,r,s,a=this.data,o=this.t,h=o.style,l=a.x,u=a.y;return a.rotationX||a.rotationY||a.z||a.force3D===!0||"auto"===a.force3D&&1!==t&&0!==t?(this.setRatio=Pe,Pe.call(this,t),void 0):(a.rotation||a.skewX?(e=a.rotation*z,i=e-a.skewX*z,n=1e5,r=a.scaleX*n,s=a.scaleY*n,h[ye]=(a.xPercent||a.yPercent?"translate("+a.xPercent+"%,"+a.yPercent+"%) matrix(":"matrix(")+(0|Math.cos(e)*r)/n+","+(0|Math.sin(e)*r)/n+","+(0|Math.sin(i)*-s)/n+","+(0|Math.cos(i)*s)/n+","+l+","+u+")"):h[ye]=(a.xPercent||a.yPercent?"translate("+a.xPercent+"%,"+a.yPercent+"%) matrix(":"matrix(")+a.scaleX+",0,0,"+a.scaleY+","+l+","+u+")",void 0)};ge("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,n,s,o,h){if(n._transform)return s;var l,u,c,f,d,_,p,g=n._transform=Ce(t,r,!0,h.parseTransform),m=t.style,v=1e-6,y=ve.length,w=h,x={};if("string"==typeof w.transform&&ye)c=D.style,c[ye]=w.transform,c.display="block",c.position="absolute",L.body.appendChild(D),l=Ce(D,null,!1),L.body.removeChild(D);else if("object"==typeof w){if(l={scaleX:ne(null!=w.scaleX?w.scaleX:w.scale,g.scaleX),scaleY:ne(null!=w.scaleY?w.scaleY:w.scale,g.scaleY),scaleZ:ne(w.scaleZ,g.scaleZ),x:ne(w.x,g.x),y:ne(w.y,g.y),z:ne(w.z,g.z),xPercent:ne(w.xPercent,g.xPercent),yPercent:ne(w.yPercent,g.yPercent),perspective:ne(w.transformPerspective,g.perspective)},p=w.directionalRotation,null!=p)if("object"==typeof p)for(c in p)w[c]=p[c];else w.rotation=p;"string"==typeof w.x&&-1!==w.x.indexOf("%")&&(l.x=0,l.xPercent=ne(w.x,g.xPercent)),"string"==typeof w.y&&-1!==w.y.indexOf("%")&&(l.y=0,l.yPercent=ne(w.y,g.yPercent)),l.rotation=re("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:g.rotation,g.rotation,"rotation",x),be&&(l.rotationX=re("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",x),l.rotationY=re("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",x)),l.skewX=null==w.skewX?g.skewX:re(w.skewX,g.skewX),l.skewY=null==w.skewY?g.skewY:re(w.skewY,g.skewY),(u=l.skewY-g.skewY)&&(l.skewX+=u,l.rotation+=u)}for(be&&null!=w.force3D&&(g.force3D=w.force3D,_=!0),g.skewType=w.skewType||g.skewType||a.defaultSkewType,d=g.force3D||g.z||g.rotationX||g.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,d||null==w.scale||(l.scaleZ=1);--y>-1;)i=ve[y],f=l[i]-g[i],(f>v||-v>f||null!=E[i])&&(_=!0,s=new fe(g,i,g[i],f,s),i in x&&(s.e=x[i]),s.xs0=0,s.plugin=o,n._overwriteProps.push(s.n));return f=w.transformOrigin,(f||be&&d&&g.zOrigin)&&(ye?(_=!0,i=xe,f=(f||W(t,i,r,!1,"50% 50%"))+"",s=new fe(m,i,0,0,s,-1,"transformOrigin"),s.b=m[i],s.plugin=o,be?(c=g.zOrigin,f=f.split(" "),g.zOrigin=(f.length>2&&(0===c||"0px"!==f[2])?parseFloat(f[2]):c)||0,s.xs0=s.e=f[0]+" "+(f[1]||"50%")+" 0px",s=new fe(g,"zOrigin",0,0,s,-1,s.n),s.b=c,s.xs0=s.e=g.zOrigin):s.xs0=s.e=f):ee(f+"",g)),_&&(n._transformType=d||3===this._transformType?3:2),s},prefix:!0}),ge("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ge("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,a){e=this.format(e);var o,h,l,u,c,f,d,_,p,g,m,v,y,w,x,b,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=t.style;for(p=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),o=e.split(" "),h=0;S.length>h;h++)this.p.indexOf("border")&&(S[h]=U(S[h])),c=u=W(t,S[h],r,!1,"0px"),-1!==c.indexOf(" ")&&(u=c.split(" "),c=u[0],u=u[1]),f=l=o[h],d=parseFloat(c),v=c.substr((d+"").length),y="="===f.charAt(1),y?(_=parseInt(f.charAt(0)+"1",10),f=f.substr(2),_*=parseFloat(f),m=f.substr((_+"").length-(0>_?1:0))||""):(_=parseFloat(f),m=f.substr((_+"").length)),""===m&&(m=n[i]||v),m!==v&&(w=Z(t,"borderLeft",d,v),x=Z(t,"borderTop",d,v),"%"===m?(c=100*(w/p)+"%",u=100*(x/g)+"%"):"em"===m?(b=Z(t,"borderLeft",1,"em"),c=w/b+"em",u=x/b+"em"):(c=w+"px",u=x+"px"),y&&(f=parseFloat(c)+_+m,l=parseFloat(u)+_+m)),a=de(C,S[h],c+" "+u,f+" "+l,!1,"0px",a);return a},prefix:!0,formatter:le("0px 0px 0px 0px",!1,!0)}),ge("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,a){var o,h,l,u,c,f,d="background-position",p=r||Y(t,null),g=this.format((p?_?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==g.indexOf("%")!=(-1!==m.indexOf("%"))&&(f=W(t,"backgroundImage").replace(P,""),f&&"none"!==f)){for(o=g.split(" "),h=m.split(" "),N.setAttribute("src",f),l=2;--l>-1;)g=o[l],u=-1!==g.indexOf("%"),u!==(-1!==h[l].indexOf("%"))&&(c=0===l?t.offsetWidth-N.width:t.offsetHeight-N.height,o[l]=u?parseFloat(g)/100*c+"px":100*(parseFloat(g)/c)+"%");g=o.join(" ")}return this.parseComplex(t.style,g,m,s,a)},formatter:ee}),ge("backgroundSize",{defaultValue:"0 0",formatter:ee}),ge("perspective",{defaultValue:"0px",prefix:!0}),ge("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ge("transformStyle",{prefix:!0}),ge("backfaceVisibility",{prefix:!0}),ge("userSelect",{prefix:!0}),ge("margin",{parser:ue("marginTop,marginRight,marginBottom,marginLeft")}),ge("padding",{parser:ue("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ge("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,a){var o,h,l;return 9>_?(h=t.currentStyle,l=8>_?" ":",",o="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(o=this.format(W(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,s,a)}}),ge("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ge("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),ge("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,a){return this.parseComplex(t.style,this.format(W(t,"borderTopWidth",r,!1,"0px")+" "+W(t,"borderTopStyle",r,!1,"solid")+" "+W(t,"borderTopColor",r,!1,"#000")),this.format(e),s,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(he)||["#000"])[0]}}),ge("borderWidth",{parser:ue("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ge("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new fe(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var Me=function(t){var e,i=this.t,n=i.filter||W(this.data,"filter"),r=0|this.s+this.c*t;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!W(this.data,"filter")):(i.filter=n.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(w,"opacity="+r))};ge("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,a){var o=parseFloat(W(t,"opacity",r,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),l&&1===o&&"hidden"===W(t,"visibility",r)&&0!==e&&(o=0),V?s=new fe(h,"opacity",o,e-o,s):(s=new fe(h,"opacity",100*o,100*(e-o),s),s.xn1=l?1:0,h.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=a,s.setRatio=Me),l&&(s=new fe(h,"visibility",0,0,s,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Ae=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Oe=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ae(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ge("className",{parser:function(t,e,n,s,a,o,h){var l,u,c,f,d,_=t.getAttribute("class")||"",p=t.style.cssText;if(a=s._classNamePT=new fe(t,n,0,0,a,2),a.setRatio=Oe,a.pr=-11,i=!0,a.b=_,u=G(t,r),c=t._gsClassPT){for(f={},d=c.data;d;)f[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:_.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),s._tween._duration&&(t.setAttribute("class",a.e),l=Q(t,u,G(t),h,f),t.setAttribute("class",_),a.data=l.firstMPT,t.style.cssText=p,a=a.xfirst=s.parse(t,l.difs,a,o)),a}});var Ie=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s=this.t.style,a=o.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(","),n=e.length;--n>-1;)i=e[n],o[i]&&(o[i].parse===a?r=!0:i="transformOrigin"===i?xe:o[i].p),Ae(s,i);r&&(Ae(s,ye),this.t._gsTransform&&delete this.t._gsTransform)}};for(ge("clearProps",{parser:function(t,e,n,r,s){return s=new fe(t,n,0,0,s,2),s.setRatio=Ie,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),h="bezier,throwProps,physicsProps,physics2D".split(","),_e=h.length;_e--;)me(h[_e]);h=a.prototype,h._firstPT=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,l=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,r=Y(t,""),s=this._overwriteProps;var h,f,_,p,g,m,v,y,w,b=t.style;if(u&&""===b.zIndex&&(h=W(t,"zIndex",r),("auto"===h||""===h)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(p=b.cssText,h=G(t,r),b.cssText=p+";"+e,h=Q(t,h,G(t)).difs,!V&&x.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,b.cssText=p),this._firstPT=f=this.parse(t,e,null),this._transformType){for(w=3===this._transformType,ye?c&&(u=!0,""===b.zIndex&&(v=W(t,"zIndex",r),("auto"===v||""===v)&&this._addLazySet(b,"zIndex",0)),d&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):b.zoom=1,_=f;_&&_._next;)_=_._next;y=new fe(t,"transform",0,0,null,2),this._linkCSSP(y,null,_),y.setRatio=w&&be?Pe:ye?ke:Te,y.data=this._transform||Ce(t,r,!0),s.pop()}if(i){for(;f;){for(m=f._next,_=p;_&&_.pr>f.pr;)_=_._next;(f._prev=_?_._prev:g)?f._prev._next=f:p=f,(f._next=_)?_._prev=f:g=f,f=m}this._firstPT=p}return!0},h.parse=function(t,e,i,s){var a,h,u,c,f,d,_,p,g,m,v=t.style;for(a in e)d=e[a],h=o[a],h?i=h.parse(t,d,a,this,i,s,e):(f=W(t,a,r)+"",g="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||g&&S.test(d)?(g||(d=oe(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=de(v,a,f,d,!0,"transparent",i,0,s)):!g||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(u=parseFloat(f),_=u||0===u?f.substr((u+"").length):"",(""===f||"auto"===f)&&("width"===a||"height"===a?(u=te(t,a,r),_="px"):"left"===a||"top"===a?(u=$(t,a,r),_="px"):(u="opacity"!==a?0:1,_="")),m=g&&"="===d.charAt(1),m?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),p=d.replace(y,"")):(c=parseFloat(d),p=g?d.substr((c+"").length)||"":""),""===p&&(p=a in n?n[a]:_),d=c||0===c?(m?c+u:c)+p:e[a],_!==p&&""!==p&&(c||0===c)&&u&&(u=Z(t,a,u,_),"%"===p?(u/=Z(t,a,100,"%")/100,e.strictUnits!==!0&&(f=u+"%")):"em"===p?u/=Z(t,a,1,"em"):"px"!==p&&(c=Z(t,a,c,p),p="px"),m&&(c||0===c)&&(d=c+u+p)),m&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==v[a]&&(d||"NaN"!=d+""&&null!=d)?(i=new fe(v,a,c||u||0,0,i,-1,a,!1,0,f,d),i.xs0="none"!==d||"display"!==a&&-1===a.indexOf("Style")?d:f):q("invalid "+a+" tween value: "+e[a]):(i=new fe(v,a,u,c-u,i,0,a,l!==!1&&("px"===p||"zIndex"===a),0,f,d),i.xs0=p)):i=de(v,a,f,d,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);
return i},h.setRatio=function(t){var e,i,n,r=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):s>e&&e>-s&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(t),r=r._next},h._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||Ce(this._target,r,!0)};var ze=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var n=this._firstPT=new fe(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=ze,n.data=this},h._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var Re=function(t,e,i){var n,r,s,a;if(t.slice)for(r=t.length;--r>-1;)Re(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)s=n[r],a=s.type,s.style&&(e.push(G(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||Re(s,e,i)};return a.cascadeTo=function(t,i,n){var r,s,a,o=e.to(t,i,n),h=[o],l=[],u=[],c=[],f=e._internals.reservedProps;for(t=o._targets||o.target,Re(t,l,c),o.render(i,!0),Re(t,u),o.render(0,!0),o._enabled(!0),r=c.length;--r>-1;)if(s=Q(c[r],l[r],u[r]),s.firstMPT){s=s.difs;for(a in n)f[a]&&(s[a]=n[a]);h.push(e.to(c[r],i,s))}return h},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,n=this._tween,r=n.vars.roundProps instanceof Array?n.vars.roundProps:n.vars.roundProps.split(","),s=r.length,a={},o=n._propLookup.roundProps;--s>-1;)a[r[s]]=1;for(s=r.length;--s>-1;)for(t=r[s],e=n._firstPT;e;)i=e._next,e.pg?e.t._roundProps(a,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:n._firstPT===e&&(n._firstPT=i),e._next=e._prev=null,n._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(t,e){var i,n,r;if("function"!=typeof t.setAttribute)return!1;this._target=t,this._proxy={},this._start={},this._end={};for(i in e)this._start[i]=this._proxy[i]=n=t.getAttribute(i),r=this._addTween(this._proxy,i,parseFloat(n),e[i],i),this._end[i]=r?r.s+r.c:e[i],this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,n=i.length,r=1===t?this._end:t?this._proxy:this._start;--n>-1;)e=i[n],this._target.setAttribute(e,r[e]+"")}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,n,r,s,a,o,h=e.useRadians===!0?2*Math.PI:360,l=1e-6;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),n=o[0],r=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof n&&"="===n.charAt(1)?r+parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)):Number(n)||0,a=s-r,o.length&&(n=o.join("_"),-1!==n.indexOf("short")&&(a%=h,a!==a%(h/2)&&(a=0>a?a+h:a-h)),-1!==n.indexOf("_cw")&&0>a?a=(a+9999999999*h)%h-(0|a/h)*h:-1!==n.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(0|a/h)*h)),(a>l||-l>a)&&(this._addTween(t,i,r,r+a,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=_gsScope.GreenSockGlobals||_gsScope,s=r.com.greensock,a=2*Math.PI,o=Math.PI/2,h=s._class,l=function(e,i){var n=h("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},u=t.register||function(){},c=function(t,e,i,n){var r=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(r,t),r},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},d=function(e,i){var n=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},_=c("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),p=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=p.prototype=new t;return g.constructor=p,g.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},p.ease=new p(.7,.7),g.config=p.config=function(t,e,i){return new p(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},i=h("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,a,o,h=e.taper||"none",l=[],u=0,c=0|(e.points||20),d=c,_=e.randomize!==!1,p=e.clamp===!0,g=e.template instanceof t?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=_?Math.random():1/c*d,n=g?g.getRatio(i):i,"none"===h?r=m:"out"===h?(s=1-i,r=s*s*m):"in"===h?r=i*i*m:.5>i?(s=2*i,r=.5*s*s*m):(s=2*(1-i),r=.5*s*s*m),_?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,p&&(n>1?n=1:0>n&&(n=0)),l[u++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),o=new f(1,1,null),d=c;--d>-1;)a=l[d],o=new f(a.x,a.y,o);this._prev=new f(0,0,0!==o.t?o:o.next)},!0),g=i.prototype=new t,g.constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,c("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=h("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*a/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2))},.3),n("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*a/this._p2)+1},.45)),c("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",l("SineOut",function(t){return Math.sin(t*o)}),l("SineIn",function(t){return-Math.cos(t*o)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(r.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),_},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var n,r,s,a,o,h=function(t){var e,n=t.split("."),r=i;for(e=0;n.length>e;e++)r[n[e]]=r=r[n[e]]||{};return r},l=h("com.greensock"),u=1e-10,c=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},f=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),_={},p=function(n,r,s,a){this.sc=_[n]?_[n].sc:[],_[n]=this,this.gsClass=null,this.func=s;var o=[];this.check=function(l){for(var u,c,f,d,g=r.length,m=g;--g>-1;)(u=_[r[g]]||new p(r[g],[])).gsClass?(o[g]=u.gsClass,m--):l&&u.sc.push(this);if(0===m&&s)for(c=("com.greensock."+n).split("."),f=c.pop(),d=h(c.join("."))[f]=this.gsClass=s.apply(s,o),a&&(i[f]=d,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return d}):n===e&&"undefined"!=typeof module&&module.exports&&(module.exports=d)),g=0;this.sc.length>g;g++)this.sc[g].check()},this.check(!0)},g=t._gsDefine=function(t,e,i,n){return new p(t,e,i,n)},m=l._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=i;var v=[0,0,1,1],y=[],w=m("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?v.concat(e):v},!0),x=w.map={},b=w.register=function(t,e,i,n){for(var r,s,a,o,h=e.split(","),u=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=h[u],r=n?m("easing."+s,null,!0):l.easing[s]||{},a=c.length;--a>-1;)o=c[a],x[s+"."+o]=x[o+s]=r[o]=t.getRatio?t:t[o]||new t};for(s=w.prototype,s._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=n.length;--r>-1;)s=n[r]+",Power"+r,b(new w(null,null,1,r),s,"easeOut",!0),b(new w(null,null,2,r),s,"easeIn"+(0===r?",easeNone":"")),b(new w(null,null,3,r),s,"easeInOut");x.linear=l.easing.Linear.easeIn,x.swing=l.easing.Quad.easeInOut;var S=m("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});s=S.prototype,s.addEventListener=function(t,e,i,n,r){r=r||0;var s,h,l=this._listeners[t],u=0;for(null==l&&(this._listeners[t]=l=[]),h=l.length;--h>-1;)s=l[h],s.c===e&&s.s===i?l.splice(h,1):0===u&&r>s.pr&&(u=h+1);l.splice(u,0,{c:e,s:i,up:n,pr:r}),this!==a||o||a.wake()},s.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return n.splice(i,1),void 0},s.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i)};var C=t.requestAnimationFrame,T=t.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},k=P();for(n=["ms","moz","webkit","o"],r=n.length;--r>-1&&!C;)C=t[n[r]+"RequestAnimationFrame"],T=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var i,n,r,s,h,l=this,c=P(),d=e!==!1&&C,_=500,p=33,g=function(t){var e,a,o=P()-k;o>_&&(c+=o-p),k+=o,l.time=(k-c)/1e3,e=l.time-h,(!i||e>0||t===!0)&&(l.frame++,h+=e+(e>=s?.004:s-e),a=!0),t!==!0&&(r=n(g)),a&&l.dispatchEvent("tick")};S.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(t,e){_=t||1/u,p=Math.min(e,_,0)},l.sleep=function(){null!=r&&(d&&T?T(r):clearTimeout(r),n=f,r=null,l===a&&(o=!1))},l.wake=function(){null!==r?l.sleep():l.frame>10&&(k=P()-_+5),n=0===i?f:d&&C?C:function(t){return setTimeout(t,0|1e3*(h-l.time)+1)},l===a&&(o=!0),g(2)},l.fps=function(t){return arguments.length?(i=t,s=1/(i||60),h=this.time+s,l.wake(),void 0):i},l.useRAF=function(t){return arguments.length?(l.sleep(),d=t,l.fps(i),void 0):d},l.fps(t),setTimeout(function(){d&&(!r||5>l.frame)&&l.useRAF(!1)},1500)}),s=l.Ticker.prototype=new l.events.EventDispatcher,s.constructor=l.Ticker;var M=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,X){o||a.wake();var i=this.vars.useFrames?q:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=M.ticker=new l.Ticker,s=M.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var A=function(){o&&P()-k>2e3&&a.wake(),setTimeout(A,2e3)};A(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},s._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},s.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=d(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),E.length&&H())}return this},s.progress=s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||u,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){o||t||a.wake();var e=this._timeline,i=e.rawTime(),n=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var O=m("core.SimpleTimeline",function(t){M.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});s=O.prototype=new M,s.constructor=O,s.kill()._gc=!1,s._first=s._last=null,s._sortChildren=!1,s.add=s.insert=function(t,e){var i,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(n=t._startTime;i&&i._startTime>n;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},s.rawTime=function(){return o||a.wake(),this._totalTime};var I=m("TweenLite",function(e,i,n){if(M.call(this,i,n),this.render=I.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:I.selector(e)||e;var r,s,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?B[I.defaultOverwrite]:"number"==typeof h?h>>0:B[h],(o||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0])for(this._targets=a=c(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)s=a[r],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(c(s))):(this._siblings[r]=U(s,this,!1),1===h&&this._siblings[r].length>1&&Y(s,this,null,1,this._siblings[r])):(s=a[r--]=I.selector(s),"string"==typeof s&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=U(e,this,!1),1===h&&this._siblings.length>1&&Y(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-u,this.render(-this._delay))},!0),z=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},R=function(t,e){var i,n={};for(i in t)V[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!N[i]||N[i]&&N[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};s=I.prototype=new M,s.constructor=I,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,I.version="1.13.1",I.defaultEase=s._ease=new w(null,null,1,1),I.defaultOverwrite="auto",I.ticker=a,I.autoSleep=!0,I.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},I.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(I.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var E=[],L={},D=I._internals={isArray:d,isSelector:z,lazyTweens:E},N=I._plugins={},F=D.tweenLookup={},j=0,V=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1},B={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=M._rootFramesTimeline=new O,X=M._rootTimeline=new O,H=D.lazyRender=function(){var t=E.length;for(L={};--t>-1;)n=E[t],n&&n._lazy!==!1&&(n.render(n._lazy,!1,!0),n._lazy=!1);E.length=0};X._startTime=a.time,q._startTime=a.frame,X._active=q._active=!0,setTimeout(H,1),M._updateRoot=I.render=function(){var t,e,i;if(E.length&&H(),X.render((a.time-X._startTime)*X._timeScale,!1,!1),q.render((a.frame-q._startTime)*q._timeScale,!1,!1),E.length&&H(),!(a.frame%120)){for(i in F){for(e=F[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if(i=X._first,(!i||i._paused)&&I.autoSleep&&!q._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",M._updateRoot);var U=function(t,e,i){var n,r,s=t._gsTweenID;if(F[s||(t._gsTweenID=s="t"+j++)]||(F[s]={target:t,tweens:[]}),e&&(n=F[s].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return F[s].tweens},Y=function(t,e,i,n,r){var s,a,o,h;if(1===n||n>=4){for(h=r.length,s=0;h>s;s++)if((o=r[s])!==e)o._gc||o._enabled(!1,!1)&&(a=!0);else if(5===n)break;return a}var l,c=e._startTime+u,f=[],d=0,_=0===e._duration;for(s=r.length;--s>-1;)(o=r[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(l=l||W(e,0,_),0===W(o,l,_)&&(f[d++]=o)):c>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>c&&((_||!o._initted)&&2e-10>=c-o._startTime||(f[d++]=o)));for(s=d;--s>-1;)o=f[s],2===n&&o._kill(i,t)&&(a=!0),(2!==n||!o._firstPT&&o._initted)&&o._enabled(!1,!1)&&(a=!0);return a},W=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>e?s-e:i&&s===e||!t._initted&&2*u>s-e?u:(s+=t.totalDuration()/t._timeScale/r)>e+u?0:s-e-u};s._init=function(){var t,e,i,n,r,s=this.vars,a=this._overwrittenProps,o=this._duration,h=!!s.immediateRender,l=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in s.startAt)r[n]=s.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=h&&s.lazy!==!1,r.startAt=r.delay=null,this._startAt=I.to(this.target,0,r),h)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(s.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{i={};for(n in s)V[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&s.lazy!==!1,i.immediateRender=h,this._startAt=I.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1)}if(this._ease=l=l?l instanceof w?l:"function"==typeof l?new w(l,s.easeParams):x[l]||I.defaultEase:I.defaultEase,s.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(e,i,n,r){var s,a,o,h,l,u;if(null==e)return!1;L[e._gsTweenID]&&H(),this.vars.css||e.style&&e!==t&&e.nodeType&&N.css&&this.vars.autoCSS!==!1&&R(this.vars,e);for(s in this.vars){if(u=this.vars[s],V[s])u&&(u instanceof Array||u.push&&d(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(N[s]&&(h=new N[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:h._priority},a=h._overwriteProps.length;--a>-1;)i[h._overwriteProps[a]]=this._firstPT;(h._priority||h._onInitAllProps)&&(o=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=l={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},l.s=l.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),l.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-l.s||0;l&&l._next&&(l._next._prev=l)}return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&Y(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[e._gsTweenID]=!0),o)},s.render=function(t,e,i){var n,r,s,a,o=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete"),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>l||l===u)&&l!==t&&(i=!0,l>u&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:u);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===h&&l>0&&l!==u)&&(r="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:u)):this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/h,f=this._easeType,d=this._easePower;(1===f||3===f&&c>=.5)&&(c=1-c),3===f&&(c*=2),1===d?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),this.ratio=1===f?1-c:2===f?c:.5>t/h?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=l,E.push(this),this._lazy=t,void 0;this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._time!==o||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||y),0===h&&this._rawPrevTime===u&&a!==u&&(this._rawPrevTime=0))}},s._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var i,n,r,s,a,o,h,l;if((d(e)||z(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i])&&(o=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){h=t||a,l=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill);for(r in h)(s=a[r])&&(s.pg&&s.t._kill(h)&&(o=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[r]),l&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return o},s.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=this._lazy=!1,this._propLookup=this._targets?{}:[],this},s._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=U(n[i],this,!0);else this._siblings=U(this.target,this,!0)}return M.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new I(t,e,n)},I.delayedCall=function(t,e,i,n,r){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:r,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var i,n,r,s;if((d(t)||z(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(I.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=U(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=I.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var Z=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Z.prototype},!0);if(s=Z.prototype,Z.version="1.10.1",Z.API=2,s._firstPT=null,s._addTween=function(t,e,i,n,r,s){var a,o;
return null!=n&&(a="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:s},o._next&&(o._next._prev=o),o):void 0},s.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},s._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},I._onPluginEvent=function(t,e){var i,n,r,s,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:s=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},Z.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===Z.API&&(N[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=m("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Z.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new Z(i);o.constructor=a,a.API=t.API;for(e in s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return a.version=t.version,Z.activate([a]),a},n=t._gsQueue){for(r=0;n.length>r;r++)n[r]();for(s in _)_[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");/*!
 * Paper.js v0.9.20 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2014, Juerg Lehni & Jonathan Puckey
 * http://scratchdisk.com/ & http://jonathanpuckey.com/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Mon Aug 25 14:21:13 2014 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2013 Juerg Lehni
 * http://scratchdisk.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * http://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
var paper=new function(t){var e=new function(){function i(t,i,n,r,a){function o(s,o){o=o||(o=l(i,s))&&(o.get?o:o.value),"string"==typeof o&&"#"===o[0]&&(o=t[o.substring(1)]||o);var u,f="function"==typeof o,d=o,_=a||f?o&&o.get?s in t:t[s]:null;a&&_||(f&&_&&(o.base=_),f&&r!==!1&&(u=s.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(h[u[3].toLowerCase()+u[4]]=u[2]),d&&!f&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(l(t,s)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=n),c(t,s,d))}var h={};if(i){for(var u in i)i.hasOwnProperty(u)&&!s.test(u)&&o(u);for(var u in h){var f=h[u],d=t["set"+f],_=t["get"+f]||d&&t["is"+f];!_||r!==!0&&0!==_.length||o(u,{get:_,set:d})}}return t}function n(t,e,i){return t&&("length"in t&&!t.getLength&&"number"==typeof t.length?a:o).call(t,e,i=i||t),i}function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var s=/^(statics|enumerable|beans|preserve)$/,a=[].forEach||function(t,e){for(var i=0,n=this.length;n>i;i++)t.call(e,this[i],i,this)},o=function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)},h=Object.create||function(t){return{__proto__:t}},l=Object.getOwnPropertyDescriptor||function(t,e){var i=t.__lookupGetter__&&t.__lookupGetter__(e);return i?{get:i,set:t.__lookupSetter__(e),enumerable:!0,configurable:!0}:t.hasOwnProperty(e)?{value:t[e],enumerable:!0,configurable:!0,writable:!0}:null},u=Object.defineProperty||function(t,e,i){return(i.get||i.set)&&t.__defineGetter__?(i.get&&t.__defineGetter__(e,i.get),i.set&&t.__defineSetter__(e,i.set)):t[e]=i.value,t},c=function(t,e,i){return delete t[e],u(t,e,i)};return i(function(){for(var t=0,e=arguments.length;e>t;t++)r(this,arguments[t])},{inject:function(t){if(t){var e=t.statics===!0?t:t.statics,n=t.beans,r=t.preserve;e!==t&&i(this.prototype,t,t.enumerable,n,r),i(this,e,!0,n,r)}for(var s=1,a=arguments.length;a>s;s++)this.inject(arguments[s]);return this},extend:function(){for(var t,e=this,n=0,r=arguments.length;r>n&&!(t=arguments[n].initialize);n++);return t=t||function(){e.apply(this,arguments)},t.prototype=h(this.prototype),t.base=e,c(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),i(t,this,!0),arguments.length?this.inject.apply(t,arguments):t}},!0).inject({inject:function(){for(var t=0,e=arguments.length;e>t;t++){var n=arguments[t];n&&i(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=h(this);return t.inject.apply(t,arguments)},each:function(t,e){return n(this,t,e)},set:function(t){return r(this,t)},clone:function(){return new this.constructor(this)},statics:{each:n,create:h,define:c,describe:l,set:r,clone:function(t){return r(new t.constructor,t)},isPlainObject:function(t){var i=null!=t&&t.constructor;return i&&(i===Object||i===e||"Object"===i.name)},pick:function(){for(var e=0,i=arguments.length;i>e;e++)if(arguments[e]!==t)return arguments[e]}}})};"undefined"!=typeof module&&(module.exports=e),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),document.head||(document.head=document.getElementsByTagName("head")[0]),e.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+e.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?a.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},exportJSON:function(t){return e.exportJSON(this,t)},toJSON:function(){return e.serialize(this)},_set:function(i,n,r){if(i&&(r||e.isPlainObject(i))){var s=i._filtering||i;for(var a in s)if(a in this&&s.hasOwnProperty(a)&&(!n||!n[a])){var o=i[a];o!==t&&(this[a]=o)}return!0}},statics:{exports:{enumerable:!0},extend:function ne(){var t=ne.base.apply(this,arguments),i=t.prototype._class;return i&&!e.exports[i]&&(e.exports[i]=t),t},equals:function(t,i){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0}if(t===i)return!0;if(t&&t.equals)return t.equals(i);if(i&&i.equals)return i.equals(t);if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(var r=0,s=t.length;s>r;r++)if(!e.equals(t[r],i[r]))return!1;return!0}if(t&&"object"==typeof t&&i&&"object"==typeof i){if(!n(t,i)||!n(i,t))return!1;for(var r in t)if(t.hasOwnProperty(r)&&!e.equals(t[r],i[r]))return!1;return!0}return!1},read:function(i,n,r,s){if(this===e){var a=this.peek(i,n);return i.__index++,a}var o=this.prototype,h=o._readIndex,l=n||h&&i.__index||0;s||(s=i.length-l);var u=i[l];return u instanceof this||r&&r.readNull&&null==u&&1>=s?(h&&(i.__index=l+1),u&&r&&r.clone?u.clone():u):(u=e.create(this.prototype),h&&(u.__read=!0),u=u.initialize.apply(u,l>0||s<i.length?Array.prototype.slice.call(i,l,l+s):i)||u,h&&(i.__index=l+u.__read,u.__read=t),u)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readAll:function(t,e,i){for(var n,r=[],s=e||0,a=t.length;a>s;s++)r.push(Array.isArray(n=t[s])?this.read(n,0,i):this.read(t,s,i,1));return r},readNamed:function(i,n,r,s,a){var o=this.getNamed(i,n),h=o!==t;if(h){var l=i._filtered;l||(l=i._filtered=e.create(i[0]),l._filtering=i[0]),l[n]=t}return this.read(h?[o]:i,r,s,a)},getNamed:function(i,n){var r=i[0];return i._hasObject===t&&(i._hasObject=1===i.length&&e.isPlainObject(r)),i._hasObject?n?r[n]:i._filtered||r:t},hasNamed:function(t,e){return!!this.getNamed(t,e)},isPlainValue:function(t,e){return this.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,i,n,r){i=i||{};var s,o=!r;if(o&&(i.formatter=new a(i.precision),r={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[i]=r,n=this.references[i]=[i]}return n}}),t&&t._serialize){s=t._serialize(i,r);var h=t._class;!h||n||s._compact||s[0]===h||s.unshift(h)}else if(Array.isArray(t)){s=[];for(var l=0,u=t.length;u>l;l++)s[l]=e.serialize(t[l],i,n,r);n&&(s._compact=!0)}else if(e.isPlainObject(t)){s={};for(var l in t)t.hasOwnProperty(l)&&(s[l]=e.serialize(t[l],i,n,r))}else s="number"==typeof t?i.formatter.number(t,i.precision):t;return o&&r.length>0?[["dictionary",r.definitions],s]:s},deserialize:function(t,i,n){var r=t;if(n=n||{},Array.isArray(t)){var s=t[0],a="dictionary"===s;if(!a){if(n.dictionary&&1==t.length&&/^#/.test(s))return n.dictionary[s];s=e.exports[s]}r=[];for(var o=s?1:0,h=t.length;h>o;o++)r.push(e.deserialize(t[o],i,n));if(a)n.dictionary=r[0];else if(s){var l=r;i?r=i(s,l):(r=e.create(s.prototype),s.apply(r,l))}}else if(e.isPlainObject(t)){r={};for(var u in t)r[u]=e.deserialize(t[u],i,n)}return r},exportJSON:function(t,i){var n=e.serialize(t,i);return i&&i.asString===!1?n:JSON.stringify(n)},importJSON:function(t,i){return e.deserialize("string"==typeof t?JSON.parse(t):t,function(t,n){var r=i&&i.constructor===t?i:e.create(t.prototype),s=r===i;if(1===n.length&&r instanceof y&&(s||!(r instanceof x))){var a=n[0];e.isPlainObject(a)&&(a.insert=!1)}return t.apply(r,n),s&&(i=null),r})},splice:function(e,i,n,r){var s=i&&i.length,a=n===t;n=a?e.length:n,n>e.length&&(n=e.length);for(var o=0;s>o;o++)i[o]._index=n+o;if(a)return e.push.apply(e,i),[];var h=[n,r];i&&h.push.apply(h,i);for(var l=e.splice.apply(e,h),o=0,u=l.length;u>o;o++)l[o]._index=t;for(var o=n+s,u=e.length;u>o;o++)e[o]._index=o;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var n={attach:function(i,n){if("string"!=typeof i)return e.each(i,function(t,e){this.attach(e,t)},this),t;var r=this._eventTypes[i];if(r){var s=this._handlers=this._handlers||{};s=s[i]=s[i]||[],-1==s.indexOf(n)&&(s.push(n),r.install&&1==s.length&&r.install.call(this,i))}},detach:function(i,n){if("string"!=typeof i)return e.each(i,function(t,e){this.detach(e,t)},this),t;var r,s=this._eventTypes[i],a=this._handlers&&this._handlers[i];s&&a&&(!n||-1!=(r=a.indexOf(n))&&1==a.length?(s.uninstall&&s.uninstall.call(this,i),delete this._handlers[i]):-1!=r&&a.splice(r,1))},once:function(t,e){this.attach(t,function(){e.apply(this,arguments),this.detach(t,e)})},fire:function(t,e){var i=this._handlers&&this._handlers[t];if(!i)return!1;for(var n=[].slice.call(arguments,1),r=this,s=0,a=i.length;a>s;s++)if(i[s].apply(r,n)===!1&&e&&e.stop){e.stop();break}return!0},responds:function(t){return!(!this._handlers||!this._handlers[t])},on:"#attach",off:"#detach",trigger:"#fire",_installEvents:function(t){var e=this._handlers,i=t?"install":"uninstall";for(var n in e)if(e[n].length>0){var r=this._eventTypes[n],s=r[i];s&&s.call(this,n)}},statics:{inject:function re(){for(var t=0,i=arguments.length;i>t;t++){var n=arguments[t],r=n._events;if(r){var s={};e.each(r,function(t,i){var r="string"==typeof t,a=r?t:i,o=e.capitalize(a),h=a.substring(2).toLowerCase();s[h]=r?{}:t,a="_"+a,n["get"+o]=function(){return this[a]},n["set"+o]=function(t){var e=this[a];e&&this.detach(h,e),t&&this.attach(h,t),this[a]=t}}),n._eventTypes=s}re.base.call(this,n)}return this}}},r=e.extend({_class:"PaperScope",initialize:function se(){if(paper=this,this.settings=new e({applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=se._id++,se._scopes[this._id]=this,!this.support){var t=K.getContext(1,1);se.prototype.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:te.nativeModes},K.release(t)}},version:"0.9.20",getView:function(){return this.project&&this.project.getView()},getPaper:function(){return this},execute:function(t,e,i){paper.PaperScript.execute(t,this,e,i),X.updateFocus()},install:function(t){var i=this;e.each(["project","view","tool"],function(n){e.define(t,n,{configurable:!0,get:function(){return i[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return paper=this,this.project=new m(t),this},activate:function(){paper=this},clear:function(){for(var t=this.projects.length-1;t>=0;t--)this.projects[t].remove();for(var t=this.tools.length-1;t>=0;t--)this.tools[t].remove();for(var t=this.palettes.length-1;t>=0;t--)this.palettes[t].remove()},remove:function(){this.clear(),delete r._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),s=e.extend(n,{initialize:function(t){this._scope=paper,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.fire("deactivate"),this._scope[this._reference]=this,this.fire("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null==this._index?!1:(e.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)}}),a=e.extend({initialize:function(t){this.precision=t||5,this.multiplier=Math.pow(10,this.precision)},number:function(t){return Math.round(t*this.multiplier)/this.multiplier},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});a.instance=new a;var o=new function(){function e(e,i,n){var r=i===t,s=i-c,a=n+c,o=0;return function(t){return(r||t>s&&a>t)&&(e[o++]=i>t?i:t>n?n:t),o}}var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],n=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,s=Math.sqrt,a=Math.pow,h=Math.cos,l=Math.PI,u=1e-5,c=1e-11;return{TOLERANCE:u,EPSILON:c,KAPPA:4*(s(2)-1)/3,isZero:function(t){return r(t)<=c},integrate:function(t,e,r,s){for(var a=i[s-2],o=n[s-2],h=.5*(r-e),l=h+e,u=0,c=s+1>>1,f=1&s?o[u++]*t(l):0;c>u;){var d=h*a[u];f+=o[u++]*(t(l+d)+t(l-d))}return h*f},findRoot:function(t,e,i,n,s,a,o){for(var h=0;a>h;h++){var l=t(i),u=l/e(i),c=i-u;if(r(u)<o)return c;l>0?(s=i,i=n>=c?.5*(n+s):c):(n=i,i=c>=s?.5*(n+s):c)}return i},solveQuadratic:function(t,i,n,a,o,h){var l=e(a,o,h);if(r(t)<c)return r(i)>=c?l(-n/i):r(n)<c?-1:0;var u=i/(2*t),f=n/t,d=u*u;if(f-c>d)return 0;var _=d>f?s(d-f):0,p=l(_-u);return _>0&&(p=l(-_-u)),p},solveCubic:function(t,i,n,u,f,d,_){if(r(t)<c)return o.solveQuadratic(i,n,u,f,d,_);i/=t,n/=t,u/=t;var p=e(f,d,_),g=i*i,m=(g-3*n)/9,v=(2*g*i-9*i*n+27*u)/54,y=m*m*m,w=v*v-y;if(i/=3,r(w)<c){if(r(v)<c)return p(-i);var x=s(m),b=v>0?1:-1;return p(2*-b*x-i),p(b*x-i)}if(0>w){var x=s(m),S=Math.acos(v/(x*x*x))/3,C=-2*x,T=2*l/3;return p(C*h(S)-i),p(C*h(S+T)-i),p(C*h(S-T)-i)}var P=(v>0?-1:1)*a(r(v)+s(w),1/3);return p(P+m/P-i)}}},h=e.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t;if("number"===i){var n="number"==typeof e;this.x=t,this.y=n?e:t,this.__read&&(this.__read=n?2:1)}else"undefined"===i||null===t?(this.x=this.y=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.x=t[0],this.y=t.length>1?t[1]:t[0]):null!=t.x?(this.x=t.x,this.y=t.y):null!=t.width?(this.x=t.width,this.y=t.height):null!=t.angle?(this.x=t.length,this.y=0,this.setAngle(t.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new h(this.x,this.y)},toString:function(){var t=a.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this.set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();o.isZero(i)&&this.getAngle(),this.set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=h.read(arguments),e=this.getLength()*t.getLength();if(o.isZero(e))return 0/0;var i=this.dot(t)/e;return Math.acos(-1>i?-1:i>1?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this.set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=h.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=h.read(arguments),i=t.x-this.x,n=t.y-this.y,r=i*i+n*n,s=e.read(arguments);return s?r:Math.sqrt(r)},normalize:function(e){e===t&&(e=1);var i=this.getLength(),n=0!==i?e/i:0,r=new h(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),r=Math.cos(t);return i=new h(i.x*r-i.y*n,i.x*n+i.y*r),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=h.read(arguments);return new h(this.x+t.x,this.y+t.y)},subtract:function(){var t=h.read(arguments);return new h(this.x-t.x,this.y-t.y)},multiply:function(){var t=h.read(arguments);return new h(this.x*t.x,this.y*t.y)},divide:function(){var t=h.read(arguments);return new h(this.x/t.x,this.y/t.y)},modulo:function(){var t=h.read(arguments);return new h(this.x%t.x,this.y%t.y)},negate:function(){return new h(-this.x,-this.y)},isInside:function(t){return t.contains(this)},isClose:function(t,e){return this.getDistance(t)<e},isColinear:function(t){return Math.abs(this.cross(t))<1e-5},isOrthogonal:function(t){return Math.abs(this.dot(t))<1e-5},isZero:function(){return o.isZero(this.x)&&o.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},dot:function(){var t=h.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=h.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=h.read(arguments);if(t.isZero())return new h(0,0);var e=this.dot(t)/t.dot(t);return new h(t.x*e,t.y*e)},statics:{min:function(){var t=h.read(arguments),e=h.read(arguments);return new h(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=h.read(arguments),e=h.read(arguments);return new h(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new h(Math.random(),Math.random())}}},e.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new h(e(this.x),e(this.y))}},{})),u=h.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)}}),c=e.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t;if("number"===i){var n="number"==typeof e;this.width=t,this.height=n?e:t,this.__read&&(this.__read=n?2:1)}else"undefined"===i||null===t?(this.width=this.height=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.width=t[0],this.height=t.length>1?t[1]:t[0]):null!=t.width?(this.width=t.width,this.height=t.height):null!=t.x?(this.width=t.x,this.height=t.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new c(this.width,this.height)},toString:function(){var t=a.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=c.read(arguments);return new c(this.width+t.width,this.height+t.height)},subtract:function(){var t=c.read(arguments);return new c(this.width-t.width,this.height-t.height)},multiply:function(){var t=c.read(arguments);return new c(this.width*t.width,this.height*t.height)},divide:function(){var t=c.read(arguments);return new c(this.width/t.width,this.height/t.height)},modulo:function(){var t=c.read(arguments);return new c(this.width%t.width,this.height%t.height)},negate:function(){return new c(-this.width,-this.height)},isZero:function(){return o.isZero(this.width)&&o.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new c(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new c(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new c(Math.random(),Math.random())}}},e.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new c(e(this.width),e(this.height))}},{})),f=c.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),d=e.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(i,n,r,s){var a=typeof i,o=0;if("number"===a?(this.x=i,this.y=n,this.width=r,this.height=s,o=4):"undefined"===a||null===i?(this.x=this.y=this.width=this.height=0,o=null===i?1:0):1===arguments.length&&(Array.isArray(i)?(this.x=i[0],this.y=i[1],this.width=i[2],this.height=i[3],o=1):i.x!==t||i.width!==t?(this.x=i.x||0,this.y=i.y||0,this.width=i.width||0,this.height=i.height||0,o=1):i.from===t&&i.to===t&&(this.x=this.y=this.width=this.height=0,this._set(i),o=1)),!o){var l=h.readNamed(arguments,"from"),u=e.peek(arguments);if(this.x=l.x,this.y=l.y,u&&u.x!==t||e.hasNamed(arguments,"to")){var f=h.readNamed(arguments,"to");this.width=f.x-l.x,this.height=f.y-l.y,this.width<0&&(this.x=f.x,this.width=-this.width),this.height<0&&(this.y=f.y,this.height=-this.height)}else{var d=c.read(arguments);this.width=d.width,this.height=d.height}o=arguments.__index}this.__read&&(this.__read=o)},set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new d(this.x,this.y,this.width,this.height)},equals:function(t){var i=e.isPlainValue(t)?d.read(arguments):t;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var t=a.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?h:u;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=h.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?c:f;return new e(this.width,this.height,this,"setSize")},setSize:function(){var t=c.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(e){this._fixX!==t&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=e-this.width:this.width=e-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(e){this._fixY!==t&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=e-this.height:this.height=e-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){var e=t?h:u;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=h.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==t||4==(Array.isArray(e)?e:arguments).length?this._containsRectangle(d.read(arguments)):this._containsPoint(h.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=d.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=d.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=d.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new d(e,i,n-e,r-i)},unite:function(){var t=d.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new d(e,i,n-e,r-i)},include:function(){var t=h.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new d(e,i,n-e,r-i)},expand:function(){var t=c.read(arguments),e=t.width,i=t.height;return new d(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(e,i){return this.expand(this.width*e-this.width,this.height*(i===t?e:i)-this.height)}},e.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var r=t[n?0:1],s=t[n?1:0],a="get"+r,o="get"+s,l="set"+r,c="set"+s,f="get"+i,d="set"+i;this[f]=function(t){var e=t?h:u;return new e(this[a](),this[o](),this,d)},this[d]=function(){var t=h.read(arguments);this[l](t.x),this[c](t.y)}},{beans:!0})),_=d.extend({initialize:function(t,e,i,n,r,s){this.set(t,e,i,n,!0),this._owner=r,this._setter=s},set:function(t,e,i,n,r){return this._x=t,this._y=e,this._width=i,this._height=n,r||this._owner[this._setter](this),this}},new function(){var t=d.prototype;return e.each(["x","y","width","height"],function(t){var i=e.capitalize(t),n="_"+t;this["get"+i]=function(){return this[n]},this["set"+i]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},e.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected},setSelected:function(t){var e=this._owner;e.setSelected&&(e._boundsSelected=t,e.setSelected(t||e._selectedSegmentState>0))}}))}),p=e.extend({_class:"Matrix",initialize:function ae(t){var e=arguments.length,i=!0;if(6===e?this.set.apply(this,arguments):1===e?t instanceof ae?this.set(t._a,t._c,t._b,t._d,t._tx,t._ty):Array.isArray(t)?this.set.apply(this,t):i=!1:0===e?this.reset():i=!1,!i)throw Error("Unsupported matrix parameters")},set:function(t,e,i,n,r,s,a){return this._a=t,this._c=e,this._b=i,this._d=n,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t){return e.serialize(this.getValues(),t)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new p(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty||!1},toString:function(){var t=a.instance;return"[["+[t.number(this._a),t.number(this._b),t.number(this._tx)].join(", ")+"], ["+[t.number(this._c),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,t||this._changed(),this},apply:function(){var t=this._owner;return t?(t.transform(null,!0),this.isIdentity()):!1},translate:function(){var t=h.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._b,this._ty+=e*this._c+i*this._d,this._changed(),this},scale:function(){var t=h.read(arguments),e=h.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._c*=t.x,this._b*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=h.read(arguments,1),i=e.x,n=e.y,r=Math.cos(t),s=Math.sin(t),a=i-i*r+n*s,o=n-i*s-n*r,l=this._a,u=this._b,c=this._c,f=this._d;return this._a=r*l+s*u,this._b=-s*l+r*u,this._c=r*c+s*f,this._d=-s*c+r*f,this._tx+=a*l+o*u,this._ty+=a*c+o*f,this._changed(),this},shear:function(){var t=h.read(arguments),e=h.read(arguments,0,{readNull:!0});e&&this.translate(e);var i=this._a,n=this._c;return this._a+=t.y*this._b,this._c+=t.y*this._d,this._b+=t.x*i,this._d+=t.x*n,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=h.read(arguments),e=h.read(arguments,0,{readNull:!0}),i=Math.PI/180,n=new h(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(n,e)},concatenate:function(t){var e=this._a,i=this._b,n=this._c,r=this._d,s=t._a,a=t._b,o=t._c,h=t._d,l=t._tx,u=t._ty;return this._a=s*e+o*i,this._b=a*e+h*i,this._c=s*n+o*r,this._d=a*n+h*r,this._tx+=l*e+u*i,this._ty+=l*n+u*r,this._changed(),this},preConcatenate:function(t){var e=this._a,i=this._b,n=this._c,r=this._d,s=this._tx,a=this._ty,o=t._a,h=t._b,l=t._c,u=t._d,c=t._tx,f=t._ty;return this._a=o*e+h*n,this._b=o*i+h*r,this._c=l*e+u*n,this._d=l*i+u*r,this._tx=o*s+h*a+c,this._ty=l*s+u*a+f,this._changed(),this},chain:function(t){var e=this._a,i=this._b,n=this._c,r=this._d,s=this._tx,a=this._ty,o=t._a,h=t._b,l=t._c,u=t._d,c=t._tx,f=t._ty;return new p(o*e+l*i,o*n+l*r,h*e+u*i,h*n+u*r,s+c*e+f*i,a+c*n+f*r)},isIdentity:function(){return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty},orNullIfIdentity:function(){return this.isIdentity()?null:this},isInvertible:function(){return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(h.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,r=t.y;return e||(e=new h),e.set(n*this._a+r*this._b+this._tx,n*this._c+r*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,r=0,s=2*i;s>n;){var a=t[n++],o=t[n++];e[r++]=a*this._a+o*this._b+this._tx,e[r++]=a*this._c+o*this._d+this._ty
}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,s=[e,i,n,i,n,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),r=n.slice(0,2),s=n.slice(),a=2;8>a;a++){var o=n[a],h=1&a;o<r[h]?r[h]=o:o>s[h]&&(s[h]=o)}return e||(e=new d),e.set(r[0],r[1],s[0]-r[0],s[1]-r[1],i)},inverseTransform:function(){return this._inverseTransform(h.read(arguments))},_getDeterminant:function(){var t=this._a*this._d-this._b*this._c;return isFinite(t)&&!o.isZero(t)&&isFinite(this._tx)&&isFinite(this._ty)?t:null},_inverseTransform:function(t,e,i){var n=this._getDeterminant();if(!n)return null;var r=t.x-this._tx,s=t.y-this._ty;return e||(e=new h),e.set((r*this._d-s*this._b)/n,(s*this._a-r*this._c)/n,i)},decompose:function(){var t=this._a,e=this._b,i=this._c,n=this._d;if(o.isZero(t*n-e*i))return null;var r=Math.sqrt(t*t+e*e);t/=r,e/=r;var s=t*i+e*n;i-=t*s,n-=e*s;var a=Math.sqrt(i*i+n*n);return i/=a,n/=a,s/=a,e*i>t*n&&(t=-t,e=-e,s=-s,r=-r),{scaling:new h(r,a),rotation:180*-Math.atan2(e,t)/Math.PI,shearing:s}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty]},getTranslation:function(){return new h(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},inverted:function(){var t=this._getDeterminant();return t&&new p(this._d/t,-this._c/t,-this._b/t,this._a/t,(this._b*this._ty-this._d*this._tx)/t,(this._c*this._tx-this._a*this._ty)/t)},shiftless:function(){return new p(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(t){t.transform(this._a,this._c,this._b,this._d,this._tx,this._ty)}},e.each(["a","c","b","d","tx","ty"],function(t){var i=e.capitalize(t),n="_"+t;this["get"+i]=function(){return this[n]},this["set"+i]=function(t){this[n]=t,this._changed()}},{})),g=e.extend({_class:"Line",initialize:function(t,e,i,n,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=n,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=i),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new h(this._px,this._py)},getVector:function(){return new h(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return g.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t){return g.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},getDistance:function(t){return Math.abs(g.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},statics:{intersect:function(t,e,i,n,r,s,a,l,u,c){u||(i-=t,n-=e,a-=r,l-=s);var f=l*i-a*n;if(!o.isZero(f)){var d=t-r,_=e-s,p=(a*_-l*d)/f,g=(i*_-n*d)/f;if((c||p>=0&&1>=p)&&(c||g>=0&&1>=g))return new h(t+p*i,e+p*n)}},getSide:function(t,e,i,n,r,s,a){a||(i-=t,n-=e);var o=r-t,h=s-e,l=o*n-h*i;return 0===l&&(l=o*i+h*n,l>0&&(o-=i,h-=n,l=o*i+h*n,0>l&&(l=0))),0>l?-1:l>0?1:0},getSignedDistance:function(t,e,i,n,r,s,a){a||(i-=t,n-=e);var o=n/i,h=e-o*t;return(s-o*r-h)/Math.sqrt(o*o+1)}}}),m=s.extend({_class:"Project",_list:"projects",_reference:"project",initialize:function(t){s.call(this,!0),this.layers=[],this.symbols=[],this._currentStyle=new V(null,null,this),this.activeLayer=new x,this._view=X.create(this,t||K.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,this._updateVersion=0},_serialize:function(t,i){return e.serialize(this.layers,t,!0,i)},clear:function(){for(var t=this.layers.length-1;t>=0;t--)this.layers[t].remove();this.symbols=[]},isEmpty:function(){return this.layers.length<=1&&(!this.activeLayer||this.activeLayer.isEmpty())},remove:function oe(){return oe.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.initialize(t)},getIndex:function(){return this._index},addChild:function(t){return t instanceof x?(e.splice(this.layers,[t]),this.activeLayer||(this.activeLayer=t)):t instanceof y?(this.activeLayer||this.addChild(new x(y.NO_INSERT))).addChild(t):t=null,t},getSelectedItems:function(){var t=[];for(var e in this._selectedItems){var i=this._selectedItems[e];i.isInserted()&&t.push(i)}return t},getOptions:function(){return this._scope.settings},_updateSelection:function(t){var e=t._id,i=this._selectedItems;t._selected?i[e]!==t&&(this._selectedItemCount++,i[e]=t):i[e]===t&&(this._selectedItemCount--,delete i[e])},selectAll:function(){for(var t=this.layers,e=0,i=t.length;i>e;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectedItems;for(var e in t)t[e].setFullySelected(!1)},hitTest:function(){for(var t=h.read(arguments),i=T.getOptions(e.read(arguments)),n=this.layers.length-1;n>=0;n--){var r=this.layers[n]._hitTest(t,i);if(r)return r}return null},getItems:function(t){return y._getItems(this.layers,t,!0)},getItem:function(t){return y._getItems(this.layers,t,!1)},importJSON:function(t){this.activate();var i=this.activeLayer;return e.importJSON(t,i&&i.isEmpty()&&i)},draw:function(t,i,n){this._updateVersion++,t.save(),i.applyToContext(t);for(var r=new e({offset:new h(0,0),pixelRatio:n,viewMatrix:i.isIdentity()?null:i,matrices:[new p],updateMatrix:!0}),s=0,a=this.layers,o=a.length;o>s;s++)a[s].draw(t,r);if(t.restore(),this._selectedItemCount>0){t.save(),t.strokeWidth=1;var l=this._selectedItems,u=this._scope.settings.handleSize,c=this._updateVersion;for(var f in l)l[f]._drawSelection(t,i,u,l,c);t.restore()}}}),v=e.extend({_class:"Symbol",initialize:function he(t,e){this._id=he._id=(he._id||0)+1,this.project=paper.project,this.project.symbols.push(this),t&&this.setDefinition(t,e)},_serialize:function(t,i){return i.add(this,function(){return e.serialize([this._class,this._definition],t,!1,i)})},_changed:function(t){8&t&&y._clearBoundsCache(this),1&t&&(this.project._needsUpdate=!0)},getDefinition:function(){return this._definition},setDefinition:function(t,e){t._parentSymbol&&(t=t.clone()),this._definition&&(this._definition._parentSymbol=null),this._definition=t,t.remove(),t.setSelected(!1),e||t.setPosition(new h),t._parentSymbol=this,this._changed(9)},place:function(t){return new C(this,t)},clone:function(){return new v(this._definition.clone(!1))}}),y=e.extend(n,{statics:{extend:function le(t){return t._serializeFields&&(t._serializeFields=new e(this.prototype._serializeFields,t._serializeFields)),le.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,_canApplyMatrix:!0,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new p,pivot:null,locked:!1,visible:!0,blendMode:"normal",opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(t,i){var n=t&&e.isPlainObject(t),r=n&&t.internal===!0,s=this._matrix=new p,a=paper.project;return r||(this._id=y._id=(y._id||0)+1),this._applyMatrix=this._canApplyMatrix&&paper.settings.applyMatrix,i&&s.translate(i),s._owner=this,this._style=new V(a._currentStyle,this,a),this._project||(r||n&&t.insert===!1?this._setProject(a):n&&t.parent?this.setParent(t.parent):(a.activeLayer||new x).addChild(this)),n&&t!==y.NO_INSERT&&this._set(t,{insert:!0,parent:!0},!0),n},_events:new function(){var t={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},i={install:function(e){var i=this.getView()._eventCounters;if(i)for(var n in t)i[n]=(i[n]||0)+(t[n][e]||0)},uninstall:function(e){var i=this.getView()._eventCounters;if(i)for(var n in t)i[n]-=t[n][e]||0}};return e.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(t){this[t]=i},{onFrame:{install:function(){this._animateItem(!0)},uninstall:function(){this._animateItem(!1)}},onLoad:{}})},_animateItem:function(t){this.getView()._animateItem(this,t)},_serialize:function(t,i){function n(n){for(var a in n){var o=s[a];e.equals(o,"leading"===a?1.2*n.fontSize:n[a])||(r[a]=e.serialize(o,t,"data"!==a,i))}}var r={},s=this;return n(this._serializeFields),this instanceof w||n(this._style._defaults),[this._class,r]},_changed:function(e){var i=this._parentSymbol,n=this._parent||i,r=this._project;if(8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=this._currentPath=t),n&&40&e&&y._clearBoundsCache(n),2&e&&y._clearBoundsCache(this),r&&(1&e&&(r._needsUpdate=!0),r._changes)){var s=r._changesById[this._id];s?s.flags|=e:(s={item:this,flags:e},r._changesById[this._id]=s,r._changes.push(s))}i&&i._changed(e)},set:function(t){return t&&this._set(t),this},getId:function(){return this._id},getClassName:function(){return this._class},getName:function(){return this._name},setName:function(e,i){if(this._name&&this._removeNamed(),e===+e+"")throw Error("Names consisting only of numbers are not supported.");var n=this._parent;if(e&&n){for(var r=n._children,s=n._namedChildren,a=e,o=1;i&&r[e];)e=a+" "+o++;(s[e]=s[e]||[]).push(this),r[e]=this}this._name=e||t,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},e.each(["locked","visible","blendMode","opacity","guide"],function(t){var i=e.capitalize(t),t="_"+t;this["get"+i]=function(){return this[t]},this["set"+i]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,_locked:!1,_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;i>e;e++)if(t[e].isSelected())return!0;return this._selected},setSelected:function(t,e){if(!e&&this._selectChildren)for(var i=this._children,n=0,r=i.length;r>n;n++)i[n].setSelected(t);(t=!!t)^this._selected&&(this._selected=t,this._project._updateSelection(this),this._changed(129))},_selected:!1,isFullySelected:function(){var t=this._children;if(t&&this._selected){for(var e=0,i=t.length;i>e;e++)if(!t[e].isFullySelected())return!1;return!0}return this._selected},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;n>i;i++)e[i].setFullySelected(t);this.setSelected(t,!0)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,i=t?h:u;if(!e){var n=this._pivot;e=this._position=n?this._matrix._transformPoint(n):this.getBounds().getCenter(!0)}return new i(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(h.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(t){var e=this._pivot;if(e){var i=t?h:u;e=new i(e.x,e.y,this,"setPivot")}return e},setPivot:function(){this._pivot=h.read(arguments),this._position=t},_pivot:null,getRegistration:"#getPivot",setRegistration:"#setPivot"},e.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalRoughBounds"],function(t){var i="get"+e.capitalize(t),n=t.match(/^internal(.*)$/),r=n?"get"+n[1]:null;this[i]=function(e){var n=this._boundsGetter,s=!r&&("string"==typeof n?n:n&&n[i])||i,a=this._getCachedBounds(s,e,this,r);return"bounds"===t?new _(a.x,a.y,a.width,a.height,this,"setBounds"):a}},{beans:!0,_getBounds:function(t,e,i){var n=this._children;if(!n||0==n.length)return new d;for(var r=1/0,s=-r,a=r,o=s,h=0,l=n.length;l>h;h++){var u=n[h];if(u._visible&&!u.isEmpty()){var c=u._getCachedBounds(t,e,i);r=Math.min(c.x,r),a=Math.min(c.y,a),s=Math.max(c.x+c.width,s),o=Math.max(c.y+c.height,o)}}return isFinite(r)?new d(r,a,s-r,o-a):new d},setBounds:function(){var t=d.read(arguments),e=this.getBounds(),i=new p,n=t.getCenter();i.translate(n),(t.width!=e.width||t.height!=e.height)&&i.scale(0!=e.width?t.width/e.width:1,0!=e.height?t.height/e.height:1),n=e.getCenter(),i.translate(-n.x,-n.y),this.transform(i)},_getCachedBounds:function(t,e,i,n){e=e&&e.orNullIfIdentity();var r=n?null:this._matrix.orNullIfIdentity(),s=(!e||e.equals(r))&&t,a=this._parent||this._parentSymbol;if(a){var o=i._id,h=a._boundsCache=a._boundsCache||{ids:{},list:[]};h.ids[o]||(h.list.push(i),h.ids[o]=i)}if(s&&this._bounds&&this._bounds[s])return this._bounds[s].clone();e=e?r?e.chain(r):e:r;var l=this._getBounds(n||t,e,i);if(s){this._bounds||(this._bounds={});var u=this._bounds[s]=l.clone();u._internal=!!n}return l},statics:{_clearBoundsCache:function(e){var i=e._boundsCache;if(i){e._bounds=e._position=e._boundsCache=t;for(var n=0,r=i.list,s=r.length;s>n;n++){var a=r[n];a!==e&&(a._bounds=a._position=t,a._boundsCache&&y._clearBoundsCache(a))}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose()},getRotation:function(){var t=this._decomposed||this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var i=this._decomposed;this.rotate(t-e),i.rotation=t,this._decomposed=i}},getScaling:function(){var t=this._decomposed||this._decompose();return t&&t.scaling},setScaling:function(){var t=this.getScaling();if(null!=t){var e=h.read(arguments,0,{clone:!0}),i=this._decomposed;this.scale(e.x/t.x,e.y/t.y),i.scaling=e,this._decomposed=i}},getMatrix:function(){return this._matrix},setMatrix:function(t){this._matrix.initialize(t),this._applyMatrix?this.transform(null,!0):this._changed(9)},getGlobalMatrix:function(t){var e=this._globalMatrix,i=this._project._updateVersion;if(e&&e._updateVersion!==i&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.preConcatenate(n.getGlobalMatrix(!0)),e._updateVersion=i}return t?e:e.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,r=i&&i.length;r>n;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project.getView()},_installEvents:function ue(t){ue.base.call(this,t);for(var e=this._children,i=0,n=e&&e.length;n>i;i++)e[i]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof x)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){return this._parent&&this._parent._children[this._index+1]||null},getPreviousSibling:function(){return this._parent&&this._parent._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return e.equals(this._children,t._children)},clone:function(t){return this._clone(new this.constructor(y.NO_INSERT),t)},_clone:function(i,n){if(i.setStyle(this._style),this._children)for(var r=0,s=this._children.length;s>r;r++)i.addChild(this._children[r].clone(!1),!0);(n||n===t)&&i.insertAbove(this);for(var a=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide","_applyMatrix"],r=0,s=a.length;s>r;r++){var o=a[r];this.hasOwnProperty(o)&&(i[o]=this[o])}return i._matrix.initialize(this._matrix),i._data=this._data?e.clone(this._data):null,i.setSelected(this._selected),this._name&&i.setName(this._name,!0),i},copyTo:function(t){return t.addChild(this.clone(!1))},rasterize:function(t){var i=this.getStrokeBounds(),n=(t||this.getView().getResolution())/72,r=i.getTopLeft().floor(),s=i.getBottomRight().ceil(),a=new c(s.subtract(r)),o=K.getCanvas(a.multiply(n)),h=o.getContext("2d"),l=(new p).scale(n).translate(r.negate());h.save(),l.applyToContext(h),this.draw(h,new e({matrices:[l]})),h.restore();var u=new S(y.NO_INSERT);return u.setCanvas(o),u.transform((new p).translate(r.add(a.divide(2))).scale(1/n)),u.insertAbove(this),u},contains:function(){return!!this._contains(this._matrix._inverseTransform(h.read(arguments)))},_contains:function(t){if(this._children){for(var e=this._children.length-1;e>=0;e--)if(this._children[e].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},hitTest:function(){return this._hitTest(h.read(arguments),T.getOptions(e.read(arguments)))},_hitTest:function(i,n){function r(n,r){var s=_["get"+r]();return i.subtract(s).divide(l).length<=1?new T(n,d,{name:e.hyphenate(r),point:s}):t}if(this._locked||!this._visible||this._guide&&!n.guides||this.isEmpty())return null;var s=this._matrix,a=n._totalMatrix,o=this.getView(),h=n._totalMatrix=a?a.chain(s):this.getGlobalMatrix().preConcatenate(o._matrix),l=n._tolerancePadding=new c(I._getPenPadding(1,h.inverted())).multiply(Math.max(n.tolerance,1e-5));if(i=s._inverseTransform(i),!this._children&&!this.getInternalRoughBounds().expand(l.multiply(2))._containsPoint(i))return null;var u,f=!(n.guides&&!this._guide||n.selected&&!this._selected||n.type&&n.type!==e.hyphenate(this._class)||n.class&&!(this instanceof n.class)),d=this;if(f&&(n.center||n.bounds)&&this._parent){var _=this.getInternalBounds();if(n.center&&(u=r("center","Center")),!u&&n.bounds)for(var p=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],g=0;8>g&&!u;g++)u=r("bounds",p[g])}var m=!u&&this._children;if(m)for(var v=this._getChildHitTestOptions(n),g=m.length-1;g>=0&&!u;g--)u=m[g]._hitTest(i,v);return!u&&f&&(u=this._hitTestSelf(i,n)),u&&u.point&&(u.point=s.transform(u.point)),n._totalMatrix=a,u},_getChildHitTestOptions:function(t){return t},_hitTestSelf:function(e,i){return i.fill&&this.hasFill()&&this._contains(e)?new T("fill",this):t},matches:function(i){function n(t,i){for(var r in t)if(t.hasOwnProperty(r)){var s=t[r],a=i[r];if(e.isPlainObject(s)&&e.isPlainObject(a)){if(!n(s,a))return!1}else if(!e.equals(s,a))return!1}return!0}for(var r in i)if(i.hasOwnProperty(r)){var s=this[r],a=i[r];if(s===t&&"type"===r&&(s=e.hyphenate(this._class)),/^(constructor|class)$/.test(r)){if(!(this instanceof a))return!1}else if(a instanceof RegExp){if(!a.test(s))return!1}else if("function"==typeof a){if(!a(s))return!1}else if(e.isPlainObject(a)){if(!n(a,s))return!1}else if(!e.equals(s,a))return!1}return!0},getItems:function(t){return y._getItems(this._children,t,!0)},getItem:function(t){return y._getItems(this._children,t,!1)},statics:{_getItems:function ce(t,e,i){for(var n=i&&[],r=0,s=t&&t.length;s>r;r++){var a=t[r];if(a.matches(e)){if(!i)return a;n.push(a)}var o=ce(a._children,e,i);if(i)n.push.apply(n,o);else if(o)return o}return i?n:null}}},{importJSON:function(t){var i=e.importJSON(t,this);return i!==this?this.addChild(i):i},addChild:function(e,i){return this.insertChild(t,e,i)},insertChild:function(t,e,i){var n=this.insertChildren(t,[e],i);return n&&n[0]},addChildren:function(t,e){return this.insertChildren(this._children.length,t,e)},insertChildren:function(t,i,n,r){var s=this._children;if(s&&i&&i.length>0){i=Array.prototype.slice.apply(i);for(var a=i.length-1;a>=0;a--){var o=i[a];!r||o instanceof r?o._remove(!1,!0):i.splice(a,1)}e.splice(s,i,t,0);for(var h=this._project,l=h&&h._changes,a=0,u=i.length;u>a;a++){var o=i[a];o._parent=this,o._setProject(this._project,!0),o._name&&o.setName(o._name),l&&this._changed(5)}this._changed(11)}else i=null;return i},_insert:function(t,e,i){if(!e._parent)return null;var n=e._index+(t?1:0);return e._parent===this._parent&&n>this._index&&n--,e._parent.insertChild(n,this,i)},insertAbove:function(t,e){return this._insert(!0,t,e)},insertBelow:function(t,e){return this._insert(!1,t,e)},sendToBack:function(){return this._parent.insertChild(0,this)},bringToFront:function(){return this._parent.addChild(this)},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",reduce:function(){if(this._children&&1===this._children.length){var t=this._children[0].reduce();return t.insertAbove(this),t.setStyle(this._style),this.remove(),t}return this},_removeNamed:function(){var t=this._parent;if(t){var e=t._children,i=t._namedChildren,n=this._name,r=i[n],s=r?r.indexOf(this):-1;-1!==s&&(e[n]==this&&delete e[n],r.splice(s,1),r.length?e[n]=r[r.length-1]:delete i[n])}},_remove:function(t,i){var n=this._parent;if(n){if(this._name&&this._removeNamed(),null!=this._index&&e.splice(n._children,null,this._index,1),this._installEvents(!1),t){var r=this._project;r&&r._changes&&this._changed(5)}return i&&n._changed(11),this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},removeChildren:function(t,i){if(!this._children)return null;t=t||0,i=e.pick(i,this._children.length);for(var n=e.splice(this._children,null,t,i-t),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;e>t;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var i=e(this),n=e(t),r=0,s=Math.min(i.length,n.length);s>r;r++)if(i[r]!=n[r])return i[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e==t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1},translate:function(){var t=new p;return this.transform(t.translate.apply(t,arguments))},rotate:function(t){return this.transform((new p).rotate(t,h.read(arguments,1,{readNull:!0})||this.getPosition(!0)))}},e.each(["scale","shear","skew"],function(t){this[t]=function(){var e=h.read(arguments),i=h.read(arguments,0,{readNull:!0});return this.transform((new p)[t](e,i||this.getPosition(!0)))}},{}),{transform:function(t,e){t&&t.isIdentity()&&(t=null);var i=this._matrix,n=(e||this._applyMatrix)&&(!i.isIdentity()||t);if(!t&&!n)return this;if(t&&i.preConcatenate(t),n=n&&this._transformContent(i)){var r=this._pivot,s=this._style,a=s.getFillColor(!0),o=s.getStrokeColor(!0);r&&i._transformPoint(r,r,!0),a&&a.transform(i),o&&o.transform(i),i.reset(!0)}var h=this._bounds,l=this._position;this._changed(9);var u=h&&t&&t.decompose();if(u&&!u.shearing&&0===u.rotation%90){for(var c in h){var f=h[c];(n||!f._internal)&&t._transformBounds(f,f)}var d=this._boundsGetter,f=h[d&&d.getBounds||d||"getBounds"];f&&(this._position=f.getCenter(!0)),this._bounds=h}else t&&l&&(this._position=t._transformPoint(l,l));return this},_transformContent:function(t){var e=this._children;if(e){for(var i=0,n=e.length;n>i;i++)e[i].transform(t,!0);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(h.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(h.read(arguments))},fitBounds:function(t,e){t=d.read(arguments);var i=this.getBounds(),n=i.height/i.width,r=t.height/t.width,s=(e?n>r:r>n)?t.width/i.width:t.height/i.height,a=new d(new h,new c(i.width*s,i.height*s));a.setCenter(t.getCenter()),this.setBounds(a)},_setStyles:function(t){var e=this._style,i=e.getFillColor(),n=e.getStrokeColor(),r=e.getShadowColor();if(i&&(t.fillStyle=i.toCanvasStyle(t)),n){var s=e.getStrokeWidth();if(s>0){t.strokeStyle=n.toCanvasStyle(t),t.lineWidth=s;var a=e.getStrokeJoin(),o=e.getStrokeCap(),h=e.getMiterLimit();if(a&&(t.lineJoin=a),o&&(t.lineCap=o),h&&(t.miterLimit=h),paper.support.nativeDash){var l=e.getDashArray(),u=e.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=u):(t.mozDash=l,t.mozDashOffset=u))}}}if(r){var c=e.getShadowBlur();if(c>0){t.shadowColor=r.toCanvasStyle(t),t.shadowBlur=c;var f=this.getShadowOffset();t.shadowOffsetX=f.x,t.shadowOffsetY=f.y}}},draw:function(t,e,i){function n(t){return o?o.chain(t):t}var r=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var s=e.matrices,a=s[s.length-1],o=e.viewMatrix,h=this._matrix,l=a.chain(h);if(l.isInvertible()){s.push(l),e.updateMatrix&&(l._updateVersion=r,this._globalMatrix=l);var u,c,f,d=this._blendMode,_=this._opacity,p="normal"===d,g=te.nativeModes[d],m=p&&1===_||e.dontStart||e.clip||(g||p&&1>_)&&this._canComposite(),v=e.pixelRatio;if(!m){var y=this.getStrokeBounds(n(a));if(!y.width||!y.height)return;f=e.offset,c=e.offset=y.getTopLeft().floor(),u=t,t=K.getContext(y.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var w=i?i.chain(h):!this.getStrokeScaling(!0)&&n(l),x=!m&&e.clipItem,b=!w||x;if(m?(t.globalAlpha=_,g&&(t.globalCompositeOperation=d)):b&&t.translate(-c.x,-c.y),b&&(m?h:n(l)).applyToContext(t),x&&e.clipItem.draw(t,e.extend({clip:!0})),w){t.setTransform(v,0,0,v,0,0);var S=e.offset;S&&t.translate(-S.x,-S.y)}this._draw(t,e,w),t.restore(),s.pop(),e.clip&&!e.dontFinish&&t.clip(),m||(te.process(d,t,u,_,c.subtract(f).multiply(v)),K.release(t),e.offset=f)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof z)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,r){if((this._drawSelected||this._boundsSelected)&&this._isUpdated(r)){var s=this.getSelectedColor(!0)||this.getLayer().getSelectedColor(!0),a=e.chain(this.getGlobalMatrix(!0));if(t.strokeStyle=t.fillStyle=s?s.toCanvasStyle(t):"#009dec",this._drawSelected&&this._drawSelected(t,a,n),this._boundsSelected){var o=i/2;coords=a._transformCorners(this.getInternalBounds()),t.beginPath();for(var h=0;8>h;h++)t[0===h?"moveTo":"lineTo"](coords[h],coords[++h]);t.closePath(),t.stroke();for(var h=0;8>h;h++)t.fillRect(coords[h]-o,coords[++h]-o,i,i)}}},_canComposite:function(){return!1}},e.each(["down","drag","up","move"],function(t){this["removeOn"+e.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,r=n._removeSets=n._removeSets||{};r[i]=r[i]||{},r[i][this._id]=this}return this}})),w=y.extend({_class:"Group",_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function fe(e){fe.base.call(this,e),1026&e&&(this._clipItem=t)},_getClipItem:function(){var e=this._clipItem;if(e===t){e=null;for(var i=0,n=this._children.length;n>i;i++){var r=this._children[i];if(r._clipMask){e=r;break}}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem(),r=!0;if(e=e.extend({clipItem:n,clip:!1}),i?this._currentPath?(t.currentPath=this._currentPath,r=!1):(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0})),r)for(var s=0,a=this._children.length;a>s;s++){var o=this._children[s];o!==n&&o.draw(t,e)}i&&(this._currentPath=t.currentPath)}}),x=w.extend({_class:"Layer",initialize:function(i){var n=e.isPlainObject(i)?new e(i):{children:Array.isArray(i)?i:arguments},r=n.insert;n.insert=!1,w.call(this,n),(r||r===t)&&(this._project.addChild(this),this.activate())},_remove:function de(t){return this._parent?de.base.call(this,t):null!=this._index?(this._project.activeLayer===this&&(this._project.activeLayer=this.getNextSibling()||this.getPreviousSibling()),e.splice(this._project.layers,null,this._index,1),this._installEvents(!1),this._project._needsUpdate=!0,!0):!1},getNextSibling:function _e(){return this._parent?_e.base.call(this):this._project.layers[this._index+1]||null},getPreviousSibling:function pe(){return this._parent?pe.base.call(this):this._project.layers[this._index-1]||null},isInserted:function ge(){return this._parent?ge.base.call(this):null!=this._index},activate:function(){this._project.activeLayer=this},_insert:function me(t,i,n){return i instanceof x&&!i._parent?(this._remove(!0,!0),e.splice(i._project.layers,[this],i._index+(t?1:0),0),this._setProject(i._project,!0),this):me.base.call(this,t,i,n)}}),b=y.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&e.equals(this._radius,t._radius)},clone:function(t){var e=new b(y.NO_INSERT);return e.setType(this._type),e.setSize(this._size),e.setRadius(this._radius),this._clone(e,t)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new f(t.width,t.height,this,"setSize")},setSize:function(){var t=c.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;if("rectangle"===e){var r=c.min(this._radius,t.divide(2));this._radius.set(r.width,r.height)}else"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius.set(i/2,n/2);this._size.set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new f(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var i=2*t;this._radius=t,this._size.set(i,i)}else if(t=c.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t.width,t.height),"rectangle"===e){var i=c.max(this._size,t.multiply(2));this._size.set(i.width,i.height)}else"ellipse"===e&&this._size.set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(i){var n=new(I[e.capitalize(this._type)])({center:new h,size:this._size,radius:this._radius,insert:!1});return n.setStyle(this._style),n.transform(this._matrix),(i||i===t)&&n.insertAbove(this),n},_draw:function(t,e,i){var n=this._style,r=n.hasFill(),s=n.hasStroke(),a=e.dontFinish||e.clip,o=!i;if(r||s||a){var h=this._type,l=this._radius,u="circle"===h;if(e.dontStart||t.beginPath(),o&&u)t.arc(0,0,l,0,2*Math.PI,!0);else{var c=u?l:l.width,f=u?l:l.height,d=this._size,_=d.width,p=d.height;if(o&&"rect"===h&&0===c&&0===f)t.rect(-_/2,-p/2,_,p);else{var g=_/2,m=p/2,v=.44771525016920644,y=c*v,w=f*v,x=[-g,-m+f,-g,-m+w,-g+y,-m,-g+c,-m,g-c,-m,g-y,-m,g,-m+w,g,-m+f,g,m-f,g,m-w,g-y,m,g-c,m,-g+c,m,-g+y,m,-g,m-w,-g,m-f];i&&i.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),g!==c&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),m!==f&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),g!==c&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])
}}t.closePath()}a||!r&&!s||(this._setStyles(t),r&&(t.fill(n.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),s&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new d(this._size).setCenter(0,0);return"getBounds"!==t&&this.hasStroke()&&(i=i.expand(this.getStrokeWidth())),e?e._transformBounds(i):i}},new function(){function t(t,e,i){var n=t._radius;if(!n.isZero())for(var r=t._size.divide(2),s=0;4>s;s++){var a=new h(1&s?1:-1,s>1?1:-1),o=a.multiply(r),l=o.subtract(a.multiply(n)),u=new d(o,l);if((i?u.expand(i):u).contains(e))return l}}function e(t,e){var i=t.getAngleInRadians(),n=2*e.width,r=2*e.height,s=n*Math.sin(i),a=r*Math.cos(i);return n*r/(2*Math.sqrt(s*s+a*a))}return{_contains:function i(e){if("rectangle"===this._type){var n=t(this,e);return n?e.subtract(n).divide(this._radius).getLength()<=1:i.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r){var s=!1;if(this.hasStroke()){var a=this._type,o=this._radius,h=this.getStrokeWidth()+2*r.tolerance;if("rectangle"===a){var l=t(this,i,h);if(l){var u=i.subtract(l);s=2*Math.abs(u.getLength()-e(u,o))<=h}else{var c=new d(this._size).setCenter(0,0),f=c.expand(h),_=c.expand(-h);s=f._containsPoint(i)&&!_._containsPoint(i)}}else"ellipse"===a&&(o=e(i,o)),s=2*Math.abs(i.getLength()-o)<=h}return s?new T("stroke",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,i,n,r,s){var a=new b(e.getNamed(s));return a._type=t,a._size=n,a._radius=r,a.translate(i)}return{Circle:function(){var i=h.readNamed(arguments,"center"),n=e.readNamed(arguments,"radius");return t("circle",i,new c(2*n),n,arguments)},Rectangle:function(){var e=d.readNamed(arguments,"rectangle"),i=c.min(c.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),i,arguments)},Ellipse:function(){var e=b._readEllipse(arguments),i=e.radius;return t("ellipse",e.center,i.multiply(2),i,arguments)},_readEllipse:function(t){var i,n;if(e.hasNamed(t,"radius"))i=h.readNamed(t,"center"),n=c.readNamed(t,"radius");else{var r=d.readNamed(t,"rectangle");i=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:i,radius:n}}}}}),S=y.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{source:null},initialize:function(e,i){this._initialize(e,i!==t&&h.read(arguments,1))||("string"==typeof e?this.setSource(e):this.setImage(e)),this._size||(this._size=new c)},_equals:function(t){return this.getSource()===t.getSource()},clone:function(t){var e=new S(y.NO_INSERT),i=this._image,n=this._canvas;if(i)e.setImage(i);else if(n){var r=K.getCanvas(this._size);r.getContext("2d").drawImage(n,0,0),e.setCanvas(r)}return this._clone(e,t)},getSize:function(){var t=this._size;return new f(t.width,t.height,this,"setSize")},setSize:function(){var t=c.read(arguments);if(!this._size.equals(t)){var e=this.getElement();this.setCanvas(K.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}},getWidth:function(){return this._size.width},getHeight:function(){return this._size.height},isEmpty:function(){return 0===this._size.width&&0===this._size.height},getResolution:function(){var t=this._matrix,e=new h(0,0).transform(t),i=new h(1,0).transform(t).subtract(e),n=new h(0,1).transform(t).subtract(e);return new c(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){this._canvas&&K.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t):(this._image=t,this._canvas=null),this._size=new c(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=K.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){K.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(t){function e(){var t=n.getView();t&&(paper=t._scope,n.setImage(i),n.fire("load"),t.update())}var i,n=this;i=document.getElementById(t)||new Image,i.naturalWidth&&i.naturalHeight?setTimeout(e,0):(q.add(i,{load:e}),i.src||(i.src=t)),this.setImage(i)},getElement:function(){return this._canvas||this._image}},{beans:!1,getSubCanvas:function(){var t=d.read(arguments),e=K.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=d.read(arguments),e=new S(y.NO_INSERT);return e.setCanvas(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.preConcatenate(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image&&this._image.src;if(/^data:/.test(t))return t;var e=this.getCanvas();return e?e.toDataURL():null},drawImage:function(t){var e=h.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var i,n;t?t instanceof O?(n=t,i=t.getBounds()):t.width?i=new d(t):t.x&&(i=new d(t.x-.5,t.y-.5,1,1)):i=this.getBounds();var r=32,s=Math.min(i.width,r),a=Math.min(i.height,r),o=S._sampleContext;o?o.clearRect(0,0,r+1,r+1):o=S._sampleContext=K.getContext(new c(r)),o.save();var h=(new p).scale(s/i.width,a/i.height).translate(-i.x,-i.y);h.applyToContext(o),n&&n.draw(o,new e({clip:!0,matrices:[h]})),this._matrix.applyToContext(o),o.drawImage(this.getElement(),-this._size.width/2,-this._size.height/2),o.restore();for(var l=o.getImageData(.5,.5,Math.ceil(s),Math.ceil(a)).data,u=[0,0,0],f=0,_=0,g=l.length;g>_;_+=4){var m=l[_+3];f+=m,m/=255,u[0]+=l[_]*m,u[1]+=l[_+1]*m,u[2]+=l[_+2]*m}for(var _=0;3>_;_++)u[_]/=f;return f?N.read(u):null},getPixel:function(){var t=h.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new N("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=h.read(arguments),e=N.read(arguments),i=e._convert("rgb"),n=e._alpha,r=this.getContext(!0),s=r.createImageData(1,1),a=s.data;a[0]=255*i[0],a[1]=255*i[1],a[2]=255*i[2],a[3]=null!=n?255*n:255,r.putImageData(s,t.x,t.y)},createImageData:function(){var t=c.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=d.read(arguments);return t.isEmpty()&&(t=new d(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=h.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new d(this._size).setCenter(0,0);return e?e._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new T("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),C=y.extend({_class:"PlacedSymbol",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,_serializeFields:{symbol:null},initialize:function(e,i){this._initialize(e,i!==t&&h.read(arguments,1))||this.setSymbol(e instanceof v?e:new v(e))},_equals:function(t){return this._symbol===t._symbol},getSymbol:function(){return this._symbol},setSymbol:function(t){this._symbol=t,this._changed(9)},clone:function(t){var e=new C(y.NO_INSERT);return e.setSymbol(this._symbol),this._clone(e,t)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(t,e,i){return this.symbol._definition._getCachedBounds(t,e,i)},_hitTestSelf:function(t,e){var i=this._symbol._definition._hitTest(t,e);return i&&(i.item=this),i},_draw:function(t,e){this.symbol._definition.draw(t,e)}}),T=e.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&(i.enumerable=!0,this.inject(i))},statics:{getOptions:function(t){return new e({type:null,tolerance:paper.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),P=e.extend({_class:"Segment",beans:!0,initialize:function(e,i,n,r,s,a){var o,h,l,u=arguments.length;0===u||(1===u?e.point?(o=e.point,h=e.handleIn,l=e.handleOut):o=e:2===u&&"number"==typeof e?o=arguments:3>=u?(o=e,h=i,l=n):(o=e!==t?[e,i]:null,h=n!==t?[n,r]:null,l=s!==t?[s,a]:null)),new k(o,this,"_point"),new k(h,this,"_handleIn"),new k(l,this,"_handleOut")},_serialize:function(t){return e.serialize(this.isLinear()?this._point:[this._point,this._handleIn,this._handleOut],t,!0)},_changed:function(t){var e=this._path;if(e){var i,n,r=e._curves,s=this._index;r&&(t&&t!==this._point&&t!==this._handleIn||!(i=r[s-1]||e._closed&&r[r.length-1])||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=r[s])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){var t=h.read(arguments);this._point.set(t.x,t.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){var t=h.read(arguments);this._handleIn.set(t.x,t.y)},getHandleOut:function(){return this._handleOut},setHandleOut:function(){var t=h.read(arguments);this._handleOut.set(t.x,t.y)},isLinear:function(){return this._handleIn.isZero()&&this._handleOut.isZero()},setLinear:function(t){t&&(this._handleIn.set(0,0),this._handleOut.set(0,0))},isColinear:function(t){var e=this.getNext(),i=t.getNext();return this._handleOut.isZero()&&e._handleIn.isZero()&&t._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(this._point).isColinear(i._point.subtract(t._point))},isOrthogonal:function(){var t=this.getPrevious(),e=this.getNext();return t._handleOut.isZero()&&this._handleIn.isZero()&&this._handleOut.isZero()&&e._handleIn.isZero()&&this._point.subtract(t._point).isOrthogonal(e._point.subtract(this._point))},isArc:function(){var t=this.getNext(),e=this._handleOut,i=t._handleIn,n=.5522847498307936;if(e.isOrthogonal(i)){var r=this._point,s=t._point,a=new g(r,e,!0).intersect(new g(s,i,!0),!0);return a&&o.isZero(e.getLength()/a.subtract(r).getLength()-n)&&o.isZero(i.getLength()/a.subtract(s).getLength()-n)}return!1},_selectionState:0,isSelected:function(t){var e=this._selectionState;return t?t===this._point?!!(4&e):t===this._handleIn?!!(1&e):t===this._handleOut?!!(2&e):!1:!!(7&e)},setSelected:function(t,e){var i=this._path,t=!!t,n=this._selectionState,r=n,s=e?e===this._point?4:e===this._handleIn?1:e===this._handleOut?2:0:7;t?n|=s:n&=~s,this._selectionState=n,i&&n!==r&&(i._updateSelection(this,r,n),i._changed(129))},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new A(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},reverse:function(){return new P(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new P(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,Array(6),!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,r=i&&this._handleIn.isZero()?null:this._handleIn,s=i&&this._handleOut.isZero()?null:this._handleOut,a=n._x,o=n._y,h=2;return e[0]=a,e[1]=o,r&&(e[h++]=r._x+a,e[h++]=r._y+o),s&&(e[h++]=s._x+a,e[h++]=s._y+o),t&&(t._transformCoordinates(e,e,h/2),a=e[0],o=e[1],i?(n._x=a,n._y=o,h=2,r&&(r._x=e[h++]-a,r._y=e[h++]-o),s&&(s._x=e[h++]-a,s._y=e[h++]-o)):(r||(e[h++]=a,e[h++]=o),s||(e[h++]=a,e[h++]=o))),e}}),k=h.extend({initialize:function(e,i,n){var r,s,a;if(e)if((r=e[0])!==t)s=e[1];else{var o=e;(r=o.x)===t&&(o=h.read(arguments),r=o.x),s=o.y,a=o.selected}else r=s=0;this._x=r,this._y=s,this._owner=i,i[n]=this,a&&this.setSelected(!0)},set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},_serialize:function(t){var e=t.formatter,i=e.number(this._x),n=e.number(this._y);return this.isSelected()?{x:i,y:n,selected:!0}:[i,n]},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){return o.isZero(this._x)&&o.isZero(this._y)},setSelected:function(t){this._owner.setSelected(t,this)},isSelected:function(){return this._owner.isSelected(this)}}),M=e.extend({_class:"Curve",initialize:function(t,e,i,n,r,s,a,o){var h=arguments.length;if(3===h)this._path=t,this._segment1=e,this._segment2=i;else if(0===h)this._segment1=new P,this._segment2=new P;else if(1===h)this._segment1=new P(t.segment1),this._segment2=new P(t.segment2);else if(2===h)this._segment1=new P(t),this._segment2=new P(e);else{var l,u,c,f;4===h?(l=t,u=e,c=i,f=n):8===h&&(l=[t,e],f=[a,o],u=[i-t,n-e],c=[r-a,s-o]),this._segment1=new P(l,null,u),this._segment2=new P(f,c,null)}},_changed:function(){this._length=this._bounds=t},getPoint1:function(){return this._segment1._point},setPoint1:function(){var t=h.read(arguments);this._segment1._point.set(t.x,t.y)},getPoint2:function(){return this._segment2._point},setPoint2:function(){var t=h.read(arguments);this._segment2._point.set(t.x,t.y)},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){var t=h.read(arguments);this._segment1._handleOut.set(t.x,t.y)},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var t=h.read(arguments);this._segment2._handleIn.set(t.x,t.y)},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return M.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;8>i;i+=2)e.push(new h(t[i],t[i+1]));return e},getLength:function(){return null==this._length&&(this._length=this.isLinear()?this._segment2._point.getDistance(this._segment1._point):M.getLength(this.getValues(),0,1)),this._length},getArea:function(){return M.getArea(this.getValues())},getPart:function(t,e){return new M(M.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return M.getLength(this.getValues(),t,e)},isLinear:function(){return this._segment1._handleOut.isZero()&&this._segment2._handleIn.isZero()},isHorizontal:function(){return this.isLinear()&&o.isZero(this._segment1._point._y-this._segment2._point._y)},getIntersections:function(t){return M.getIntersections(this.getValues(),t.getValues(),this,t,[])},_getParameter:function(e,i){return i?e:e&&e.curve===this?e.parameter:e===t&&i===t?.5:this.getParameterAt(e,0)},divide:function(t,e,i){var n=this._getParameter(t,e),r=1e-5,s=null;if(n>r&&1-r>n){var a=M.subdivide(this.getValues(),n),o=i?!1:this.isLinear(),l=a[0],u=a[1];o||(this._segment1._handleOut.set(l[2]-l[0],l[3]-l[1]),this._segment2._handleIn.set(u[4]-u[6],u[5]-u[7]));var c=l[6],f=l[7],d=new P(new h(c,f),!o&&new h(l[4]-c,l[5]-f),!o&&new h(u[2]-c,u[3]-f));if(this._path)this._segment1._index>0&&0===this._segment2._index?this._path.add(d):this._path.insert(this._segment2._index,d),s=this;else{var _=this._segment2;this._segment2=d,s=new M(d,_)}}return s},split:function(t,e){return this._path?this._path.split(this._segment1._index,this._getParameter(t,e)):null},reverse:function(){return new M(this._segment2.reverse(),this._segment1.reverse())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i.x,i.y)}return t},clone:function(){return new M(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},statics:{getValues:function(t,e,i){var n=t._point,r=t._handleOut,s=e._handleIn,a=e._point,o=[n._x,n._y,n._x+r._x,n._y+r._y,a._x+s._x,a._y+s._y,a._x,a._y];return i&&i._transformCoordinates(o,o,6),o},evaluate:function(t,e,i){var n,r,s=t[0],a=t[1],o=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7],_=1e-5;if(0===i&&(_>e||e>1-_)){var p=_>e;n=p?s:f,r=p?a:d}else{var g=3*(o-s),m=3*(u-o)-g,v=f-s-g-m,y=3*(l-a),w=3*(c-l)-y,x=d-a-y-w;if(0===i)n=((v*e+m)*e+g)*e+s,r=((x*e+w)*e+y)*e+a;else if(_>e&&o===s&&l===a||e>1-_&&u===f&&c===d?(n=f-s,r=d-a):_>e?(n=g,r=y):e>1-_?(n=3*(f-u),r=3*(d-c)):(n=(3*v*e+2*m)*e+g,r=(3*x*e+2*w)*e+y),3===i){var b=6*v*e+2*m,S=6*x*e+2*w;return(n*S-r*b)/Math.pow(n*n+r*r,1.5)}}return 2===i?new h(r,-n):new h(n,r)},subdivide:function(e,i){var n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7];i===t&&(i=.5);var c=1-i,f=c*n+i*s,d=c*r+i*a,_=c*s+i*o,p=c*a+i*h,g=c*o+i*l,m=c*h+i*u,v=c*f+i*_,y=c*d+i*p,w=c*_+i*g,x=c*p+i*m,b=c*v+i*w,S=c*y+i*x;return[[n,r,f,d,v,y,b,S],[b,S,w,x,g,m,l,u]]},solveCubic:function(t,e,i,n,r,s){var a=t[e],h=t[e+2],l=t[e+4],u=t[e+6],c=3*(h-a),f=3*(l-h)-c,d=u-a-c-f;return o.solveCubic(d,f,c,a-i,n,r,s)},getParameterOf:function(t,e,i){var n=1e-5;if(Math.abs(t[0]-e)<n&&Math.abs(t[1]-i)<n)return 0;if(Math.abs(t[6]-e)<n&&Math.abs(t[7]-i)<n)return 1;for(var r,s,a=[],o=[],h=M.solveCubic(t,0,e,a),l=M.solveCubic(t,1,i,o),u=0;-1==h||h>u;)if(-1==h||(r=a[u++])>=0&&1>=r){for(var c=0;-1==l||l>c;)if((-1==l||(s=o[c++])>=0&&1>=s)&&(-1==h?r=s:-1==l&&(s=r),Math.abs(r-s)<n))return.5*(r+s);if(-1==h)break}return null},getPart:function(t,e,i){return e>0&&(t=M.subdivide(t,e)[1]),1>i&&(t=M.subdivide(t,(i-e)/(1-e))[0]),t},isLinear:function(t){var e=o.isZero;return e(t[0]-t[2])&&e(t[1]-t[3])&&e(t[4]-t[6])&&e(t[5]-t[7])},isFlatEnough:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=t[6],l=t[7],u=3*r-2*i-h,c=3*s-2*n-l,f=3*a-2*h-i,d=3*o-2*l-n;return Math.max(u*u,f*f)+Math.max(c*c,d*d)<10*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7];return(3*r*e-1.5*r*s-1.5*r*o-3*i*n-1.5*i*s-.5*i*o+1.5*a*e+1.5*a*n-3*a*o+.5*h*e+1.5*h*n+3*h*s)/10},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],r=0;2>r;r++)M._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,i,n);return new d(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,r,s,a,h,l){function u(t,e){var i=t-e,n=t+e;i<a[r]&&(a[r]=i),n>h[r]&&(h[r]=n)}var c=3*(e-i)-t+n,f=2*(t+i)-4*e,d=e-t,_=o.solveQuadratic(c,f,d,l),p=1e-5,g=1-p;u(n,0);for(var m=0;_>m;m++){var v=l[m],y=1-v;v>p&&g>v&&u(y*y*y*t+3*y*y*v*e+3*y*v*v*i+v*v*v*n,s)}}}},e.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=I[t]([this._segment1,this._segment2],!1,this._path.getStyle())),e.clone()}},{}),e.each(["getPoint","getTangent","getNormal","getCurvature"],function(t,e){this[t+"At"]=function(t,i){var n=this.getValues();return M.evaluate(n,i?t:M.getParameterAt(n,t,0),e)},this[t]=function(t){return M.evaluate(this.getValues(),t,e)}},{beans:!1,getParameterAt:function(e,i){return M.getParameterAt(this.getValues(),e,i!==t?i:0>e?1:0)},getParameterOf:function(){var t=h.read(arguments);return M.getParameterOf(this.getValues(),t.x,t.y)},getLocationAt:function(t,e){return e||(t=this.getParameterAt(t)),new A(this,t)},getLocationOf:function(){var t=h.read(arguments),e=this.getParameterOf(t);return null!=e?new A(this,e):null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getNearestLocation:function(){function t(t){if(t>=0&&1>=t){var n=e.getDistance(M.evaluate(i,t,0),!0);if(r>n)return r=n,s=t,!0}}for(var e=h.read(arguments),i=this.getValues(),n=100,r=1/0,s=0,a=0;n>=a;a++)t(a/n);for(var o=1/(2*n);o>1e-5;)t(s-o)||t(s+o)||(o/=2);var l=M.evaluate(i,s,0);return new A(this,s,l,null,null,null,e.getDistance(l))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}}),new function(){function e(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=9*(n-s)+3*(o-e),u=6*(e+s)-12*n,c=3*(n-e),f=9*(r-a)+3*(h-i),d=6*(i+a)-12*r,_=3*(r-i);return function(t){var e=(l*t+u)*t+c,i=(f*t+d)*t+_;return Math.sqrt(e*e+i*i)}}function i(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}return{statics:!0,getLength:function(n,r,s){r===t&&(r=0),s===t&&(s=1);var a=o.isZero;if(0===r&&1===s&&a(n[0]-n[2])&&a(n[1]-n[3])&&a(n[6]-n[4])&&a(n[7]-n[5])){var h=n[6]-n[0],l=n[7]-n[1];return Math.sqrt(h*h+l*l)}var u=e(n);return o.integrate(u,r,s,i(r,s))},getParameterAt:function(t,n,r){function s(t){var e=i(r,t);return d+=t>r?o.integrate(u,r,t,e):-o.integrate(u,t,r,e),r=t,d-n}if(0===n)return r;var a=n>0,h=a?r:0,l=a?1:r,n=Math.abs(n),u=e(t),c=o.integrate(u,h,l,i(h,l));if(n>=c)return a?l:h;var f=n/c,d=0;return o.findRoot(s,u,a?h+f:l-f,h,l,16,1e-5)}}},new function(){function t(t,e,i,n,r,s,a,o){var h=new A(i,n,r,s,a,o);(!e||e(h))&&t.push(h)}function e(r,s,a,o,h,l,u,c,f,d,_,p,m){if(!(m>20)){var v,y,w,x=s[0],b=s[1],S=s[6],C=s[7],T=1e-5,P=1e-9,k=g.getSignedDistance,A=k(x,b,S,C,s[2],s[3])||0,O=k(x,b,S,C,s[4],s[5])||0,I=A*O>0?.75:4/9,z=I*Math.min(0,A,O),R=I*Math.max(0,A,O),E=k(x,b,S,C,r[0],r[1]),L=k(x,b,S,C,r[2],r[3]),D=k(x,b,S,C,r[4],r[5]),N=k(x,b,S,C,r[6],r[7]);if(x===S&&P>=d-f&&m>3)v=(c+u)/2,y=v,w=0;else{var F,j,V=i(E,L,D,N),B=V[0],q=V[1];if(F=n(B,q,z,R),B.reverse(),q.reverse(),j=n(B,q,z,R),null==F||null==j)return!1;r=M.getPart(r,F,j),w=j-F,v=c*F+u*(1-F),y=c*j+u*(1-j)}if(_>.8&&w>.8)if(y-v>d-f){var X=M.subdivide(r,.5),H=v+(y-v)/2;e(s,X[0],o,a,h,l,f,d,v,H,w,!p,++m),e(s,X[1],o,a,h,l,f,d,H,y,w,!p,m)}else{var X=M.subdivide(s,.5),H=f+(d-f)/2;e(X[0],r,o,a,h,l,f,H,v,y,w,!p,++m),e(X[1],r,o,a,h,l,H,d,v,y,w,!p,m)}else if(Math.max(d-f,y-v)<T){var U=v+(y-v)/2,Y=f+(d-f)/2;p?t(h,l,o,Y,M.evaluate(s,Y,0),a,U,M.evaluate(r,U,0)):t(h,l,a,U,M.evaluate(r,U,0),o,Y,M.evaluate(s,Y,0))}else e(s,r,o,a,h,l,f,d,v,y,w,!p,++m)}}function i(t,e,i,n){var r,s=[0,t],a=[1/3,e],o=[2/3,i],h=[1,n],l=g.getSignedDistance,u=l(0,t,1,n,1/3,e),c=l(0,t,1,n,2/3,i),f=!1;if(0>u*c)r=[[s,a,h],[s,o,h]],f=0>u;else{var d,_=0,p=0===u||0===c;Math.abs(u)>Math.abs(c)?(d=a,_=(n-i-(n-t)/3)*(2*(n-i)-n+e)/3):(d=o,_=(e-t+(t-n)/3)*(-2*(t-e)+t-i)/3),r=0>_||p?[[s,d,h],[s,h]]:[[s,a,o,h],[s,h]],f=u?0>u:0>c}return f?r.reverse():r}function n(t,e,i,n){for(var r,s,a,o,h,l=null,u=0,c=e.length-1;c>u;u++){if(a=e[u][1],h=e[u+1][1],h>a)r=null;else{if(!(n>=h))continue;s=e[u][0],o=e[u+1][0],r=s+(n-a)*(o-s)/(h-a)}break}t[0][1]<=n&&(r=t[0][0]);for(var u=0,c=t.length-1;c>u;u++){if(a=t[u][1],h=t[u+1][1],a>=i)l=r;else if(a>h)l=null;else{if(!(h>=i))continue;s=t[u][0],o=t[u+1][0],l=s+(i-a)*(o-s)/(h-a)}break}return l}function r(e,i,n,r,s,a){for(var o=M.isLinear(e),h=o?i:e,l=o?e:i,u=l[0],c=l[1],f=l[6],d=l[7],_=f-u,p=d-c,g=Math.atan2(-p,_),m=Math.sin(g),v=Math.cos(g),y=_*v-p*m,w=[0,0,0,0,y,0,y,0],x=[],b=0;8>b;b+=2){var S=h[b]-u,C=h[b+1]-c;x.push(S*v-C*m,C*v+S*m)}for(var T=[],P=M.solveCubic(x,1,0,T,0,1),b=0;P>b;b++){var k=T[b],S=M.evaluate(x,k,0).x;if(S>=0&&y>=S){var A=M.getParameterOf(w,S,0),O=o?A:k,I=o?k:A;t(s,a,n,O,M.evaluate(e,O,0),r,I,M.evaluate(i,I,0))}}}function s(e,i,n,r,s,a){var o=g.intersect(e[0],e[1],e[6],e[7],i[0],i[1],i[6],i[7]);if(o){var h=o.x,l=o.y;t(s,a,n,M.getParameterOf(e,h,l),o,r,M.getParameterOf(i,h,l),o)}}return{statics:{getIntersections:function(t,i,n,a,o,h){var l=M.isLinear(t),u=M.isLinear(i);return(l&&u?s:l||u?r:e)(t,i,n,a,o,h,0,1,0,1,0,!1,0),o}}}}),A=e.extend({_class:"CurveLocation",beans:!0,initialize:function ve(t,e,i,n,r,s,a){this._id=ve._id=(ve._id||0)+1,this._curve=t,this._segment1=t._segment1,this._segment2=t._segment2,this._parameter=e,this._point=i,this._curve2=n,this._parameter2=r,this._point2=s,this._distance=a},getSegment:function(t){if(!this._segment){var e=this.getCurve(),i=this.getParameter();if(1===i)this._segment=e._segment2;else if(0===i||t)this._segment=e._segment1;else{if(null==i)return null;this._segment=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2}}return this._segment},getCurve:function(t){return(!this._curve||t)&&(this._curve=this._segment1.getCurve(),null==this._curve.getParameterOf(this._point)&&(this._curve=this._segment2.getPrevious().getCurve())),this._curve},getIntersection:function(){var t=this._intersection;if(!t&&this._curve2){var e=this._parameter2;this._intersection=t=new A(this._curve2,e,this._point2||this._point,this),t._intersection=this}return t},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getOffset:function(){var t=this.getPath();return t?t._getOffset(this):this.getCurveOffset()},getCurveOffset:function(){var t=this.getCurve(),e=this.getParameter();return null!=e&&t&&t.getPartLength(0,e)},getParameter:function(t){if((null==this._parameter||t)&&this._point){var e=this.getCurve(t&&this._point);this._parameter=e&&e.getParameterOf(this._point)}return this._parameter},getPoint:function(t){if((!this._point||t)&&null!=this._parameter){var e=this.getCurve();this._point=e&&e.getPointAt(this._parameter,!0)}return this._point},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(!0);return t&&t.divide(this.getParameter(!0),!0)},split:function(){var t=this.getCurve(!0);return t&&t.split(this.getParameter(!0),!0)},equals:function(t){var e=o.isZero;return this===t||t&&this._curve===t._curve&&this._curve2===t._curve2&&e(this._parameter-t._parameter)&&e(this._parameter2-t._parameter2)||!1},toString:function(){var t=[],e=this.getPoint(),i=a.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var r=this.getParameter();return null!=r&&t.push("parameter: "+i.number(r)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"}},e.each(["Tangent","Normal","Curvature"],function(t){var e="get"+t+"At";this["get"+t]=function(){var t=this.getParameter(),i=this.getCurve();return null!=t&&i&&i[e](t,!0)}},{})),O=y.extend({_class:"PathItem",initialize:function(){},getIntersections:function(e,i){function n(t,e){var i=t.getPath(),n=e.getPath();return i===n?t.getIndex()+t.getParameter()-(e.getIndex()+e.getParameter()):i._id-n._id}if(this===e&&(e=null),e&&!this.getBounds().touches(e.getBounds()))return[];for(var r=[],s=this.getCurves(),a=e?e.getCurves():s,o=this._matrix.orNullIfIdentity(),h=e?e._matrix.orNullIfIdentity():o,l=s.length,u=e?a.length:l,c=[],f=1e-11,d=1-1e-11,_=0;u>_;_++)c[_]=a[_].getValues(h);for(var _=0;l>_;_++){var p=s[_],m=e?p.getValues(o):c[_];if(!e){var v=p.getSegment1(),y=p.getSegment2(),w=v._handleOut,x=y._handleIn;if(new g(v._point.subtract(w),w.multiply(2),!0).intersect(new g(y._point.subtract(x),x.multiply(2),!0),!1)){var b=M.subdivide(m);M.getIntersections(b[0],b[1],p,p,r,function(e){return e._parameter<=d?(e._parameter/=2,e._parameter2=.5+e._parameter2/2,!0):t})}}for(var S=e?0:_+1;u>S;S++)M.getIntersections(m,c[S],p,a[S],r,!e&&(S===_+1||S===u-1&&0===_)&&function(t){var e=t._parameter;return e>=f&&d>=e})}for(var C=r.length-1,_=C;_>=0;_--){var T=r[_],P=T._curve.getNext(),k=T._curve2.getNext();P&&T._parameter>=d&&(T._parameter=0,T._curve=P),k&&T._parameter2>=d&&(T._parameter2=0,T._curve2=k)}if(C>0){r.sort(n);for(var _=C;_>=1;_--)r[_].equals(r[0===_?C:_-1])&&(r.splice(_,1),C--)}if(i){for(var _=C;_>=0;_--)r.push(r[_].getIntersection());r.sort(n)}return r},setPathData:function(t){function e(t,e){var i=+n[t];return o&&(i+=l[e]),i}function i(t){return new h(e(t,"x"),e(t+1,"y"))}var n,r,s,a=t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,l=new h,u=new h;this.clear();for(var f=0,d=a.length;d>f;f++){var _=a[f],p=_[0],g=p.toLowerCase();n=_.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var m=n&&n.length;switch(o=p===g,"z"!==r||/[mz]/.test(g)||this.moveTo(l=u),g){case"m":case"l":var v="m"===g;v&&r&&"z"!==r&&this.closePath(!0);for(var y=0;m>y;y+=2)this[0===y&&v?"moveTo":"lineTo"](l=i(y));s=l,v&&(u=l);break;case"h":case"v":for(var w="h"===g?"x":"y",y=0;m>y;y++)l[w]=e(y,w),this.lineTo(l);s=l;break;case"c":for(var y=0;m>y;y+=6)this.cubicCurveTo(i(y),s=i(y+2),l=i(y+4));break;case"s":for(var y=0;m>y;y+=4)this.cubicCurveTo(/[cs]/.test(r)?l.multiply(2).subtract(s):l,s=i(y),l=i(y+2)),r=g;break;case"q":for(var y=0;m>y;y+=4)this.quadraticCurveTo(s=i(y),l=i(y+2));break;case"t":for(var y=0;m>y;y+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?l.multiply(2).subtract(s):l,l=i(y)),r=g;break;case"a":for(var y=0;m>y;y+=7)this.arcTo(l=i(y+5),new c(+n[0],+n[1]),+n[2],+n[4],+n[3]);break;case"z":this.closePath(!0)}r=g}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=this._getWinding(t,!1,!0);return!!("evenodd"===this.getWindingRule()?1&e:e)}}),I=O.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[];var i=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==t||e.x===t&&e.point===t?null:arguments;i&&i.length>0?this.setSegments(i):(this._curves=t,this._selectedSegmentState=0,i||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!i&&e)},_equals:function(t){return e.equals(this._segments,t._segments)},clone:function(e){var i=new I(y.NO_INSERT);return i.setSegments(this._segments),i._closed=this._closed,this._clockwise!==t&&(i._clockwise=this._clockwise),this._clone(i,e)},_changed:function ye(e){if(ye.base.call(this,e),8&e){var i=this._parent;if(i&&(i._currentPath=t),this._length=this._clockwise=t,this._curves&&!(16&e))for(var n=0,r=this._curves.length;r>n;n++)this._curves[n]._changed();this._monoCurves=t}else 32&e&&(this._bounds=t)},getStyle:function(){var t=this._parent;return(t instanceof z?t:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var i=this.isFullySelected();this._segments.length=0,this._selectedSegmentState=0,this._curves=t,e&&e.length>0&&this._add(P.readAll(e)),i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=Array(i);for(var n=0;i>n;n++)t[n]=new M(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new M(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function i(e,i){e._transformCoordinates(t,p,!1),n=p[0],r=p[1],g?(m.push("M"+_.pair(n,r)),g=!1):(h=p[2],l=p[3],h===n&&l===r&&u===s&&c===o?i||m.push("l"+_.pair(n-s,r-o)):m.push("c"+_.pair(u-s,c-o)+" "+_.pair(h-s,l-o)+" "+_.pair(n-s,r-o))),s=n,o=r,u=p[4],c=p[5]
}var n,r,s,o,h,l,u,c,f=this._segments,d=f.length,_=new a(e),p=Array(6),g=!0,m=[];if(0===d)return"";for(var v=0;d>v;v++)i(f[v]);return this._closed&&d>0&&(i(f[0],!0),m.push("z")),m.join("")}},{isEmpty:function(){return 0===this._segments.length},isPolygon:function(){for(var t=0,e=this._segments.length;e>t;t++)if(!this._segments[t].isLinear())return!1;return!0},_transformContent:function(t){for(var e=Array(6),i=0,n=this._segments.length;n>i;i++)this._segments[i]._transformCoordinates(t,e,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,r=t.length,s=null==e,e=s?i.length:e,a=0;r>a;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selectionState&&this._updateSelection(o,0,o._selectionState)}if(s)i.push.apply(i,t);else{i.splice.apply(i,[e,0].concat(t));for(var a=e+r,h=i.length;h>a;a++)i[a]._index=a}if(n||t._curves){n||(n=this._curves=[]);var l=e>0?e-1:e,u=l,c=Math.min(l+r,this._countCurves());t._curves&&(n.splice.apply(n,[l,0].concat(t._curves)),u+=t._curves.length);for(var a=u;c>a;a++)n.splice(a,0,new M(this,null,null));this._adjustCurves(l,c)}return this._changed(25),t},_adjustCurves:function(t,e){for(var i,n=this._segments,r=this._curves,s=t;e>s;s++)i=r[s],i._path=this,i._segment1=n[s],i._segment2=n[s+1]||n[0],i._changed();(i=r[this._closed&&0===t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=r[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(P.readAll(arguments)):this._add([P.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(P.readAll(arguments,1),t):this._add([P.read(arguments,1)],t)[0]},addSegment:function(){return this._add([P.read(arguments)])[0]},insertSegment:function(t){return this._add([P.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(P.readAll(t))},insertSegments:function(t,e){return this._add(P.readAll(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,i,n){t=t||0,i=e.pick(i,this._segments.length);var r=this._segments,s=this._curves,a=r.length,o=r.splice(t,i-t),h=o.length;if(!h)return o;for(var l=0;h>l;l++){var u=o[l];u._selectionState&&this._updateSelection(u,u._selectionState,0),u._index=u._path=null}for(var l=t,c=r.length;c>l;l++)r[l]._index=l;if(s){var f=t>0&&i===a+(this._closed?1:0)?t-1:t,s=s.splice(f,h);n&&(o._curves=s.slice(1)),this._adjustCurves(f,f)}return this._changed(25),o},clear:"#removeSegments",getLength:function(){if(null==this._length){var t=this.getCurves();this._length=0;for(var e=0,i=t.length;i>e;e++)this._length+=t[e].getLength()}return this._length},getArea:function(){for(var t=this.getCurves(),e=0,i=0,n=t.length;n>i;i++)e+=t[i].getArea();return e},isFullySelected:function(){var t=this._segments.length;return this._selected&&t>0&&this._selectedSegmentState===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelected:function we(t){t||this._selectSegments(!1),we.base.call(this,t)},_selectSegments:function(t){var e=this._segments.length;this._selectedSegmentState=t?7*e:0;for(var i=0;e>i;i++)this._segments[i]._selectionState=t?7:0},_updateSelection:function(t,e,i){t._selectionState=i;var n=this._selectedSegmentState+=i-e;n>0&&this.setSelected(!0)},flatten:function(t){for(var e=new R(this),i=0,n=e.length/Math.ceil(e.length/t),r=e.length+(this._closed?-n:n)/2,s=[];r>=i;)s.push(new P(e.evaluate(i,0))),i+=n;this.setSegments(s)},reduce:function(){for(var t=this.getCurves(),e=t.length-1;e>=0;e--){var i=t[e];i.isLinear()&&0===i.getLength()&&i.remove()}return this},simplify:function(t){if(this._segments.length>2){var e=new E(this,t||2.5);this.setSegments(e.fit())}},split:function(t,e){if(null!==e){if(1===arguments.length){var i=t;"number"==typeof i&&(i=this.getLocationAt(i)),t=i.index,e=i.parameter}var n=1e-5;e>=1-n&&(t++,e--);var r=this.getCurves();if(t>=0&&t<r.length){e>n&&r[t++].divide(e,!0);var s,a=this.removeSegments(t,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):t>0&&(s=this._clone((new I).insertAbove(this,!0))),s._add(a,0),this.addSegment(a[0]),s}return null}},isClockwise:function(){return this._clockwise!==t?this._clockwise:I.isClockwise(this._segments)},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse(),this._clockwise=t},reverse:function(){this._segments.reverse();for(var e=0,i=this._segments.length;i>e;e++){var n=this._segments[e],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=e}this._curves=null,this._clockwise!==t&&(this._clockwise=!this._clockwise),this._changed(9)},join:function(t){if(t){var e=t._segments,i=this.getLastSegment(),n=t.getLastSegment();i._point.equals(n._point)&&t.reverse();var r,s=t.getFirstSegment();i._point.equals(s._point)?(i.setHandleOut(s._handleOut),this._add(e.slice(1))):(r=this.getFirstSegment(),r._point.equals(s._point)&&t.reverse(),n=t.getLastSegment(),r._point.equals(n._point)?(r.setHandleIn(n._handleIn),this._add(e.slice(0,e.length-1),0)):this._add(e.slice())),t.closed&&this._add([e[0]]),t.remove()}var a=this.getFirstSegment(),o=this.getLastSegment();a!==o&&a._point.equals(o._point)&&(a.setHandleIn(o._handleIn),o.remove(),this.setClosed(!0))},toShape:function(e){function i(t,e){return f[t].isColinear(f[e])}function n(t){return f[t].isOrthogonal()}function r(t){return f[t].isArc()}function s(t,e){return f[t]._point.getDistance(f[e]._point)}if(!this._closed)return null;var a,h,l,u,f=this._segments;if(this.isPolygon()&&4===f.length&&i(0,2)&&i(1,3)&&n(1)?(a=b.Rectangle,h=new c(s(0,3),s(0,1)),u=f[1]._point.add(f[2]._point).divide(2)):8===f.length&&r(0)&&r(2)&&r(4)&&r(6)&&i(1,5)&&i(3,7)?(a=b.Rectangle,h=new c(s(1,6),s(0,3)),l=h.subtract(new c(s(0,7),s(1,2))).divide(2),u=f[3]._point.add(f[4]._point).divide(2)):4===f.length&&r(0)&&r(1)&&r(2)&&r(3)&&(o.isZero(s(0,2)-s(1,3))?(a=b.Circle,l=s(0,2)/2):(a=b.Ellipse,l=new c(s(2,0)/2,s(3,1)/2)),u=f[1]._point),a){var d=this.getPosition(!0),_=new a({center:d,size:h,radius:l,insert:!1});return _.rotate(u.subtract(d).getAngle()+90),_.setStyle(this._style),(e||e===t)&&_.insertAbove(this),_}return null},_hitTestSelf:function(t,e){function i(e,i){return t.subtract(e).divide(i).length<=1}function n(t,n,r){if(!e.selected||n.isSelected()){var s=t._point;if(n!==s&&(n=n.add(s)),i(n,w))return new T(r,_,{segment:t,point:n})}}function r(t,i){return(i||e.segments)&&n(t,t._point,"segment")||!i&&e.handles&&(n(t,t._handleIn,"handle-in")||n(t,t._handleOut,"handle-out"))}function s(t){c.add(t)}function a(e){if(("round"!==o||"round"!==l)&&(c=new I({internal:!0,closed:!0}),v||e._index>0&&e._index<m-1?"round"!==o&&(e._handleIn.isZero()||e._handleOut.isZero())&&I._addBevelJoin(e,o,C,u,s,!0):"round"!==l&&I._addSquareCap(e,l,C,s,!0),!c.isEmpty())){var n;return c.contains(t)||(n=c.getNearestLocation(t))&&i(n.getPoint(),y)}return i(e._point,w)}var o,l,u,c,f,d,_=this,p=this.getStyle(),g=this._segments,m=g.length,v=this._closed,y=e._tolerancePadding,w=y,x=e.stroke&&p.hasStroke(),b=e.fill&&p.hasFill(),S=e.curves,C=x?p.getStrokeWidth()/2:b&&e.tolerance>0||S?0:null;if(null!==C&&(C>0?(o=p.getStrokeJoin(),l=p.getStrokeCap(),u=C*p.getMiterLimit(),w=y.add(new h(C,C))):o=l="round"),!e.ends||e.segments||v){if(e.segments||e.handles)for(var P=0;m>P;P++)if(d=r(g[P]))return d}else if(d=r(g[0],!0)||r(g[m-1],!0))return d;if(null!==C){if(f=this.getNearestLocation(t)){var k=f.getParameter();0===k||1===k&&m>1?a(f.getSegment())||(f=null):i(f.getPoint(),w)||(f=null)}if(!f&&"miter"===o&&m>1)for(var P=0;m>P;P++){var M=g[P];if(t.getDistance(M._point)<=u&&a(M)){f=M.getLocation();break}}}return!f&&b&&this._contains(t)||f&&!x&&!S?new T("fill",this):f?new T(x?"stroke":"curve",this,{location:f,point:f.getPoint()}):null}},{beans:!1,_getOffset:function(t){var e=t&&t.getIndex();if(null!=e){for(var i=this.getCurves(),n=0,r=0;e>r;r++)n+=i[r].getLength();var s=i[e],a=t.getParameter();return a>0&&(n+=s.getPartLength(0,a)),n}return null},getLocationOf:function(){for(var t=h.read(arguments),e=this.getCurves(),i=0,n=e.length;n>i;i++){var r=e[i].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t,e){var i=this.getCurves(),n=0;if(e){var r=~~t;return i[r].getLocationAt(t-r,!0)}for(var s=0,a=i.length;a>s;s++){var o=n,h=i[s];if(n+=h.getLength(),n>t)return h.getLocationAt(t-o)}return t<=this.getLength()?new A(i[i.length-1],1):null},getPointAt:function(t,e){var i=this.getLocationAt(t,e);return i&&i.getPoint()},getTangentAt:function(t,e){var i=this.getLocationAt(t,e);return i&&i.getTangent()},getNormalAt:function(t,e){var i=this.getLocationAt(t,e);return i&&i.getNormal()},getNearestLocation:function(){for(var t=h.read(arguments),e=this.getCurves(),i=1/0,n=null,r=0,s=e.length;s>r;r++){var a=e[r].getNearestLocation(t);a._distance<i&&(i=a._distance,n=a)}return n},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}},new function(){function t(t,e,i,n){function r(e){var i=a[e],n=a[e+1];(c!=i||f!=n)&&(t.beginPath(),t.moveTo(c,f),t.lineTo(i,n),t.stroke(),t.beginPath(),t.arc(i,n,s,0,2*Math.PI,!0),t.fill())}for(var s=n/2,a=Array(6),o=0,h=e.length;h>o;o++){var l=e[o];l._transformCoordinates(i,a,!1);var u=l._selectionState,c=a[0],f=a[1];if(1&u&&r(2),2&u&&r(4),t.fillRect(c-s,f-s,n,n),!(4&u)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(c-s+1,f-s+1,n-2,n-2),t.fillStyle=d}}}function e(t,e,i){function n(e){if(i)e._transformCoordinates(i,_,!1),r=_[0],s=_[1];else{var n=e._point;r=n._x,s=n._y}if(p)t.moveTo(r,s),p=!1;else{if(i)h=_[2],l=_[3];else{var f=e._handleIn;h=r+f._x,l=s+f._y}h===r&&l===s&&u===a&&c===o?t.lineTo(r,s):t.bezierCurveTo(u,c,h,l,r,s)}if(a=r,o=s,i)u=_[4],c=_[5];else{var f=e._handleOut;u=a+f._x,c=o+f._y}}for(var r,s,a,o,h,l,u,c,f=e._segments,d=f.length,_=Array(6),p=!0,g=0;d>g;g++)n(f[g]);e._closed&&d>0&&n(f[0])}return{_draw:function(t,i,n){function r(t){return u[(t%c+c)%c]}var s=i.dontStart,a=i.dontFinish||i.clip,o=this.getStyle(),h=o.hasFill(),l=o.hasStroke(),u=o.getDashArray(),c=!paper.support.nativeDash&&l&&u&&u.length;if(s||t.beginPath(),!s&&this._currentPath?t.currentPath=this._currentPath:(h||l&&!c||a)&&(e(t,this,n),this._closed&&t.closePath(),s||(this._currentPath=t.currentPath)),!a&&(h||l)&&(this._setStyles(t),h&&(t.fill(o.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),l)){if(c){s||t.beginPath();var f,d=new R(this,n),_=d.length,p=-o.getDashOffset(),g=0;for(p%=_;p>0;)p-=r(g--)+r(g--);for(;_>p;)f=p+r(g++),(p>0||f>0)&&d.drawPart(t,Math.max(p,0),Math.max(f,0)),p=f+r(g++)}t.stroke()}},_drawSelected:function(i,n){i.beginPath(),e(i,this,n),i.stroke(),t(i,this._segments,n,paper.settings.handleSize)}}},new function(){function t(t){var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var s=1;e>s;s++)n[s]=1/r,r=(e-1>s?4:2)-n[s],i[s]=(t[s]-i[s-1])/r;for(var s=1;e>s;s++)i[e-s-1]-=n[e-s]*i[e-s];return i}return{smooth:function(){var e=this._segments,i=e.length,n=this._closed,r=i,s=0;if(!(2>=i)){n&&(s=Math.min(i,4),r+=2*Math.min(i,s));for(var a=[],o=0;i>o;o++)a[o+s]=e[o]._point;if(n)for(var o=0;s>o;o++)a[o]=e[o+i-s]._point,a[o+i+s]=e[o]._point;else r--;for(var l=[],o=1;r-1>o;o++)l[o]=4*a[o]._x+2*a[o+1]._x;l[0]=a[0]._x+2*a[1]._x,l[r-1]=3*a[r-1]._x;for(var u=t(l),o=1;r-1>o;o++)l[o]=4*a[o]._y+2*a[o+1]._y;l[0]=a[0]._y+2*a[1]._y,l[r-1]=3*a[r-1]._y;var c=t(l);if(n){for(var o=0,f=i;s>o;o++,f++){var d=o/s,_=1-d,p=o+s,g=f+s;u[f]=u[o]*d+u[f]*_,c[f]=c[o]*d+c[f]*_,u[g]=u[p]*_+u[g]*d,c[g]=c[p]*_+c[g]*d}r--}for(var m=null,o=s;r-s>=o;o++){var v=e[o-s];m&&v.setHandleIn(m.subtract(v._point)),r>o&&(v.setHandleOut(new h(u[o],c[o]).subtract(v._point)),m=r-1>o?new h(2*a[o+1]._x-u[o+1],2*a[o+1]._y-c[o+1]):new h((a[r]._x+u[r-1])/2,(a[r]._y+c[r-1])/2))}if(n&&m){var v=this._segments[0];v.setHandleIn(m.subtract(v._point))}}}}},new function(){function t(t){var e=t._segments;if(0===e.length)throw Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new P(h.read(arguments))])},moveBy:function(){throw Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new P(h.read(arguments))])},cubicCurveTo:function(){var e=h.read(arguments),i=h.read(arguments),n=h.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new P(n,i.subtract(n))])},quadraticCurveTo:function(){var e=h.read(arguments),i=h.read(arguments),n=t(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var i=h.read(arguments),n=h.read(arguments),r=e.pick(e.read(arguments),.5),s=1-r,a=t(this)._point,o=i.subtract(a.multiply(s*s)).subtract(n.multiply(r*r)).divide(2*r*s);if(o.isNaN())throw Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(o,n)},arcTo:function(){var i,n,r,s,a,o=t(this),l=o._point,u=h.read(arguments),f=e.peek(arguments),d=e.pick(f,!0);if("boolean"==typeof d)var _=l.add(u).divide(2),i=_.add(_.subtract(l).rotate(d?-90:90));else if(e.remain(arguments)<=2)i=u,u=h.read(arguments);else{var m=c.read(arguments);if(m.isZero())return this.lineTo(u);var v=e.read(arguments),d=!!e.read(arguments),y=!!e.read(arguments),_=l.add(u).divide(2),w=l.subtract(_).rotate(-v),x=w.x,b=w.y,S=Math.abs,C=1e-11,T=S(m.width),k=S(m.height),M=T*T,A=k*k,O=x*x,I=b*b,z=Math.sqrt(O/M+I/A);if(z>1&&(T*=z,k*=z,M=T*T,A=k*k),z=(M*A-M*I-A*O)/(M*I+A*O),S(z)<C&&(z=0),0>z)throw Error("Cannot create an arc with the given arguments");n=new h(T*b/k,-k*x/T).multiply((y===d?-1:1)*Math.sqrt(z)).rotate(v).add(_),a=(new p).translate(n).rotate(v).scale(T,k),s=a._inverseTransform(l),r=s.getDirectedAngle(a._inverseTransform(u)),!d&&r>0?r-=360:d&&0>r&&(r+=360)}if(i){var R=new g(l.add(i).divide(2),i.subtract(l).rotate(90),!0),E=new g(i.add(u).divide(2),u.subtract(i).rotate(90),!0),L=new g(l,u),D=L.getSide(i);if(n=R.intersect(E,!0),!n){if(!D)return this.lineTo(u);throw Error("Cannot create an arc with the given arguments")}s=l.subtract(n),r=s.getDirectedAngle(u.subtract(n));var N=L.getSide(n);0===N?r=D*Math.abs(r):D===N&&(r+=0>r?360:-360)}for(var F=Math.abs(r),j=F>=360?4:Math.ceil(F/90),V=r/j,B=V*Math.PI/360,q=4/3*Math.sin(B)/(1+Math.cos(B)),X=[],H=0;j>=H;H++){var w=u,U=null;if(j>H&&(U=s.rotate(90).multiply(q),a?(w=a._transformPoint(s),U=a._transformPoint(s.add(U)).subtract(w)):w=n.add(s)),0===H)o.setHandleOut(U);else{var Y=s.rotate(-90).multiply(q);a&&(Y=a._transformPoint(s.add(Y)).subtract(w)),X.push(new P(w,Y,U))}s=s.rotate(V)}this._add(X)},lineBy:function(){var e=h.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var i=h.read(arguments),n=h.read(arguments),r=e.read(arguments),s=t(this)._point;this.curveTo(s.add(i),s.add(n),r)},cubicCurveBy:function(){var e=h.read(arguments),i=h.read(arguments),n=h.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(i),r.add(n))},quadraticCurveBy:function(){var e=h.read(arguments),i=h.read(arguments),n=t(this)._point;this.quadraticCurveTo(n.add(e),n.add(i))},arcBy:function(){var i=t(this)._point,n=i.add(h.read(arguments)),r=e.pick(e.peek(arguments),!0);"boolean"==typeof r?this.arcTo(n,r):this.arcTo(n,i.add(h.read(arguments)))},closePath:function(t){this.setClosed(!0),t&&this.join()}}},{_getBounds:function(t,e){return I[t](this._segments,this._closed,this.getStyle(),e)},statics:{isClockwise:function(t){for(var e=0,i=0,n=t.length;n>i;i++)for(var r=M.getValues(t[i],t[n>i+1?i+1:0]),s=2;8>s;s+=2)e+=(r[s-2]-r[s])*(r[s+1]+r[s-1]);return e>0},getBounds:function(t,e,i,n,r){function s(t){t._transformCoordinates(n,o,!1);for(var e=0;2>e;e++)M._addBounds(h[e],h[e+4],o[e+2],o[e],e,r?r[e]:0,l,u,c);var i=h;h=o,o=i}var a=t[0];if(!a)return new d;for(var o=Array(6),h=a._transformCoordinates(n,Array(6),!1),l=h.slice(0,2),u=l.slice(),c=Array(2),f=1,_=t.length;_>f;f++)s(t[f]);return e&&s(a),new d(l[0],l[1],u[0]-l[0],u[1]-l[1])},getStrokeBounds:function(t,e,i,n){function r(t){f=f.include(n?n._transformPoint(t,t):t)}function s(t){f=f.unite(m.setCenter(n?n._transformPoint(t._point):t._point))}function a(t,e){var i=t._handleIn,n=t._handleOut;"round"===e||!i.isZero()&&!n.isZero()&&i.isColinear(n)?s(t):I._addBevelJoin(t,e,l,g,r)}function o(t,e){"round"===e?s(t):I._addSquareCap(t,e,l,r)}if(!i.hasStroke())return I.getBounds(t,e,i,n);for(var h=t.length-(e?0:1),l=i.getStrokeWidth()/2,u=I._getPenPadding(l,n),f=I.getBounds(t,e,i,n,u),_=i.getStrokeJoin(),p=i.getStrokeCap(),g=l*i.getMiterLimit(),m=new d(new c(u).multiply(2)),v=1;h>v;v++)a(t[v],_);return e?a(t[0],_):h>0&&(o(t[0],p),o(t[t.length-1],p)),f},_getPenPadding:function(t,e){if(!e)return[t,t];var i=e.shiftless(),n=i.transform(new h(t,0)),r=i.transform(new h(0,t)),s=n.getAngleInRadians(),a=n.getLength(),o=r.getLength(),l=Math.sin(s),u=Math.cos(s),c=Math.tan(s),f=-Math.atan(o*c/a),d=Math.atan(o/(c*a));return[Math.abs(a*Math.cos(f)*u-o*Math.sin(f)*l),Math.abs(o*Math.sin(d)*u+a*Math.cos(d)*l)]},_addBevelJoin:function(t,e,i,n,r,s){var a=t.getCurve(),o=a.getPrevious(),l=a.getPointAt(0,!0),u=o.getNormalAt(1,!0),c=a.getNormalAt(0,!0),f=u.getDirectedAngle(c)<0?-i:i;if(u.setLength(f),c.setLength(f),s&&(r(l),r(l.add(u))),"miter"===e){var d=new g(l.add(u),new h(-u.y,u.x),!0).intersect(new g(l.add(c),new h(-c.y,c.x),!0),!0);if(d&&l.getDistance(d)<=n&&(r(d),!s))return}s||r(l.add(u)),r(l.add(c))},_addSquareCap:function(t,e,i,n,r){var s=t._point,a=t.getLocation(),o=a.getNormal().normalize(i);r&&(n(s.subtract(o)),n(s.add(o))),"square"===e&&(s=s.add(o.rotate(0===a.getParameter()?-90:90))),n(s.add(o)),n(s.subtract(o))},getHandleBounds:function(t,e,i,n,r,s){for(var a=Array(6),o=1/0,h=-o,l=o,u=h,c=0,f=t.length;f>c;c++){var _=t[c];_._transformCoordinates(n,a,!1);for(var p=0;6>p;p+=2){var g=0===p?s:r,m=g?g[0]:0,v=g?g[1]:0,y=a[p],w=a[p+1],x=y-m,b=y+m,S=w-v,C=w+v;o>x&&(o=x),b>h&&(h=b),l>S&&(l=S),C>u&&(u=C)}}return new d(o,l,h-o,u-l)},getRoughBounds:function(t,e,i,n){var r=i.hasStroke()?i.getStrokeWidth()/2:0,s=r;return r>0&&("miter"===i.getStrokeJoin()&&(s=r*i.getMiterLimit()),"square"===i.getStrokeCap()&&(s=Math.max(s,r*Math.sqrt(2)))),I.getHandleBounds(t,e,i,n,I._getPenPadding(r,n),I._getPenPadding(s,n))}}});I.inject({statics:new function(){function t(t,i,n){var r=e.getNamed(n),s=new I(r&&r.insert===!1&&y.NO_INSERT);return s._add(t),s._closed=i,s.set(r)}function i(e,i,n){for(var s=Array(4),a=0;4>a;a++){var o=r[a];s[a]=new P(o._point.multiply(i).add(e),o._handleIn.multiply(i),o._handleOut.multiply(i))}return t(s,!0,n)}var n=.5522847498307936,r=[new P([-1,0],[0,n],[0,-n]),new P([0,-1],[-n,0],[n,0]),new P([1,0],[0,-n],[0,n]),new P([0,1],[n,0],[-n,0])];return{Line:function(){return t([new P(h.readNamed(arguments,"from")),new P(h.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=h.readNamed(arguments,"center"),n=e.readNamed(arguments,"radius");return i(t,new c(n),arguments)},Rectangle:function(){var e,i=d.readNamed(arguments,"rectangle"),r=c.readNamed(arguments,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),a=i.getTopLeft(!0),o=i.getTopRight(!0),h=i.getBottomRight(!0);if(!r||r.isZero())e=[new P(s),new P(a),new P(o),new P(h)];else{r=c.min(r,i.getSize(!0).divide(2));var l=r.width,u=r.height,f=l*n,_=u*n;e=[new P(s.add(l,0),null,[-f,0]),new P(s.subtract(0,u),[0,_]),new P(a.add(0,u),null,[0,-_]),new P(a.add(l,0),[-f,0],null),new P(o.subtract(l,0),null,[f,0]),new P(o.add(0,u),[0,-_],null),new P(h.subtract(0,u),null,[0,_]),new P(h.subtract(l,0),[f,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=b._readEllipse(arguments);return i(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=h.readNamed(arguments,"from"),i=h.readNamed(arguments,"through"),n=h.readNamed(arguments,"to"),r=e.getNamed(arguments),s=new I(r&&r.insert===!1&&y.NO_INSERT);return s.moveTo(t),s.arcTo(i,n),s.set(r)},RegularPolygon:function(){for(var i=h.readNamed(arguments,"center"),n=e.readNamed(arguments,"sides"),r=e.readNamed(arguments,"radius"),s=360/n,a=!(n%3),o=new h(0,a?-r:r),l=a?-1:.5,u=Array(n),c=0;n>c;c++)u[c]=new P(i.add(o.rotate((c+l)*s)));return t(u,!0,arguments)},Star:function(){for(var i=h.readNamed(arguments,"center"),n=2*e.readNamed(arguments,"points"),r=e.readNamed(arguments,"radius1"),s=e.readNamed(arguments,"radius2"),a=360/n,o=new h(0,-1),l=Array(n),u=0;n>u;u++)l[u]=new P(i.add(o.rotate(a*u).multiply(u%2?s:r)));return t(l,!0,arguments)}}}});var z=O.extend({_class:"CompoundPath",_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function xe(e,i,n){i=xe.base.call(this,e,i,n,I);for(var r=0,s=!n&&i&&i.length;s>r;r++){var a=i[r];a._clockwise===t&&a.setClockwise(0===a._index)}return i},reverse:function(){for(var t=this._children,e=0,i=t.length;i>e;e++)t[e].reverse()},smooth:function(){for(var t=0,e=this._children.length;e>t;t++)this._children[t].smooth()},isClockwise:function(){var t=this.getFirstChild();return t&&t.isClockwise()},setClockwise:function(t){this.isClockwise()!==!!t&&this.reverse()},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;n>i;i++)e.push.apply(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getFirstCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;n>i;i++)e+=t[i].getArea();return e}},{beans:!0,getPathData:function(t,e){for(var i=this._children,n=[],r=0,s=i.length;s>r;r++){var a=i[r],o=a._matrix;n.push(a.getPathData(t&&!o.isIdentity()?t.chain(o):o,e))}return n.join(" ")}},{_getChildHitTestOptions:function(t){return t.class===I||"path"===t.type?t:new e(t,{fill:!1})},_draw:function(t,e,i){var n=this._children;if(0!==n.length){if(this._currentPath)t.currentPath=this._currentPath;else{e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var r=0,s=n.length;s>r;r++)n[r].draw(t,e,i);this._currentPath=t.currentPath}if(!e.clip){this._setStyles(t);var a=this._style;a.hasFill()&&(t.fill(a.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,r=0,s=n.length;s>r;r++){var a=n[r],o=a._matrix;i[a._id]||a._drawSelected(t,o.isIdentity()?e:e.chain(o))}}},new function(){function t(t,e){var i=t._children;if(e&&0===i.length)throw Error("Use a moveTo() command first");return i[i.length-1]}var i={moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new I;i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=h.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}};return e.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){i[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}}),i});O.inject(new function(){function t(t,r,s,a){function o(t){return t.clone(!1).reduce().reorient().transform(null,!0)}function h(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];_.push.apply(_,n._segments),p.push.apply(p,n._getMonoCurves())}}var l=o(t),u=r&&t!==r&&o(r);l.isClockwise()||l.reverse(),!u||a^u.isClockwise()||u.reverse(),e(l.getIntersections(u,!0));var c=[],f=[],d=[],_=[],p=[];h(l._children||[l]),u&&h(u._children||[u]),_.sort(function(t,e){var i=t._intersection,n=e._intersection;return!i&&!n||i&&n?0:i?-1:1});for(var g=0,m=_.length;m>g;g++){var v=_[g];if(null==v._winding){c.length=f.length=d.length=0;var y=0,w=v;do c.push(v),d.push(y+=v.getCurve().getLength()),v=v.getNext();while(v&&!v._intersection&&v!==w);for(var x=0;3>x;x++){var b=y*Math.random(),S=d.length,C=0;do if(d[C]>=b){C>0&&(b-=d[C-1]);break}while(++C<S);var T=c[C].getCurve(),P=T.getPointAt(b),k=T.isHorizontal(),M=T._path;M._parent instanceof z&&(M=M._parent),f[x]=a&&u&&(M===l&&u._getWinding(P,k)||M===u&&!l._getWinding(P,k))?0:i(P,p,k)}f.sort();for(var A=f[1],x=c.length-1;x>=0;x--)c[x]._winding=A}}var O=new z;return O.addChildren(n(_,s),!0),l.remove(),u&&u.remove(),O=O.reduce(),O.setStyle(t._style),O}function e(t){function e(){for(var t=0,e=i.length;e>t;t++){var n=i[t];n._handleOut.set(0,0),n._handleIn.set(0,0)}}for(var i,n,r,s=1e-5,a=t.length-1;a>=0;a--){var o=t[a],h=o._parameter;r&&r._curve===o._curve&&r._parameter>0?h/=r._parameter:(i&&e(),n=o._curve,i=n.isLinear()&&[]);var l,u;(l=n.divide(h,!0,!0))?(u=l._segment1,n=l.getPrevious()):u=s>h?n._segment1:h>1-s?n._segment2:n.getPartLength(0,h)<n.getPartLength(h,1)?n._segment1:n._segment2,u._intersection=o.getIntersection(),o._segment=u,i&&i.push(u),r=o}i&&e()}function i(t,e,n,r){var s=1e-5,a=t.x,o=t.y,l=0,u=0,c=[],f=Math.abs,d=1-s;if(n){for(var _=-1/0,p=1/0,g=o-s,m=o+s,v=0,y=e.length;y>v;v++){var w=e[v].values;if(M.solveCubic(w,0,a,c,0,1)>0)for(var x=c.length-1;x>=0;x--){var b=M.evaluate(w,c[x],0).y;g>b&&b>_?_=b:b>m&&p>b&&(p=b)}}_=(_+o)/2,p=(p+o)/2,_>-1/0&&(l=i(new h(a,_),e)),1/0>p&&(u=i(new h(a,p),e))}else for(var S=a-s,C=a+s,v=0,y=e.length;y>v;v++){var T=e[v],w=T.values,P=T.winding,k=T.next;if(P&&(1===P&&o>=w[1]&&o<=w[7]||o>=w[7]&&o<=w[1])&&1===M.solveCubic(w,1,o,c,0,k.winding||k.values[1]!==o?d:1)){var A=c[0],O=M.evaluate(w,A,0).x,I=M.evaluate(w,A,1).y;f(I)<s&&!M.isLinear(w)||s>A&&I*M.evaluate(T.previous.values,A,1).y<0?r&&O>=S&&C>=O&&(++l,++u):S>=O?l+=P:O>=C&&(u+=P)}}return Math.max(f(l),f(u))}function n(t,e,i){e=e||function(){return!0};for(var n,r,s=[],a=.001,o=.999,h=0,l=t.length;l>h;h++)if(n=r=t[h],!n._visited&&e(n._winding)){var u=new I(y.NO_INSERT),c=n._intersection,f=c&&c._segment,d=!1,_=1;do{var p,g=_>0?n._handleIn:n._handleOut,m=_>0?n._handleOut:n._handleIn;if(d&&(!e(n._winding)||i)&&(c=n._intersection)&&(p=c._segment)&&p!==r){if(i)n._visited=p._visited,n=p,_=1;else{var v=n.getCurve();_>0&&(v=v.getPrevious());var w=v.getTangentAt(1>_?a:o,!0),x=p.getCurve(),b=x.getPrevious(),S=b.getTangentAt(o,!0),C=x.getTangentAt(a,!0),T=w.cross(S),k=w.cross(C);if(0!==T*k){var M=k>T?b:x,A=e(M._segment1._winding)?M:k>T?x:b,O=A._segment1;_=A===b?-1:1,O._visited&&n._path!==O._path||!e(O._winding)?_=1:(n._visited=p._visited,n=p,O._visited&&(_=1))}else _=1}m=_>0?n._handleOut:n._handleIn}u.add(new P(n._point,d&&g,m)),d=!0,n._visited=!0,n=_>0?n.getNext():n.getPrevious()}while(n&&!n._visited&&n!==r&&n!==f&&(n._intersection||e(n._winding)));!n||n!==r&&n!==f?u.lastSegment._handleOut.set(0,0):(u.firstSegment.setHandleIn((n===f?f:n)._handleIn),u.setClosed(!0)),u._segments.length>(u._closed?u.isPolygon()?2:0:1)&&s.push(u)}return s}return{_getWinding:function(t,e,n){return i(t,this._getMonoCurves(),e,n)},unite:function(e){return t(this,e,function(t){return 1===t||0===t},!1)},intersect:function(e){return t(this,e,function(t){return 2===t},!1)},subtract:function(e){return t(this,e,function(t){return 1===t},!0)},exclude:function(t){return new w([this.subtract(t),t.subtract(this)])},divide:function(t){return new w([this.subtract(t),this.intersect(t)])}}}),I.inject({_getMonoCurves:function(){function t(t){var e=t[1],r=t[7],s={values:t,winding:e===r?0:e>r?-1:1,previous:i,next:null};i&&(i.next=s),n.push(s),i=s}function e(e){if(0!==M.getLength(e)){var i=e[1],n=e[3],r=e[5],s=e[7];if(M.isLinear(e))t(e);else{var a=3*(n-r)-i+s,h=2*(i+r)-4*n,l=n-i,u=1e-5,c=[],f=o.solveQuadratic(a,h,l,c,u,1-u);if(0===f)t(e);else{c.sort();var d=c[0],_=M.subdivide(e,d);t(_[0]),f>1&&(d=(c[1]-d)/(1-d),_=M.subdivide(_[1],d),t(_[0])),t(_[1])}}}}var i,n=this._monoCurves;if(!n){n=this._monoCurves=[];for(var r=this.getCurves(),s=this._segments,a=0,h=r.length;h>a;a++)e(r[a].getValues());if(!this._closed&&s.length>1){var l=s[s.length-1]._point,u=s[0]._point,c=l._x,f=l._y,d=u._x,_=u._y;e([c,f,c,f,d,_,d,_])}if(n.length>0){var p=n[0],g=n[n.length-1];p.previous=g,g.next=p}}return n},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var i=this._getMonoCurves(),n=[],r=e.y,s=[],a=0,o=i.length;o>a;a++){var h=i[a].values;if((1===i[a].winding&&r>=h[1]&&r<=h[7]||r>=h[7]&&r<=h[1])&&M.solveCubic(h,1,r,n,0,1)>0)for(var l=n.length-1;l>=0;l--)s.push(M.evaluate(h,n[l],0).x);if(s.length>1)break}e.x=(s[0]+s[1])/2}return e},reorient:function(){return this.setClockwise(!0),this}}),z.inject({_getMonoCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;n>i;i++)e.push.apply(e,t[i]._getMonoCurves());return e},reorient:function(){var t=this.removeChildren().sort(function(t,e){return e.getBounds().getArea()-t.getBounds().getArea()});this.addChildren(t);for(var e=t[0].isClockwise(),i=1,n=t.length;n>i;i++){for(var r=t[i].getInteriorPoint(),s=0,a=i-1;a>=0;a--)t[a].contains(r)&&s++;t[i].setClockwise(0===s%2&&e)}return this}});var R=e.extend({initialize:function(t,e){function i(t,i){var n=M.getValues(t,i,e);a.curves.push(n),a._computeParts(n,t._index,0,1)}this.curves=[],this.parts=[],this.length=0,this.index=0;for(var n,r=t._segments,s=r[0],a=this,o=1,h=r.length;h>o;o++)n=r[o],i(s,n),s=n;t._closed&&i(n,r[0])},_computeParts:function(t,e,i,n){if(n-i>1/32&&!M.isFlatEnough(t,.25)){var r=M.subdivide(t),s=(i+n)/2;this._computeParts(r[0],e,i,s),this._computeParts(r[1],e,s,n)}else{var a=t[6]-t[0],o=t[7]-t[1],h=Math.sqrt(a*a+o*o);h>1e-5&&(this.length+=h,this.parts.push({offset:this.length,value:n,index:e}))}},getParameterAt:function(t){for(var e,i=this.index;e=i,!(0==i||this.parts[--i].offset<t););for(var n=this.parts.length;n>e;e++){var r=this.parts[e];if(r.offset>=t){this.index=e;var s=this.parts[e-1],a=s&&s.index==r.index?s.value:0,o=s?s.offset:0;return{value:a+(r.value-a)*(t-o)/(r.offset-o),index:r.index}}}var r=this.parts[this.parts.length-1];return{value:1,index:r.index}},evaluate:function(t,e){var i=this.getParameterAt(t);return M.evaluate(this.curves[i.index],i.value,e)},drawPart:function(t,e,i){e=this.getParameterAt(e),i=this.getParameterAt(i);for(var n=e.index;n<=i.index;n++){var r=M.getPart(this.curves[n],n==e.index?e.value:0,n==i.index?i.value:1);n==e.index&&t.moveTo(r[0],r[1]),t.bezierCurveTo.apply(t,r.slice(2))}}}),E=e.extend({initialize:function(t,e){this.points=[];for(var i,n=t._segments,r=0,s=n.length;s>r;r++){var a=n[r].point.clone();i&&i.equals(a)||(this.points.push(a),i=a)}this.error=e},fit:function(){var t=this.points,e=t.length;return this.segments=e>0?[new P(t[0])]:[],e>1&&this.fitCubic(0,e-1,t[1].subtract(t[0]).normalize(),t[e-2].subtract(t[e-1]).normalize()),this.segments},fitCubic:function(e,i,n,r){if(1==i-e){var s=this.points[e],a=this.points[i],o=s.getDistance(a)/3;return this.addCurve([s,s.add(n.normalize(o)),a.add(r.normalize(o)),a]),t}for(var h,l=this.chordLengthParameterize(e,i),u=Math.max(this.error,this.error*this.error),c=0;4>=c;c++){var f=this.generateBezier(e,i,l,n,r),d=this.findMaxError(e,i,f,l);if(d.error<this.error)return this.addCurve(f),t;if(h=d.index,d.error>=u)break;this.reparameterize(e,i,l,f),u=d.error}var _=this.points[h-1].subtract(this.points[h]),p=this.points[h].subtract(this.points[h+1]),g=_.add(p).divide(2).normalize();this.fitCubic(e,h,n,g),this.fitCubic(h,i,g.negate(),r)},addCurve:function(t){var e=this.segments[this.segments.length-1];e.setHandleOut(t[1].subtract(t[0])),this.segments.push(new P(t[3],t[2].subtract(t[3])))},generateBezier:function(t,e,i,n,r){for(var s=1e-11,a=this.points[t],o=this.points[e],h=[[0,0],[0,0]],l=[0,0],u=0,c=e-t+1;c>u;u++){var f=i[u],d=1-f,_=3*f*d,p=d*d*d,g=_*d,m=_*f,v=f*f*f,y=n.normalize(g),w=r.normalize(m),x=this.points[t+u].subtract(a.multiply(p+g)).subtract(o.multiply(m+v));h[0][0]+=y.dot(y),h[0][1]+=y.dot(w),h[1][0]=h[0][1],h[1][1]+=w.dot(w),l[0]+=y.dot(x),l[1]+=w.dot(x)}var b,S,C=h[0][0]*h[1][1]-h[1][0]*h[0][1];if(Math.abs(C)>s){var T=h[0][0]*l[1]-h[1][0]*l[0],P=l[0]*h[1][1]-l[1]*h[0][1];b=P/C,S=T/C}else{var k=h[0][0]+h[0][1],M=h[1][0]+h[1][1];b=S=Math.abs(k)>s?l[0]/k:Math.abs(M)>s?l[1]/M:0
}var A=o.getDistance(a);return s*=A,(s>b||s>S)&&(b=S=A/3),[a,a.add(n.normalize(b)),o.add(r.normalize(S)),o]},reparameterize:function(t,e,i,n){for(var r=t;e>=r;r++)i[r-t]=this.findRoot(n,this.points[r],i[r-t])},findRoot:function(t,e,i){for(var n=[],r=[],s=0;2>=s;s++)n[s]=t[s+1].subtract(t[s]).multiply(3);for(var s=0;1>=s;s++)r[s]=n[s+1].subtract(n[s]).multiply(2);var a=this.evaluate(3,t,i),o=this.evaluate(2,n,i),h=this.evaluate(1,r,i),l=a.subtract(e),u=o.dot(o)+l.dot(h);return Math.abs(u)<1e-5?i:i-l.dot(o)/u},evaluate:function(t,e,i){for(var n=e.slice(),r=1;t>=r;r++)for(var s=0;t-r>=s;s++)n[s]=n[s].multiply(1-i).add(n[s+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;e>=n;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,r=e-t;r>=n;n++)i[n]/=i[r];return i},findMaxError:function(t,e,i,n){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;e>a;a++){var o=this.evaluate(3,i,n[a-t]),h=o.subtract(this.points[a]),l=h.x*h.x+h.y*h.y;l>=s&&(s=l,r=a)}return{error:s,index:r}}}),L=y.extend({_class:"TextItem",_boundsSelected:!0,_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",initialize:function(i){this._content="",this._lines=[];var n=i&&e.isPlainObject(i)&&i.x===t&&i.y===t;this._initialize(n&&i,!n&&h.read(arguments))},_equals:function(t){return this._content===t._content},_clone:function be(t){return t.setContent(this._content),be.base.call(this,t)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),D=L.extend({_class:"PointText",initialize:function(){L.apply(this,arguments)},clone:function(t){return this._clone(new D(y.NO_INSERT),t)},getPoint:function(){var t=this._matrix.getTranslation();return new u(t.x,t.y,this,"setPoint")},setPoint:function(){var t=h.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t){if(this._content){this._setStyles(t);var e=this._style,i=this._lines,n=e.getLeading(),r=t.shadowColor;t.font=e.getFontStyle(),t.textAlign=e.getJustification();for(var s=0,a=i.length;a>s;s++){t.shadowColor=r;var o=i[s];e.hasFill()&&(t.fillText(o,0,0),t.shadowColor="rgba(0,0,0,0)"),e.hasStroke()&&t.strokeText(o,0,0),t.translate(0,n)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,r=n.length,s=i.getJustification(),a=i.getLeading(),o=this.getView().getTextWidth(i.getFontStyle(),n),h=0;"left"!==s&&(h-=o/("center"===s?2:1));var l=new d(h,r?-.75*a:0,o,r*a);return e?e._transformBounds(l,l):l}}),N=e.extend(new function(){function t(t){var e,n=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(n){e=[0,0,0];for(var r=0;3>r;r++){var a=n[r+1];e[r]=parseInt(1==a.length?a+a:a,16)/255}}else if(n=t.match(/^rgba?\((.*)\)$/)){e=n[1].split(",");for(var r=0,o=e.length;o>r;r++){var a=+e[r];e[r]=3>r?a/255:a}}else{var h=s[t];if(!h){i||(i=K.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=t,i.fillRect(0,0,1,1);var l=i.getImageData(0,0,1,1).data;h=s[t]=[l[0]/255,l[1]/255,l[2]/255]}e=h.slice()}return e}var i,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},s={},o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),s=n-r,a=0===s?0:60*(n==t?(e-i)/s+(i>e?6:0):n==e?(i-t)/s+2:(t-e)/s+4);return[a,0===n?0:s/n,n]},"hsb-rgb":function(t,e,i){t=(t/60%6+6)%6;var n=Math.floor(t),r=t-n,n=o[n],s=[i,i*(1-e),i*(1-e*r),i*(1-e*(1-r))];return[s[n[0]],s[n[1]],s[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),s=n-r,a=0===s,o=a?0:60*(n==t?(e-i)/s+(i>e?6:0):n==e?(i-t)/s+2:(t-e)/s+4),h=(n+r)/2,l=a?0:.5>h?s/(n+r):s/(2-n-r);return[o,l,h]},"hsl-rgb":function(t,e,i){if(t=(t/360%1+1)%1,0===e)return[i,i,i];for(var n=[t+1/3,t,t-1/3],r=.5>i?i*(1+e):i+e-i*e,s=2*i-r,a=[],o=0;3>o;o++){var h=n[o];0>h&&(h+=1),h>1&&(h-=1),a[o]=1>6*h?s+6*(r-s)*h:1>2*h?r:2>3*h?s+6*(r-s)*(2/3-h):s}return a},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return e.each(n,function(t,i){r[i]=[],e.each(t,function(t,s){var a=e.capitalize(t),o=/^(hue|saturation)$/.test(t),l=r[i][s]="gradient"===t?function(t){var e=this._components[0];return t=F.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===i?function(){return h.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+a]=function(){return this._type===i||o&&/^hs[bl]$/.test(this._type)?this._components[s]:this._convert(i)[s]},this["set"+a]=function(t){this._type===i||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(i),this._properties=n[i],this._type=i),t=l.call(this,t),null!=t&&(this._components[s]=t,this._changed())}},this)},{_class:"Color",_readIndex:!0,initialize:function u(e){var i,s,a,o,h=Array.prototype.slice,l=arguments,c=0;Array.isArray(e)&&(l=e,e=l[0]);var f=null!=e&&typeof e;if("string"===f&&e in n&&(i=e,e=l[1],Array.isArray(e)?(s=e,a=l[2]):(this.__read&&(c=1),l=h.call(l,1),f=typeof e)),!s){if(o="number"===f?l:"object"===f&&null!=e.length?e:null){i||(i=o.length>=3?"rgb":"gray");var d=n[i].length;a=o[d],this.__read&&(c+=o===arguments?d+(null!=a?1:0):1),o.length>d&&(o=h.call(o,0,d))}else if("string"===f)i="rgb",s=t(e),4===s.length&&(a=s[3],s.length--);else if("object"===f)if(e.constructor===u){if(i=e._type,s=e._components.slice(),a=e._alpha,"gradient"===i)for(var _=1,p=s.length;p>_;_++){var g=s[_];g&&(s[_]=g.clone())}}else if(e.constructor===F)i="gradient",o=l;else{i="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var m=n[i];y=r[i],this._components=s=[];for(var _=0,p=m.length;p>_;_++){var v=e[m[_]];null==v&&0===_&&"gradient"===i&&"stops"in e&&(v={stops:e.stops,radial:e.radial}),v=y[_].call(this,v),null!=v&&(s[_]=v)}a=e.alpha}this.__read&&i&&(c=1)}if(this._type=i||"rgb","gradient"===i&&(this._id=u._id=(u._id||0)+1),!s){this._components=s=[];for(var y=r[this._type],_=0,p=y.length;p>_;_++){var v=y[_].call(this,o&&o[_]);null!=v&&(s[_]=v)}}this._components=s,this._properties=n[this._type],this._alpha=a,this.__read&&(this.__read=c)},_serialize:function(t,i){var n=this.getComponents();return e.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,i)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=l[this._type+"-"+t])?e.apply(this,this._components):l["rgb-"+t].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new N(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var i=e.isPlainValue(t,!0)?N.read(arguments):t;return i===this||i&&this._class===i._class&&this._type===i._type&&this._alpha===i._alpha&&e.equals(this._components,i._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=a.instance,r=0,s=t.length;s>r;r++){var o=this._components[r];null!=o&&e.push(t[r]+": "+(i?o:n.number(o)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(0>t?0:t>1?1:t))}var i=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;return i=[e(i[0]),e(i[1]),e(i[2])],1>n&&i.push(0>n?0:n),t?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).slice(1):(4==i.length?"rgba(":"rgb(")+i.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,i=this._components,n=i[0],r=n._stops,s=i[1],a=i[2];if(n._radial){var o=a.getDistance(s),h=i[3];if(h){var l=h.subtract(s);l.getLength()>o&&(h=s.add(l.normalize(o-.1)))}var u=h||s;e=t.createRadialGradient(u.x,u.y,0,s.x,s.y,o)}else e=t.createLinearGradient(s.x,s.y,a.x,a.y);for(var c=0,f=r.length;f>c;c++){var d=r[c];e.addColorStop(d._rampPoint,d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;n>i;i++){var r=e[i];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new N(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return e.each(t,function(t,e){this[e]=function(e){e=N.read(arguments);for(var i=this._type,n=this._components,r=e._convert(i),s=0,a=n.length;a>s;s++)r[s]=t(n[s],r[s]);return new N(i,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})});e.each(N._types,function(t,i){var n=this[e.capitalize(i)+"Color"]=function(t){var e=null!=t&&typeof t,n="object"===e&&null!=t.length?t:"string"===e?null:arguments;return n?new N(i,n):new N(t)};if(3==i.length){var r=i.toUpperCase();N[r]=this[r+"Color"]=n}},e.exports);var F=e.extend({_class:"Gradient",initialize:function Se(t,e){this._id=Se._id=(Se._id||0)+1,t&&this._set(t)&&(t=e=null),this._stops||this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,i){return i.add(this,function(){return e.serialize([this._stops,this._radial],t,!0,i)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;e>t;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(e){var i=this._owners?this._owners.indexOf(e):-1;-1!=i&&(this._owners.splice(i,1),0===this._owners.length&&(this._owners=t))},clone:function(){for(var t=[],e=0,i=this._stops.length;i>e;e++)t[e]=this._stops[e].clone();return new F(t)},getStops:function(){return this._stops},setStops:function(e){if(this.stops)for(var i=0,n=this._stops.length;n>i;i++)this._stops[i]._owner=t;if(e.length<2)throw Error("Gradient stop list needs to contain at least two stops.");this._stops=j.readAll(e,0,{clone:!0});for(var i=0,n=this._stops.length;n>i;i++){var r=this._stops[i];r._owner=this,r._defaultRamp&&r.setRampPoint(i/(n-1))}this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class&&this._stops.length===t._stops.length){for(var e=0,i=this._stops.length;i>e;e++)if(!this._stops[e].equals(t._stops[e]))return!1;return!0}return!1}}),j=e.extend({_class:"GradientStop",initialize:function(e,i){if(e){var n,r;i===t&&Array.isArray(e)?(n=e[0],r=e[1]):e.color?(n=e.color,r=e.rampPoint):(n=e,r=i),this.setColor(n),this.setRampPoint(r)}},clone:function(){return new j(this._color.clone(),this._rampPoint)},_serialize:function(t,i){return e.serialize([this._color,this._rampPoint],t,!0,i)},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){return this._rampPoint},setRampPoint:function(t){this._defaultRamp=null==t,this._rampPoint=t||0,this._changed()},getColor:function(){return this._color},setColor:function(t){this._color=N.read(arguments),this._color===t&&(this._color=t.clone()),this._color._owner=this,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._rampPoint==t._rampPoint||!1}}),V=e.extend(new function(){var i={fillColor:t,strokeColor:t,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],windingRule:"nonzero",shadowColor:t,shadowBlur:0,shadowOffset:new h,selectedColor:t,fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,justification:"left"},n={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},s={_defaults:i,_textDefaults:new e(i,{fillColor:new N}),beans:!0};return e.each(i,function(i,a){var o=/Color$/.test(a),h=e.capitalize(a),l=n[a],u="set"+h,c="get"+h;s[u]=function(e){var i=this._owner,n=i&&i._children;if(n&&n.length>0&&!(i instanceof z))for(var r=0,s=n.length;s>r;r++)n[r]._style[u](e);else{var h=this._values[a];h!=e&&(o&&(h&&(h._owner=t),e&&e.constructor===N&&(e._owner&&(e=e.clone()),e._owner=i)),this._values[a]=e,i&&i._changed(l||65))}},s[c]=function(i){var n,r=this._owner,s=r&&r._children;if(!s||0===s.length||i||r instanceof z){var n=this._values[a];return n===t?(n=this._defaults[a],n&&n.clone&&(n=n.clone()),this._values[a]=n):!o||n&&n.constructor===N||(this._values[a]=n=N.read([n],0,{readNull:!0,clone:!0}),n&&(n._owner=r)),n}for(var h=0,l=s.length;l>h;h++){var u=s[h]._style[c]();if(0===h)n=u;else if(!e.equals(n,u))return t}return n},r[c]=function(t){return this._style[c](t)},r[u]=function(t){this._style[u](t)}}),y.inject(r),s},{_class:"Style",initialize:function(t,e,i){this._values={},this._owner=e,this._project=e&&e._project||i||paper.project,e instanceof L&&(this._defaults=this._textDefaults),t&&this.set(t)},set:function(t){var e=t instanceof V,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var r=i[n];this[n]=r&&e&&r.clone?r.clone():r}},equals:function(t){return t===this||t&&this._class===t._class&&e.equals(this._values,t._values)||!1},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){return this._project.getView()},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function Ce(){var t=Ce.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),B=new function(){function i(t,n){for(var r=[],s=0,a=t&&t.length;a>s;){var o=t[s++];if("string"==typeof o)o=document.createElement(o);else if(!o||!o.nodeType)continue;e.isPlainObject(t[s])&&B.set(o,t[s++]),Array.isArray(t[s])&&i(t[s++],o),n&&n.appendChild(o),r.push(o)}return r}function n(t,e,i,n){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;6>a;a++){var o=r[a],h=o?o+s:e;if(h in t){if(!i)return t[h];t[h]=n;break}}}var r=/^(checked|value|selected|disabled)$/i,s={text:"textContent",html:"innerHTML"},a={lineHeight:1,zoom:1,zIndex:1,opacity:1};return{create:function(t,e){var n=Array.isArray(t),r=i(n?t:arguments,n?e:null);return 1==r.length?r[0]:r},find:function(t,e){return(e||document).querySelector(t)},findAll:function(t,e){return(e||document).querySelectorAll(t)},get:function(t,e){return t?r.test(e)?"value"===e||"string"!=typeof t[e]?t[e]:!0:e in s?t[s[e]]:t.getAttribute(e):null},set:function(e,i,n){if("string"!=typeof i)for(var a in i)i.hasOwnProperty(a)&&this.set(e,a,i[a]);else{if(!e||n===t)return e;r.test(i)?e[i]=n:i in s?e[s[i]]=n:"style"===i?this.setStyle(e,n):"events"===i?q.add(e,n):e.setAttribute(i,n)}return e},getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getStyle:function(t,e){return t&&t.style[e]||this.getStyles(t)[e]||null},setStyle:function(t,e,i){if("string"!=typeof e)for(var n in e)e.hasOwnProperty(n)&&this.setStyle(t,n,e[n]);else!/^-?[\d\.]+$/.test(i)||e in a||(i+="px"),t.style[e]=i;return t},hasClass:function(t,e){return RegExp("\\s*"+e+"\\s*").test(t.className)},addClass:function(t,e){t.className=(t.className+" "+e).trim()},removeClass:function(t,e){t.className=t.className.replace(RegExp("\\s*"+e+"\\s*")," ").trim()},remove:function(t){t.parentNode&&t.parentNode.removeChild(t)},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},getBounds:function(t,e){var i,n=t.ownerDocument,r=n.body,s=n.documentElement;try{i=t.getBoundingClientRect()}catch(a){i={left:0,top:0,width:0,height:0}}var o=i.left-(s.clientLeft||r.clientLeft||0),h=i.top-(s.clientTop||r.clientTop||0);if(!e){var l=n.defaultView;o+=l.pageXOffset||s.scrollLeft||r.scrollLeft,h+=l.pageYOffset||s.scrollTop||r.scrollTop}return new d(o,h,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;return new d(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return this.getBounds(t,e).getPoint()},getSize:function(t){return this.getBounds(t,!0).getSize()},isInvisible:function(t){return this.getSize(t).equals(new c(0,0))},isInView:function(t){return!this.isInvisible(t)&&this.getViewportBounds(t).intersects(this.getBounds(t,!0))},getPrefixed:function(t,e){return n(t,e)},setPrefixed:function(t,e,i){if("object"==typeof e)for(var r in e)n(t,r,!0,e[r]);else n(t,e,!0,i)}}},q={add:function(t,e){for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,a=r.length;a>s;s++)t.addEventListener(r[s],n,!1)},remove:function(t,e){for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,a=r.length;a>s;s++)t.removeEventListener(r[s],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new h(e.pageX||e.clientX+document.documentElement.scrollLeft,e.pageY||e.clientY+document.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return q.getPoint(t).subtract(B.getOffset(e||q.getTarget(t)))},stop:function(t){t.stopPropagation(),t.preventDefault()}};q.requestAnimationFrame=new function(){function t(){for(var e=s.length-1;e>=0;e--){var o=s[e],h=o[0],l=o[1];(!l||("true"==r.getAttribute(l,"keepalive")||a)&&B.isInView(l))&&(s.splice(e,1),h())}i&&(s.length?i(t):n=!1)}var e,i=B.getPrefixed(window,"requestAnimationFrame"),n=!1,s=[],a=!0;return q.add(window,{focus:function(){a=!0},blur:function(){a=!1}}),function(r,a){s.push([r,a]),i?n||(i(t),n=!0):e||(e=setInterval(t,1e3/60))}};var X=e.extend(n,{_class:"View",initialize:function Te(t,e){this._project=t,this._scope=t._scope,this._element=e;var i;this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+Te._id++),q.add(e,this._viewEvents);var n="none";if(B.setPrefixed(e.style,{userSelect:n,touchAction:n,touchCallout:n,contentZooming:n,userDrag:n,tapHighlightColor:"rgba(0,0,0,0)"}),r.hasAttribute(e,"resize")){var s=B.getOffset(e,!0),a=this;i=B.getViewportBounds(e).getSize().subtract(s),this._windowEvents={resize:function(){B.isInvisible(e)||(s=B.getOffset(e,!0)),a.setViewSize(B.getViewportBounds(e).getSize().subtract(s))}},q.add(window,this._windowEvents)}else if(i=B.getSize(e),i.isNaN()||i.isZero()){var o=function(t){return e[t]||parseInt(e.getAttribute(t),10)};i=new c(o("width"),o("height"))}if(this._setViewSize(i),r.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var h=this._stats.domElement,l=h.style,s=B.getOffset(e);l.position="absolute",l.left=s.x+"px",l.top=s.y+"px",document.body.appendChild(h)}Te._views.push(this),Te._viewsById[this._id]=this,this._viewSize=i,(this._matrix=new p)._owner=this,this._zoom=1,Te._focused||(Te._focused=this),this._frameItems={},this._frameItemCount=0},remove:function(){return this._project?(X._focused===this&&(X._focused=null),X._views.splice(X._views.indexOf(this),1),delete X._viewsById[this._id],this._project._view===this&&(this._project._view=null),q.remove(this._element,this._viewEvents),q.remove(window,this._windowEvents),this._element=this._project=null,this.detach("frame"),this._animate=!1,this._frameItems={},!0):!1},_events:{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}},onResize:{}},_animate:!1,_time:0,_count:0,_requestFrame:function(){var t=this;q.requestAnimationFrame(function(){t._requested=!1,t._animate&&(t._requestFrame(),t._handleFrame())},this._element),this._requested=!0},_handleFrame:function(){paper=this._scope;var t=Date.now()/1e3,i=this._before?t-this._before:0;this._before=t,this._handlingFrame=!0,this.fire("frame",new e({delta:i,time:this._time+=i,count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.attach("frame",this._handleFrameItems)):(delete i[t._id],0===--this._frameItemCount&&this.detach("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var i in this._frameItems){var n=this._frameItems[i];n.item.fire("frame",new e(t,{time:n.time+=t.delta,count:n.count++}))}},_update:function(){this._project._needsUpdate=!0,this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(t){1&t&&(this._project._needsUpdate=!0)},_transform:function(t){this._matrix.concatenate(t),this._bounds=null,this._update()},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new f(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=c.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._viewSize.set(t.width,t.height),this._setViewSize(t),this._bounds=null,this.fire("resize",{size:t,delta:e}),this._update())},_setViewSize:function(t){var e=this._element;e.width=t.width,e.height=t.height},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new d(new h,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=h.read(arguments);this.scrollBy(t.subtract(this.getCenter()))},getZoom:function(){return this._zoom},setZoom:function(t){this._transform((new p).scale(t/this._zoom,this.getCenter())),this._zoom=t},isVisible:function(){return B.isInView(this._element)},scrollBy:function(){this._transform((new p).translate(h.read(arguments).negate()))},play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(h.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(h.read(arguments))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return"string"==typeof e&&(e=document.getElementById(e)),new H(t,e)}}},new function(){function t(t){var e=q.getTarget(t);return e.getAttribute&&X._viewsById[e.getAttribute("id")]}function e(t,e){return t.viewToProject(q.getOffset(e,t._element))}function i(){if(!X._focused||!X._focused.isVisible())for(var t=0,e=X._views.length;e>t;t++){var i=X._views[t];if(i&&i.isVisible()){X._focused=a=i;break}}}function n(t,e,i){t._handleEvent("mousemove",e,i);var n=t._scope.tool;return n&&n._handleEvent(u&&n.responds("mousedrag")?"mousedrag":"mousemove",e,i),t.update(),n}var r,s,a,o,h,l,u=!1,c=window.navigator;c.pointerEnabled||c.msPointerEnabled?(o="pointerdown MSPointerDown",h="pointermove MSPointerMove",l="pointerup pointercancel MSPointerUp MSPointerCancel"):(o="touchstart",h="touchmove",l="touchend touchcancel","ontouchstart"in window&&c.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(o+=" mousedown",h+=" mousemove",l+=" mouseup"));var f={"selectstart dragstart":function(t){u&&t.preventDefault()}},d={mouseout:function(t){var i=X._focused,r=q.getRelatedTarget(t);!i||r&&"HTML"!==r.nodeName||n(i,e(i,t),t)},scroll:i};return f[o]=function(i){var n=X._focused=t(i),s=e(n,i);u=!0,n._handleEvent("mousedown",s,i),(r=n._scope.tool)&&r._handleEvent("mousedown",s,i),n.update()},d[h]=function(o){var h=X._focused;if(!u){var l=t(o);l?(h!==l&&n(h,e(h,o),o),s=h,h=X._focused=a=l):a&&a===h&&(h=X._focused=s,i())}if(h){var c=e(h,o);(u||h.getBounds().contains(c))&&(r=n(h,c,o))}},d[l]=function(t){var i=X._focused;if(i&&u){var n=e(i,t);u=!1,i._handleEvent("mouseup",n,t),r&&r._handleEvent("mouseup",n,t),i.update()}},q.add(document,d),q.add(window,{load:i}),{_viewEvents:f,_handleEvent:function(){},statics:{updateFocus:i}}}),H=X.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof HTMLCanvasElement)){var i=c.read(arguments);if(i.isZero())throw Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));e=K.getCanvas(i)}if(this._context=e.getContext("2d"),this._eventCounters={},this._pixelRatio=1,"off"!==r.getAttribute(e,"hidpi")){var n=window.devicePixelRatio||1,s=B.getPrefixed(this._context,"backingStorePixelRatio")||1;this._pixelRatio=n/s}X.call(this,t,e)},_setViewSize:function(t){var e=t.width,i=t.height,n=this._pixelRatio,r=this._element,s=r.style;r.width=e*n,r.height=i*n,1!==n&&(s.width=e+"px",s.height=i+"px",this._context.scale(n,n))},getPixelSize:function(t){var e=this._context,i=e.font;return e.font=t+" serif",t=parseFloat(e.font),e.font=i,t},getTextWidth:function(t,e){var i=this._context,n=i.font,r=0;i.font=t;for(var s=0,a=e.length;a>s;s++)r=Math.max(r,i.measureText(e[s]).width);return i.font=n,r},update:function(){var t=this._project;if(!t||!t._needsUpdate)return!1;var e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t.draw(e,this._matrix,this._pixelRatio),t._needsUpdate=!1,!0}},new function(){function e(e,i,n,r,s,a){function o(e){return e.responds(i)&&(h||(h=new Z(i,n,r,s,a?r.subtract(a):null)),e.fire(i,h)&&h.isStopped)?(n.preventDefault(),!0):t}for(var h,l=s;l;){if(o(l))return!0;l=l.getParent()}return o(e)?!0:!1}var i,n,r,s,a,o,h,l,u;return{_handleEvent:function(t,c,f){if(this._eventCounters[t]){var d=this._project,_=d.hitTest(c,{tolerance:0,fill:!0,stroke:!0}),p=_&&_.item,g=!1;switch(t){case"mousedown":for(g=e(this,t,f,c,p),l=a==p&&Date.now()-u<300,s=a=p,i=n=r=c,h=!g&&p;h&&!h.responds("mousedrag");)h=h._parent;break;case"mouseup":g=e(this,t,f,c,p,i),h&&(n&&!n.equals(c)&&e(this,"mousedrag",f,c,h,n),p!==h&&(r=c,e(this,"mousemove",f,c,p,r))),!g&&p&&p===s&&(u=Date.now(),e(this,l&&s.responds("doubleclick")?"doubleclick":"click",f,i,p),l=!1),s=h=null;break;case"mousemove":h&&(g=e(this,"mousedrag",f,c,h,n)),g||(p!==o&&(r=c),g=e(this,t,f,c,p,r)),n=r=c,p!==o&&(e(this,"mouseleave",f,c,o),o=p,e(this,"mouseenter",f,c,p))}return g}}}}),U=e.extend({_class:"Event",initialize:function(t){this.event=t},isPrevented:!1,isStopped:!1,preventDefault:function(){this.isPrevented=!0,this.event.preventDefault()},stopPropagation:function(){this.isStopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getModifiers:function(){return W.modifiers}}),Y=U.extend({_class:"KeyEvent",initialize:function(t,e,i,n){U.call(this,n),this.type=t?"keydown":"keyup",this.key=e,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),W=new function(){function t(t,i,r,h){var l,u=r?String.fromCharCode(r):"",c=n[i],f=c||u.toLowerCase(),d=t?"keydown":"keyup",_=X._focused,p=_&&_.isVisible()&&_._scope,g=p&&p.tool;o[f]=t,c&&(l=e.camelize(c))in s&&(s[l]=t),t?a[i]=r:delete a[i],g&&g.responds(d)&&(paper=p,g.fire(d,new Y(t,f,u,h)),_&&_.update())}var i,n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"option",19:"pause",20:"caps-lock",27:"escape",32:"space",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete",91:"command",93:"command",224:"command"},r={9:!0,13:!0,32:!0},s=new e({shift:!1,control:!1,option:!1,command:!1,capsLock:!1,space:!1}),a={},o={};return q.add(document,{keydown:function(e){var a=e.which||e.keyCode;a in n||s.command?t(!0,a,a in r||s.command?a:0,e):i=a},keypress:function(e){null!=i&&(t(!0,i,e.which||e.keyCode,e),i=null)},keyup:function(e){var i=e.which||e.keyCode;i in a&&t(!1,i,a[i],e)}}),q.add(window,{blur:function(e){for(var i in a)t(!1,i,a[i],e)}}),{modifiers:s,isDown:function(t){return!!o[t]}}},Z=U.extend({_class:"MouseEvent",initialize:function(t,e,i,n,r){U.call(this,e),this.type=t,this.point=i,this.target=n,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}});e.extend(n,{_class:"Palette",_events:["onChange"],initialize:function(i,n,r){var s=B.find(".palettejs-panel")||B.find("body").appendChild(B.create("div",{"class":"palettejs-panel"}));this._element=s.appendChild(B.create("table",{"class":"palettejs-pane"})),this._title=i,r||(r={});for(var a in this.components=n){var o=n[a];o instanceof $||(null==o.value&&(o.value=r[a]),o.name=a,o=n[a]=new $(o)),this._element.appendChild(o._element),o._palette=this,r[a]===t&&(r[a]=o.value)}this.values=e.each(r,function(t,i){var s=n[i];s&&e.define(r,i,{enumerable:!0,configurable:!0,get:function(){return s._value},set:function(t){s.setValue(t)}})}),window.paper&&paper.palettes.push(this)},reset:function(){for(var t in this.components)this.components[t].reset()},remove:function(){B.remove(this._element)}});var $=e.extend(n,{_class:"Component",_events:["onChange","onClick"],_types:{"boolean":{type:"checkbox",value:"checked"},string:{type:"text"},number:{type:"number",number:!0},button:{type:"button"},text:{tag:"div",value:"text"},slider:{type:"range",number:!0},list:{tag:"select",setOptions:function(){B.removeChildren(this._input),B.create(e.each(this._options,function(t){this.push("option",{value:t,text:t})},[]),this._input)}},color:{type:"color",getValue:function(t){return new N(t)},setValue:function(t){return new N(t).toCSS("color"===B.get(this._input,"type"))}}},initialize:function Pe(t){this._id=Pe._id=(Pe._id||0)+1,this._type=t.type in this._types?t.type:"options"in t?"list":"onClick"in t?"button":typeof t.value,this._meta=this._types[this._type]||{type:this._type};var i=this,n="component-"+this._id;this._dontFire=!0,this._input=B.create(this._meta.tag||"input",{id:n,type:this._meta.type,events:{change:function(){i.setValue(B.get(this,i._meta.value||"value"))},click:function(){i.fire("click")}}}),this.attach("change",function(t){this._dontFire||this._palette.fire("change",this,this.name,t)}),this._element=B.create("tr",["td",[this._label=B.create("label",{"for":n})],"td",[this._input]]),e.each(t,function(t,e){this[e]=t},this),this._defaultValue=this._value,this._dontFire=!1},getType:function(){return this._type},getLabel:function(){return this.__label},setLabel:function(t){this.__label=t,B.set(this._label,"text",t+":")},getOptions:function(){return this._options},setOptions:function(t){this._options=t;var e=this._meta.setOptions;e&&e.call(this)},getValue:function(){var t=this._value,e=this._meta.getValue;return e?e.call(this,t):t},setValue:function(t){var e=this._meta.value||"value",i=this._meta.setValue;i&&(t=i.call(this,t)),B.set(this._input,e,t),t=B.get(this._input,e),this._meta.number&&(t=parseFloat(t,10)),this._value!==t&&(this._value=t,this._dontFire||this.fire("change",this.getValue()))},getRange:function(){return[parseFloat(B.get(this._input,"min")),parseFloat(B.get(this._input,"max"))]},setRange:function(t,e){var i=Array.isArray(t)?t:[t,e];B.set(this._input,{min:i[0],max:i[1]})},getMin:function(){return this.getRange()[0]},setMin:function(t){this.setRange(t,this.getMax())
},getMax:function(){return this.getRange()[1]},setMax:function(t){this.setRange(this.getMin(),t)},getStep:function(){return parseFloat(B.get(this._input,"step"))},setStep:function(t){B.set(this._input,"step",t)},reset:function(){this.setValue(this._defaultValue)}}),G=U.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Q=s.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onActivate","onDeactivate","onEditOptions","onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onKeyDown","onKeyUp"],initialize:function(t){s.call(this),this._firstMove=!0,this._count=0,this._downCount=0,this._set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=this._minDistance&&null!=this._maxDistance&&this._minDistance>this._maxDistance&&(this._maxDistance=this._minDistance)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=this._maxDistance&&this._maxDistance<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=t,this._maxDistance=t},_updateEvent:function(t,e,i,n,r,s,a){if(!r){if(null!=i||null!=n){var o=null!=i?i:0,h=e.subtract(this._point),l=h.getLength();if(o>l)return!1;var u=null!=n?n:0;if(0!=u)if(l>u)e=this._point.add(h.normalize(u));else if(a)return!1}if(s&&e.equals(this._point))return!1}switch(this._lastPoint=r&&"mousemove"==t?e:this._point,this._point=e,t){case"mousedown":this._lastPoint=this._downPoint,this._downPoint=this._point,this._downCount++;break;case"mouseup":this._lastPoint=this._downPoint}return this._count=r?0:this._count+1,!0},_fireEvent:function(t,e){var i=paper.project._removeSets;if(i){"mouseup"===t&&(i.mousedrag=null);var n=i[t];if(n){for(var r in n){var s=n[r];for(var a in i){var o=i[a];o&&o!=n&&delete o[s._id]}s.remove()}i[t]=null}}return this.responds(t)&&this.fire(t,new G(this,t,e))},_handleEvent:function(t,e,i){paper=this._scope;var n=!1;switch(t){case"mousedown":this._updateEvent(t,e,null,null,!0,!1,!1),n=this._fireEvent(t,i);break;case"mousedrag":for(var r=!1,s=!1;this._updateEvent(t,e,this.minDistance,this.maxDistance,!1,r,s);)n=this._fireEvent(t,i)||n,r=!0,s=!0;break;case"mouseup":!e.equals(this._point)&&this._updateEvent("mousedrag",e,this.minDistance,this.maxDistance,!1,!1,!1)&&(n=this._fireEvent("mousedrag",i)),this._updateEvent(t,e,null,this.maxDistance,!1,!1,!1),n=this._fireEvent(t,i)||n,this._updateEvent(t,e,null,null,!0,!1,!1),this._firstMove=!0;break;case"mousemove":for(;this._updateEvent(t,e,this.minDistance,this.maxDistance,this._firstMove,!0,!1);)n=this._fireEvent(t,i)||n,this._firstMove=!1}return n&&i.preventDefault(),n}}),J={request:function(t,e,i){var n=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");return n.open(t.toUpperCase(),e,!0),"overrideMimeType"in n&&n.overrideMimeType("text/plain"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.status;if(0!==t&&200!==t)throw Error("Could not load "+e+" (Error "+t+")");i.call(n,n.responseText)}},n.send(null)}},K={canvases:[],getCanvas:function(t,e){var i,n=!0;"object"==typeof t&&(e=t.height,t=t.width),i=this.canvases.length?this.canvases.pop():document.createElement("canvas");var r=i.getContext("2d");return i.width===t&&i.height===e?n&&r.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),r.save(),i},getContext:function(t,e){return this.getCanvas(t,e).getContext("2d")},release:function(t){var e=t.canvas?t.canvas:t;e.getContext("2d").restore(),this.canvases.push(e)}},te=new function(){function t(t,e,i){return.2989*t+.587*e+.114*i}function i(e,i,n,r){var s=r-t(e,i,n);d=e+s,_=i+s,p=n+s;var r=t(d,_,p),a=g(d,_,p),o=m(d,_,p);if(0>a){var h=r-a;d=r+(d-r)*r/h,_=r+(_-r)*r/h,p=r+(p-r)*r/h}if(o>255){var l=255-r,u=o-r;d=r+(d-r)*l/u,_=r+(_-r)*l/u,p=r+(p-r)*l/u}}function n(t,e,i){return m(t,e,i)-g(t,e,i)}function r(t,e,i,n){var r,s=[t,e,i],a=m(t,e,i),o=g(t,e,i);o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2,r=0===g(o,a)?1===m(o,a)?2:1:0,s[a]>s[o]?(s[r]=(s[r]-s[o])*n/(s[a]-s[o]),s[a]=n):s[r]=s[a]=0,s[o]=0,d=s[0],_=s[1],p=s[2]}var s,a,o,h,l,u,c,f,d,_,p,g=Math.min,m=Math.max,v=Math.abs,y={multiply:function(){d=l*s/255,_=u*a/255,p=c*o/255},screen:function(){d=l+s-l*s/255,_=u+a-u*a/255,p=c+o-c*o/255},overlay:function(){d=128>l?2*l*s/255:255-2*(255-l)*(255-s)/255,_=128>u?2*u*a/255:255-2*(255-u)*(255-a)/255,p=128>c?2*c*o/255:255-2*(255-c)*(255-o)/255},"soft-light":function(){var t=s*l/255;d=t+l*(255-(255-l)*(255-s)/255-t)/255,t=a*u/255,_=t+u*(255-(255-u)*(255-a)/255-t)/255,t=o*c/255,p=t+c*(255-(255-c)*(255-o)/255-t)/255},"hard-light":function(){d=128>s?2*s*l/255:255-2*(255-s)*(255-l)/255,_=128>a?2*a*u/255:255-2*(255-a)*(255-u)/255,p=128>o?2*o*c/255:255-2*(255-o)*(255-c)/255},"color-dodge":function(){d=0===l?0:255===s?255:g(255,255*l/(255-s)),_=0===u?0:255===a?255:g(255,255*u/(255-a)),p=0===c?0:255===o?255:g(255,255*c/(255-o))},"color-burn":function(){d=255===l?255:0===s?0:m(0,255-255*(255-l)/s),_=255===u?255:0===a?0:m(0,255-255*(255-u)/a),p=255===c?255:0===o?0:m(0,255-255*(255-c)/o)},darken:function(){d=s>l?l:s,_=a>u?u:a,p=o>c?c:o},lighten:function(){d=l>s?l:s,_=u>a?u:a,p=c>o?c:o},difference:function(){d=l-s,0>d&&(d=-d),_=u-a,0>_&&(_=-_),p=c-o,0>p&&(p=-p)},exclusion:function(){d=l+s*(255-l-l)/255,_=u+a*(255-u-u)/255,p=c+o*(255-c-c)/255},hue:function(){r(s,a,o,n(l,u,c)),i(d,_,p,t(l,u,c))},saturation:function(){r(l,u,c,n(s,a,o)),i(d,_,p,t(l,u,c))},luminosity:function(){i(l,u,c,t(s,a,o))},color:function(){i(s,a,o,t(l,u,c))},add:function(){d=g(l+s,255),_=g(u+a,255),p=g(c+o,255)},subtract:function(){d=m(l-s,0),_=m(u-a,0),p=m(c-o,0)},average:function(){d=(l+s)/2,_=(u+a)/2,p=(c+o)/2},negation:function(){d=255-v(255-s-l),_=255-v(255-a-u),p=255-v(255-o-c)}},w=this.nativeModes=e.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),x=K.getContext(1,1);e.each(y,function(t,e){var i="darken"===e,n=!1;x.save();try{x.fillStyle=i?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=e,x.globalCompositeOperation===e&&(x.fillStyle=i?"#a00":"#300",x.fillRect(0,0,1,1),n=x.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(r){}x.restore(),w[e]=n}),K.release(x),this.process=function(t,e,i,n,r){var g=e.canvas,m="normal"===t;if(m||w[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,m||(i.globalCompositeOperation=t),i.drawImage(g,r.x,r.y),i.restore();else{var v=y[t];if(!v)return;for(var x=i.getImageData(r.x,r.y,g.width,g.height),b=x.data,S=e.getImageData(0,0,g.width,g.height).data,C=0,T=b.length;T>C;C+=4){s=S[C],l=b[C],a=S[C+1],u=b[C+1],o=S[C+2],c=b[C+2],h=S[C+3],f=b[C+3],v();var P=h*n/255,k=1-P;b[C]=P*d+k*l,b[C+1]=P*_+k*u,b[C+2]=P*p+k*c,b[C+3]=h*n+k*f}i.putImageData(x,r.x,r.y)}}},ee=e.each({fillColor:["fill","color"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof O||t instanceof b||t instanceof L)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","string"]},function(t,i){var n=e.capitalize(i),r=t[2];this[i]={type:t[1],property:i,attribute:t[0],toSVG:r,fromSVG:r&&e.each(r,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{}),ie={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"};return new function(){function t(t,e){for(var i in e){var n=e[i],r=ie[i];"number"==typeof n&&(n=C.number(n)),r?t.setAttributeNS(r,i,n):t.setAttribute(i,n)}return t}function n(e,i){return t(document.createElementNS("http://www.w3.org/2000/svg",e),i)}function r(t,i,n){var r=new e,s=t.getTranslation();if(i){t=t.shiftless();var a=t._inverseTransform(s);r[n?"cx":"x"]=a.x,r[n?"cy":"y"]=a.y,s=null}if(!t.isIdentity()){var h=t.decompose();if(h&&!h.shearing){var l=[],u=h.rotation,c=h.scaling;s&&!s.isZero()&&l.push("translate("+C.point(s)+")"),u&&l.push("rotate("+C.number(u)+")"),o.isZero(c.x-1)&&o.isZero(c.y-1)||l.push("scale("+C.point(c)+")"),r.transform=l.join(" ")}else r.transform="matrix("+t.getValues().join(",")+")"}return r}function s(e,i){for(var s=r(e._matrix),a=e._children,o=n("g",s),h=0,l=a.length;l>h;h++){var u=a[h],c=b(u,i);if(c)if(u.isClipMask()){var f=n("clipPath");f.appendChild(c),w(u,f,"clip"),t(o,{"clip-path":"url(#"+f.id+")"})}else o.appendChild(c)}return o}function h(t){var e=r(t._matrix,!0),i=t.getSize();return e.x-=i.width/2,e.y-=i.height/2,e.width=i.width,e.height=i.height,e.href=t.toDataURL(),n("image",e)}function u(t,e){if(e.matchShapes){var s=t.toShape(!1);if(s)return c(s,e)}var a,o=t._segments,h=r(t._matrix);if(0===o.length)return null;if(t.isPolygon())if(o.length>=3){a=t._closed?"polygon":"polyline";var u=[];for(i=0,l=o.length;l>i;i++)u.push(C.point(o[i]._point));h.points=u.join(" ")}else{a="line";var f=o[0]._point,d=o[o.length-1]._point;h.set({x1:f.x,y1:f.y,x2:d.x,y2:d.y})}else a="path",h.d=t.getPathData(null,e.precision);return n(a,h)}function c(t){var e=t._type,i=t._radius,s=r(t._matrix,!0,"rectangle"!==e);if("rectangle"===e){e="rect";var a=t._size,o=a.width,h=a.height;s.x-=o/2,s.y-=h/2,s.width=o,s.height=h,i.isZero()&&(i=null)}return i&&("circle"===e?s.r=i:(s.rx=i.width,s.ry=i.height)),n(e,s)}function f(t,e){var i=r(t._matrix),s=t.getPathData(null,e.precision);return s&&(i.d=s),n("path",i)}function d(t,e){var i=r(t._matrix,!0),s=t.getSymbol(),a=v(s,"symbol"),o=s.getDefinition(),h=o.getBounds();return a||(a=n("symbol",{viewBox:C.rectangle(h)}),a.appendChild(b(o,e)),w(s,a,"symbol")),i.href="#"+a.id,i.x+=h.x,i.y+=h.y,i.width=C.number(h.width),i.height=C.number(h.height),n("use",i)}function _(t){var e=v(t,"color");if(!e){var i,r=t.getGradient(),s=r._radial,a=t.getOrigin().transform(),o=t.getDestination().transform();if(s){i={cx:a.x,cy:a.y,r:a.getDistance(o)};var h=t.getHighlight();h&&(h=h.transform(),i.fx=h.x,i.fy=h.y)}else i={x1:a.x,y1:a.y,x2:o.x,y2:o.y};i.gradientUnits="userSpaceOnUse",e=n((s?"radial":"linear")+"Gradient",i);for(var l=r._stops,u=0,c=l.length;c>u;u++){var f=l[u],d=f._color,_=d.getAlpha();i={offset:f._rampPoint,"stop-color":d.toCSS(!0)},1>_&&(i["stop-opacity"]=_),e.appendChild(n("stop",i))}w(t,e,"color")}return"url(#"+e.id+")"}function p(t){var e=n("text",r(t._matrix,!0));return e.textContent=t._content,e}function g(i,n,r){var s={},a=!r&&i.getParent();return null!=i._name&&(s.id=i._name),e.each(ee,function(t){var n=t.get,r=t.type,o=i[n]();if(t.exportFilter?t.exportFilter(i,o):!a||!e.equals(a[n](),o)){if("color"===r&&null!=o){var h=o.getAlpha();1>h&&(s[t.attribute+"-opacity"]=h)}s[t.attribute]=null==o?"none":"number"===r?C.number(o):"color"===r?o.gradient?_(o,i):o.toCSS(!0):"array"===r?o.join(","):"lookup"===r?t.toSVG[o]:o}}),1===s.opacity&&delete s.opacity,i._visible||(s.visibility="hidden"),t(n,s)}function v(t,e){return T||(T={ids:{},svgs:{}}),t&&T.svgs[e+"-"+t._id]}function w(t,e,i){T||v();var n=T.ids[i]=(T.ids[i]||0)+1;e.id=i+"-"+n,T.svgs[i+"-"+t._id]=e}function x(t,e){var i=t,r=null;if(T){i="svg"===t.nodeName.toLowerCase()&&t;for(var s in T.svgs)r||(i||(i=n("svg"),i.appendChild(t)),r=i.insertBefore(n("defs"),i.firstChild)),r.appendChild(T.svgs[s]);T=null}return e.asString?(new XMLSerializer).serializeToString(i):i}function b(t,e,i){var n=P[t._class],r=n&&n(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var a=JSON.stringify(t._data);a&&"{}"!==a&&r.setAttribute("data-paper-data",a)}return r&&g(t,r,i)}function S(t){return t||(t={}),C=new a(t.precision),t}var C,T,P={Group:s,Layer:s,Raster:h,Path:u,Shape:c,CompoundPath:f,PlacedSymbol:d,PointText:p};y.inject({exportSVG:function(t){return t=S(t),x(b(this,t,!0),t)}}),m.inject({exportSVG:function(t){t=S(t);var e=this.layers,i=this.getView(),s=i.getViewSize(),a=n("svg",{x:0,y:0,width:s.width,height:s.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),o=a,h=i._matrix;h.isIdentity()||(o=a.appendChild(n("g",r(h))));for(var l=0,u=e.length;u>l;l++)o.appendChild(b(e[l],t,!0));return x(a,t)}})},new function(){function i(t,e,i,n){var r=ie[e],s=r?t.getAttributeNS(r,e):t.getAttribute(e);return"null"===s&&(s=null),null==s?n?null:i?"":0:i?s:parseFloat(s)}function n(t,e,n,r){return e=i(t,e,!1,r),n=i(t,n,!1,r),!r||null!=e&&null!=n?new h(e,n):null}function r(t,e,n,r){return e=i(t,e,!1,r),n=i(t,n,!1,r),!r||null!=e&&null!=n?new c(e,n):null}function s(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?C(t)||t:"lookup"===e?i[t]:t}function a(t,e,i,n){var r=t.childNodes,s="clippath"===e,a=new w,o=a._project,h=o._currentStyle,l=[];s||(a=x(a,t,n),o._currentStyle=a._style.clone());for(var u=0,c=r.length;c>u;u++){var f,d=r[u];1!==d.nodeType||!(f=T(d,i,!1))||f instanceof v||l.push(f)}return a.addChildren(l),s&&(a=x(a.reduce(),t,n)),o._currentStyle=h,(s||"defs"===e)&&(a.remove(),a=null),a}function o(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],r=0,s=i.length;s>r;r+=2)n.push(new h(parseFloat(i[r]),parseFloat(i[r+1])));var a=new I(n);return"polygon"===e&&a.closePath(),a}function l(t){var e=t.getAttribute("d"),i={pathData:e};return e.match(/m/gi).length>1||/z\S+/i.test(e)?new z(i):new I(i)}function u(t,e){var r,s=(i(t,"href",!0)||"").substring(1),a="radialgradient"===e;if(s)r=M[s].getGradient();else{for(var o=t.childNodes,h=[],l=0,u=o.length;u>l;l++){var c=o[l];1===c.nodeType&&h.push(x(new j,c))}r=new F(h,a)}var f,d,_;return a?(f=n(t,"cx","cy"),d=f.add(i(t,"r"),0),_=n(t,"fx","fy",!0)):(f=n(t,"x1","y1"),d=n(t,"x2","y2")),x(new N(r,f,d,_),t),null}function f(t,e,i,n){for(var r=(n.getAttribute(i)||"").split(/\)\s*/g),s=new p,a=0,o=r.length;o>a;a++){var h=r[a];if(!h)break;for(var l=h.split("("),u=l[0],c=l[1].split(/[\s,]+/g),f=0,d=c.length;d>f;f++)c[f]=parseFloat(c[f]);switch(u){case"matrix":s.concatenate(new p(c[0],c[1],c[2],c[3],c[4],c[5]));break;case"rotate":s.rotate(c[0],c[1],c[2]);break;case"translate":s.translate(c[0],c[1]);break;case"scale":s.scale(c);break;case"skewX":s.skew(c[0],0);break;case"skewY":s.skew(0,c[0])}}t.transform(s)}function _(t,e,i){var n=t["fill-opacity"===i?"getFillColor":"getStrokeColor"]();n&&n.setAlpha(parseFloat(e))}function g(i,n,r){var s=i.attributes[n],a=s&&s.value;if(!a){var o=e.camelize(n);a=i.style[o],a||r.node[o]===r.parent[o]||(a=r.node[o])}return a?"none"===a?null:a:t}function x(i,n,r){var s={node:B.getStyles(n)||{},parent:!r&&B.getStyles(n.parentNode)||{}};return e.each(k,function(r,a){var o=g(n,a,s);o!==t&&(i=e.pick(r(i,o,a,n,s),i))}),i}function C(t){var e=t&&t.match(/\((?:#|)([^)']+)/);return e&&M[e[1]]}function T(t,e,i){function n(t){paper=s;var n=T(t,e,i),r=e.onLoad,a=s.project&&s.getView();r&&r.call(this,n),a.update()}if(!t)return null;e?"function"==typeof e&&(e={onLoad:e}):e={};var r=t,s=paper;if(i)if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var a=new FileReader;return a.onload=function(){n(a.result)},a.readAsText(t)}}else{if(r=document.getElementById(t),!r)return J.request("get",t,n);t=null}if("string"==typeof t&&(r=(new DOMParser).parseFromString(t,"image/svg+xml")),!r.nodeName)throw Error("Unsupported SVG source: "+t);var o,h=r.nodeName.toLowerCase(),l=P[h],u=r.getAttribute&&r.getAttribute("data-paper-data"),c=s.settings,f=c.applyMatrix;if(c.applyMatrix=!1,o=l&&l(r,h,e,i)||null,c.applyMatrix=f,o){"#document"===h||o instanceof w||(o=x(o,r,i));var d=e.onImport;d&&(o=d(r,o,e)||o),e.expandShapes&&o instanceof b&&(o.remove(),o=o.toPath()),u&&(o._data=JSON.parse(u))}return i&&(M={}),o}var P={"#document":function(t,e,i,n){for(var r=t.childNodes,s=0,a=r.length;a>s;s++){var o=r[s];if(1===o.nodeType){var h=o.nextSibling;document.body.appendChild(o);var l=T(o,i,n);return h?t.insertBefore(o,h):t.appendChild(o),l}}},g:a,svg:a,clippath:a,polygon:o,polyline:o,path:l,lineargradient:u,radialgradient:u,image:function(t){var e=new S(i(t,"href",!0));return e.attach("load",function(){var e=r(t,"width","height");this.setSize(e);var i=this._matrix._transformPoint(n(t,"x","y").add(e.divide(2)));this.translate(i)}),e},symbol:function(t,e,i,n){return new v(a(t,e,i,n),!0)},defs:a,use:function(t){var e=(i(t,"href",!0)||"").substring(1),r=M[e],s=n(t,"x","y");return r?r instanceof v?r.place(s):r.clone().translate(s):null},circle:function(t){return new b.Circle(n(t,"cx","cy"),i(t,"r"))},ellipse:function(t){return new b.Ellipse({center:n(t,"cx","cy"),radius:r(t,"rx","ry")})},rect:function(t){var e=n(t,"x","y"),i=r(t,"width","height"),s=r(t,"rx","ry");return new b.Rectangle(new d(e,i),s)},line:function(t){return new I.Line(n(t,"x1","y1"),n(t,"x2","y2"))},text:function(t){var e=new D(n(t,"x","y").add(n(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e}},k=e.each(ee,function(t){this[t.attribute]=function(e,i){if(e[t.set](s(i,t.type,t.fromSVG)),"color"===t.type&&e instanceof b){var n=e[t.get]();n&&n.transform((new p).translate(e.getPosition(!0).negate()))}}},{id:function(t,e){M[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var i=C(e);if(i){if(i=i.clone(),i.setClipMask(!0),!(t instanceof w))return new w(i,t);t.insertChild(0,i)}},gradientTransform:f,transform:f,"fill-opacity":_,"stroke-opacity":_,visibility:function(t,e){t.setVisible("visible"===e)},display:function(t,e){t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){var i=e.match(/(.*)%$/);t.setRampPoint(i?i[1]/100:parseFloat(e))},viewBox:function(t,e,i,n,a){var o=new d(s(e,"array")),h=r(n,"width","height",!0);if(t instanceof w){var l=h?o.getSize().divide(h):1,u=(new p).translate(o.getPoint()).scale(l);t.transform(u.inverted())}else if(t instanceof v){h&&o.setSize(h);var c="visible"!=g(n,"overflow",a),f=t._definition;c&&!o.contains(f.getBounds())&&(c=new b.Rectangle(o).transform(f._matrix),c.setClipMask(!0),f.addChild(c))}}}),M={};y.inject({importSVG:function(t,e){return this.addChild(T(t,e,!0))}}),m.inject({importSVG:function(t,e){return this.activate(),T(t,e,!0)}})},e.exports.PaperScript=function(){function t(t,e,i){var n=m[e];if(t&&t[n]){var r=t[n](i);return"!="===e?!r:r}switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function i(t,e){var i=v[t];if(i&&e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function n(t,e){return _.acorn.parse(t,e)}function s(t,e,i){function r(t){for(var e=0,i=h.length;i>e;e++){var n=h[e];if(n[0]>=t)break;t+=n[1]}return t}function s(e){return t.substring(r(e.range[0]),r(e.range[1]))}function a(e,i){for(var n=r(e.range[0]),s=r(e.range[1]),a=0,o=h.length-1;o>=0;o--)if(n>h[o][0]){a=o+1;break}h.splice(a,0,[n,i.length-s+n]),t=t.substring(0,n)+i+t.substring(s)}function o(t,e){if(t){for(var i in t)if("range"!==i&&"loc"!==i){var n=t[i];if(Array.isArray(n))for(var r=0,h=n.length;h>r;r++)o(n[r],t);else n&&"object"==typeof n&&o(n,t)}switch(t.type){case"UnaryExpression":if(t.operator in v&&"Literal"!==t.argument.type){var l=s(t.argument);a(t,'$__("'+t.operator+'", '+l+")")}break;case"BinaryExpression":if(t.operator in m&&"Literal"!==t.left.type){var u=s(t.left),c=s(t.right);a(t,"__$__("+u+', "'+t.operator+'", '+c+")")}break;case"UpdateExpression":case"AssignmentExpression":var f=e&&e.type;if(!("ForStatement"===f||"BinaryExpression"===f&&/^[=!<>]/.test(e.operator)||"MemberExpression"===f&&e.computed))if("UpdateExpression"===t.type){var l=s(t.argument),d=l+" = __$__("+l+', "'+t.operator[0]+'", 1)';t.prefix||"AssignmentExpression"!==f&&"VariableDeclarator"!==f||(d=l+"; "+d),a(t,d)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var u=s(t.left),c=s(t.right);a(t,u+" = __$__("+u+', "'+t.operator[0]+'", '+c+")")}}}}if(!t)return"";i=i||{},e=e||"";var h=[],l=null,u=g.version,c=/\r\n|\n|\r/gm;if(g.chrome&&u>=30||g.webkit&&u>=537.76||g.firefox&&u>=23){var f=0;if(0===window.location.href.indexOf(e)){var d=document.getElementsByTagName("html")[0].innerHTML;f=d.substr(0,d.indexOf(t)+1).match(c).length+1}var _=["AAAA"];_.length=(t.match(c)||[]).length+1+f,l={version:3,file:e,names:[],mappings:_.join(";AACA"),sourceRoot:"",sources:[e]};var p=i.source||!e&&t;p&&(l.sourcesContent=[p])}return o(n(t,{ranges:!0})),l&&(t=Array(f+1).join("\n")+t+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+"\n//# sourceURL="+(e||"paperscript")),t}function a(n,r,a,o){function l(t,e){for(var i in t)!e&&/^_/.test(i)||!RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(n)||(p.push(i),m.push(t[i]))}paper=r;var u,c=r.getView(),f=/\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(n)?new Q:null,d=f?f._events:[],_=["onFrame","onResize"].concat(d),p=[],m=[];if(n=s(n,a,o),l({__$__:t,$__:i,paper:r,view:c,tool:f},!0),l(r),_=e.each(_,function(t){RegExp("\\s+"+t+"\\b").test(n)&&(p.push(t),this.push(t+": "+t))},[]).join(", "),_&&(n+="\nreturn { "+_+" };"),g.chrome||g.firefox){var v=document.createElement("script"),y=document.head;g.firefox&&(n="\n"+n),v.appendChild(document.createTextNode("paper._execute = function("+p+") {"+n+"\n}")),y.appendChild(v),u=paper._execute,delete paper._execute,y.removeChild(v)}else u=Function(p,n);var w=u.apply(r,m)||{};e.each(d,function(t){var e=w[t];e&&(f[t]=e)}),c&&(w.onResize&&c.setOnResize(w.onResize),c.fire("resize",{size:c.size,delta:new h}),w.onFrame&&c.setOnFrame(w.onFrame),c.update())}function o(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==r.getAttribute(t,"ignore")){var e=r.getAttribute(t,"canvas"),i=document.getElementById(e),n=t.src,s="data-paper-scope";if(!i)throw Error('Unable to find canvas with id "'+e+'"');var o=r.get(i.getAttribute(s))||(new r).setup(i);return i.setAttribute(s,o._id),n?J.request("get",n,function(t){a(t,o,n)}):a(t.innerHTML,o,t.baseURI),t.setAttribute("data-paper-ignore","true"),o}}function l(){e.each(document.getElementsByTagName("script"),o)}function u(t){return t?o(t):l()}var f,d,_=this;!function(t,e){return"object"==typeof f&&"object"==typeof module?e(f):"function"==typeof d&&d.amd?d(["exports"],e):(e(t.acorn||(t.acorn={})),void 0)}(this,function(t){"use strict";function e(t){ce=t||{};for(var e in pe)Object.prototype.hasOwnProperty.call(ce,e)||(ce[e]=pe[e]);_e=ce.sourceFile||null}function i(t,e){var i=ge(fe,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=me,n}function n(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",n=[];t:for(var r=0;r<t.length;++r){for(var s=0;s<n.length;++s)if(n[s][0].length==t[r].length){n[s].push(t[r]);continue t}n.push([t[r]])}if(n.length>3){n.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var r=0;r<n.length;++r){var a=n[r];i+="case "+a[0].length+":",e(a)}i+="}"}else e(t);return Function("str",i)}function r(){this.line=Te,this.column=me-Pe}function s(){Te=1,me=Pe=0,Ce=!0,l()}function a(t,e){ye=me,ce.locations&&(xe=new r),be=t,l(),Se=e,Ce=t.beforeExpr}function o(){var t=ce.onComment&&ce.locations&&new r,e=me,n=fe.indexOf("*/",me+=2);if(-1===n&&i(me-2,"Unterminated comment"),me=n+2,ce.locations){Gi.lastIndex=e;for(var s;(s=Gi.exec(fe))&&s.index<me;)++Te,Pe=s.index+s[0].length}ce.onComment&&ce.onComment(!0,fe.slice(e+2,n),e,me,t,ce.locations&&new r)}function h(){for(var t=me,e=ce.onComment&&ce.locations&&new r,i=fe.charCodeAt(me+=2);de>me&&10!==i&&13!==i&&8232!==i&&8329!==i;)++me,i=fe.charCodeAt(me);ce.onComment&&ce.onComment(!1,fe.slice(t+2,me),t,me,e,ce.locations&&new r)}function l(){for(;de>me;){var t=fe.charCodeAt(me);if(32===t)++me;else if(13===t){++me;var e=fe.charCodeAt(me);10===e&&++me,ce.locations&&(++Te,Pe=me)}else if(10===t)++me,++Te,Pe=me;else if(14>t&&t>8)++me;else if(47===t){var e=fe.charCodeAt(me+1);if(42===e)o();else{if(47!==e)break;h()}}else if(160===t)++me;else{if(!(t>=5760&&Hi.test(String.fromCharCode(t))))break;++me}}}function u(){var t=fe.charCodeAt(me+1);return t>=48&&57>=t?C(!0):(++me,a(wi))}function c(){var t=fe.charCodeAt(me+1);return Ce?(++me,x()):61===t?w(Ci,2):w(bi,1)}function f(){var t=fe.charCodeAt(me+1);return 61===t?w(Ci,2):w(Di,1)}function d(t){var e=fe.charCodeAt(me+1);return e===t?w(124===t?Mi:Ai,2):61===e?w(Ci,2):w(124===t?Oi:zi,1)}function _(){var t=fe.charCodeAt(me+1);return 61===t?w(Ci,2):w(Ii,1)}function p(t){var e=fe.charCodeAt(me+1);return e===t?w(Pi,2):61===e?w(Ci,2):w(Ti,1)}function g(t){var e=fe.charCodeAt(me+1),i=1;return e===t?(i=62===t&&62===fe.charCodeAt(me+2)?3:2,61===fe.charCodeAt(me+i)?w(Ci,i+1):w(Li,i)):(61===e&&(i=61===fe.charCodeAt(me+2)?3:2),w(Ei,i))}function m(t){var e=fe.charCodeAt(me+1);return 61===e?w(Ri,61===fe.charCodeAt(me+2)?3:2):w(61===t?Si:ki,1)}function v(t){switch(t){case 46:return u();case 40:return++me,a(pi);case 41:return++me,a(gi);case 59:return++me,a(vi);case 44:return++me,a(mi);case 91:return++me,a(ci);case 93:return++me,a(fi);case 123:return++me,a(di);case 125:return++me,a(_i);case 58:return++me,a(yi);case 63:return++me,a(xi);case 48:var e=fe.charCodeAt(me+1);if(120===e||88===e)return S();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return C(!1);case 34:case 39:return T(t);case 47:return c(t);case 37:case 42:return f();case 124:case 38:return d(t);case 94:return _();case 43:case 45:return p(t);case 60:case 62:return g(t);case 61:case 33:return m(t);case 126:return w(ki,1)}return!1}function y(t){if(t?me=ve+1:ve=me,ce.locations&&(we=new r),t)return x();if(me>=de)return a(Fe);var e=fe.charCodeAt(me);if(Qi(e)||92===e)return M();var n=v(e);if(n===!1){var s=String.fromCharCode(e);if("\\"===s||Wi.test(s))return M();i(me,"Unexpected character '"+s+"'")}return n}function w(t,e){var i=fe.slice(me,me+e);me+=e,a(t,i)}function x(){for(var t,e,n="",r=me;;){me>=de&&i(r,"Unterminated regular expression");var s=fe.charAt(me);if($i.test(s)&&i(r,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++me}var n=fe.slice(r,me);++me;var o=k();return o&&!/^[gmsiy]*$/.test(o)&&i(r,"Invalid regexp flag"),a(Le,RegExp(n,o))}function b(t,e){for(var i=me,n=0,r=0,s=null==e?1/0:e;s>r;++r){var a,o=fe.charCodeAt(me);if(a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&57>=o?o-48:1/0,a>=t)break;++me,n=n*t+a}return me===i||null!=e&&me-i!==e?null:n}function S(){me+=2;var t=b(16);return null==t&&i(ve+2,"Expected hexadecimal number"),Qi(fe.charCodeAt(me))&&i(me,"Identifier directly after number"),a(Ee,t)}function C(t){var e=me,n=!1,r=48===fe.charCodeAt(me);t||null!==b(10)||i(e,"Invalid number"),46===fe.charCodeAt(me)&&(++me,b(10),n=!0);var s=fe.charCodeAt(me);(69===s||101===s)&&(s=fe.charCodeAt(++me),(43===s||45===s)&&++me,null===b(10)&&i(e,"Invalid number"),n=!0),Qi(fe.charCodeAt(me))&&i(me,"Identifier directly after number");var o,h=fe.slice(e,me);return n?o=parseFloat(h):r&&1!==h.length?/[89]/.test(h)||ze?i(e,"Invalid number"):o=parseInt(h,8):o=parseInt(h,10),a(Ee,o)}function T(t){me++;for(var e="";;){me>=de&&i(ve,"Unterminated string constant");var n=fe.charCodeAt(me);if(n===t)return++me,a(De,e);if(92===n){n=fe.charCodeAt(++me);var r=/^[0-7]+/.exec(fe.slice(me,me+3));for(r&&(r=r[0]);r&&parseInt(r,8)>255;)r=r.slice(0,r.length-1);if("0"===r&&(r=null),++me,r)ze&&i(me-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(r,8)),me+=r.length-1;else switch(n){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(P(2));break;case 117:e+=String.fromCharCode(P(4));break;case 85:e+=String.fromCharCode(P(8));break;case 116:e+="	";break;case 98:e+="\b";break;case 118:e+="";break;case 102:e+="\f";break;case 48:e+="\x00";break;case 13:10===fe.charCodeAt(me)&&++me;case 10:ce.locations&&(Pe=me,++Te);break;default:e+=String.fromCharCode(n)}}else(13===n||10===n||8232===n||8329===n)&&i(ve,"Unterminated string constant"),e+=String.fromCharCode(n),++me}}function P(t){var e=b(16,t);return null===e&&i(ve,"Bad character escape sequence"),e}function k(){Fi=!1;for(var t,e=!0,n=me;;){var r=fe.charCodeAt(me);if(Ji(r))Fi&&(t+=fe.charAt(me)),++me;else{if(92!==r)break;Fi||(t=fe.slice(n,me)),Fi=!0,117!=fe.charCodeAt(++me)&&i(me,"Expecting Unicode escape sequence \\uXXXX"),++me;var s=P(4),a=String.fromCharCode(s);a||i(me-1,"Invalid Unicode escape"),(e?Qi(s):Ji(s))||i(me-4,"Invalid Unicode escape"),t+=a}e=!1}return Fi?t:fe.slice(n,me)}function M(){var t=k(),e=Ne;return Fi||(Xi(t)?e=ui[t]:(ce.forbidReserved&&(3===ce.ecmaVersion?ji:Vi)(t)||ze&&Bi(t))&&i(ve,"The keyword '"+t+"' is reserved")),a(e,t)}function A(){ke=ve,Me=ye,Ae=xe,y()}function O(t){for(ze=t,me=Me;Pe>me;)Pe=fe.lastIndexOf("\n",Pe-2)+1,--Te;l(),y()}function I(){this.type=null,this.start=ve,this.end=null}function z(){this.start=we,this.end=null,null!==_e&&(this.source=_e)}function R(){var t=new I;return ce.locations&&(t.loc=new z),ce.ranges&&(t.range=[ve,0]),t}function E(t){var e=new I;return e.start=t.start,ce.locations&&(e.loc=new z,e.loc.start=t.loc.start),ce.ranges&&(e.range=[t.range[0],0]),e}function L(t,e){return t.type=e,t.end=Me,ce.locations&&(t.loc.end=Ae),ce.ranges&&(t.range[1]=Me),t}function D(t){return ce.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function N(t){return be===t?(A(),!0):void 0}function F(){return!ce.strictSemicolons&&(be===Fe||be===_i||$i.test(fe.slice(Me,ve)))}function j(){N(vi)||F()||B()}function V(t){be===t?A():B()}function B(){i(ve,"Unexpected token")}function q(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&i(t.start,"Assigning to rvalue"),ze&&"Identifier"===t.type&&qi(t.name)&&i(t.start,"Assigning to "+t.name+" in strict mode")}function X(t){ke=Me=me,ce.locations&&(Ae=new r),Oe=ze=null,Ie=[],y();var e=t||R(),i=!0;for(t||(e.body=[]);be!==Fe;){var n=H();e.body.push(n),i&&D(n)&&O(!0),i=!1}return L(e,"Program")}function H(){be===bi&&y(!0);var t=be,e=R();switch(t){case je:case qe:A();var n=t===je;N(vi)||F()?e.label=null:be!==Ne?B():(e.label=ue(),j());for(var r=0;r<Ie.length;++r){var s=Ie[r];if(null==e.label||s.name===e.label.name){if(null!=s.kind&&(n||"loop"===s.kind))break;
if(e.label&&n)break}}return r===Ie.length&&i(e.start,"Unsyntactic "+t.keyword),L(e,n?"BreakStatement":"ContinueStatement");case Xe:return A(),j(),L(e,"DebuggerStatement");case Ue:return A(),Ie.push(Ki),e.body=H(),Ie.pop(),V(ii),e.test=U(),j(),L(e,"DoWhileStatement");case Ze:if(A(),Ie.push(Ki),V(pi),be===vi)return W(e,null);if(be===ei){var a=R();return A(),$(a,!0),1===a.declarations.length&&N(li)?Z(e,a):W(e,a)}var a=G(!1,!0);return N(li)?(q(a),Z(e,a)):W(e,a);case $e:return A(),he(e,!0);case Ge:return A(),e.test=U(),e.consequent=H(),e.alternate=N(Ye)?H():null,L(e,"IfStatement");case Qe:return Oe||i(ve,"'return' outside of function"),A(),N(vi)||F()?e.argument=null:(e.argument=G(),j()),L(e,"ReturnStatement");case Je:A(),e.discriminant=U(),e.cases=[],V(di),Ie.push(tn);for(var o,h;be!=_i;)if(be===Ve||be===He){var l=be===Ve;o&&L(o,"SwitchCase"),e.cases.push(o=R()),o.consequent=[],A(),l?o.test=G():(h&&i(ke,"Multiple default clauses"),h=!0,o.test=null),V(yi)}else o||B(),o.consequent.push(H());return o&&L(o,"SwitchCase"),A(),Ie.pop(),L(e,"SwitchStatement");case Ke:return A(),$i.test(fe.slice(Me,ve))&&i(Me,"Illegal newline after throw"),e.argument=G(),j(),L(e,"ThrowStatement");case ti:if(A(),e.block=Y(),e.handler=null,be===Be){var u=R();A(),V(pi),u.param=ue(),ze&&qi(u.param.name)&&i(u.param.start,"Binding "+u.param.name+" in strict mode"),V(gi),u.guard=null,u.body=Y(),e.handler=L(u,"CatchClause")}return e.guardedHandlers=Re,e.finalizer=N(We)?Y():null,e.handler||e.finalizer||i(e.start,"Missing catch or finally clause"),L(e,"TryStatement");case ei:return A(),e=$(e),j(),e;case ii:return A(),e.test=U(),Ie.push(Ki),e.body=H(),Ie.pop(),L(e,"WhileStatement");case ni:return ze&&i(ve,"'with' in strict mode"),A(),e.object=U(),e.body=H(),L(e,"WithStatement");case di:return Y();case vi:return A(),L(e,"EmptyStatement");default:var c=Se,f=G();if(t===Ne&&"Identifier"===f.type&&N(yi)){for(var r=0;r<Ie.length;++r)Ie[r].name===c&&i(f.start,"Label '"+c+"' is already declared");var d=be.isLoop?"loop":be===Je?"switch":null;return Ie.push({name:c,kind:d}),e.body=H(),Ie.pop(),e.label=f,L(e,"LabeledStatement")}return e.expression=f,j(),L(e,"ExpressionStatement")}}function U(){V(pi);var t=G();return V(gi),t}function Y(t){var e,i=R(),n=!0,r=!1;for(i.body=[],V(di);!N(_i);){var s=H();i.body.push(s),n&&t&&D(s)&&(e=r,O(r=!0)),n=!1}return r&&!e&&O(!1),L(i,"BlockStatement")}function W(t,e){return t.init=e,V(vi),t.test=be===vi?null:G(),V(vi),t.update=be===gi?null:G(),V(gi),t.body=H(),Ie.pop(),L(t,"ForStatement")}function Z(t,e){return t.left=e,t.right=G(),V(gi),t.body=H(),Ie.pop(),L(t,"ForInStatement")}function $(t,e){for(t.declarations=[],t.kind="var";;){var n=R();if(n.id=ue(),ze&&qi(n.id.name)&&i(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=N(Si)?G(!0,e):null,t.declarations.push(L(n,"VariableDeclarator")),!N(mi))break}return L(t,"VariableDeclaration")}function G(t,e){var i=Q(e);if(!t&&be===mi){var n=E(i);for(n.expressions=[i];N(mi);)n.expressions.push(Q(e));return L(n,"SequenceExpression")}return i}function Q(t){var e=J(t);if(be.isAssign){var i=E(e);return i.operator=Se,i.left=e,A(),i.right=Q(t),q(e),L(i,"AssignmentExpression")}return e}function J(t){var e=K(t);if(N(xi)){var i=E(e);return i.test=e,i.consequent=G(!0),V(yi),i.alternate=G(!0,t),L(i,"ConditionalExpression")}return e}function K(t){return te(ee(),-1,t)}function te(t,e,i){var n=be.binop;if(null!=n&&(!i||be!==li)&&n>e){var r=E(t);r.left=t,r.operator=Se,A(),r.right=te(ee(),n,i);var r=L(r,/&&|\|\|/.test(r.operator)?"LogicalExpression":"BinaryExpression");return te(r,e,i)}return t}function ee(){if(be.prefix){var t=R(),e=be.isUpdate;return t.operator=Se,t.prefix=!0,A(),t.argument=ee(),e?q(t.argument):ze&&"delete"===t.operator&&"Identifier"===t.argument.type&&i(t.start,"Deleting local variable in strict mode"),L(t,e?"UpdateExpression":"UnaryExpression")}for(var n=ie();be.postfix&&!F();){var t=E(n);t.operator=Se,t.prefix=!1,t.argument=n,q(n),A(),n=L(t,"UpdateExpression")}return n}function ie(){return ne(re())}function ne(t,e){if(N(wi)){var i=E(t);return i.object=t,i.property=ue(!0),i.computed=!1,ne(L(i,"MemberExpression"),e)}if(N(ci)){var i=E(t);return i.object=t,i.property=G(),i.computed=!0,V(fi),ne(L(i,"MemberExpression"),e)}if(!e&&N(pi)){var i=E(t);return i.callee=t,i.arguments=le(gi,!1),ne(L(i,"CallExpression"),e)}return t}function re(){switch(be){case si:var t=R();return A(),L(t,"ThisExpression");case Ne:return ue();case Ee:case De:case Le:var t=R();return t.value=Se,t.raw=fe.slice(ve,ye),A(),L(t,"Literal");case ai:case oi:case hi:var t=R();return t.value=be.atomValue,t.raw=be.keyword,A(),L(t,"Literal");case pi:var e=we,i=ve;A();var n=G();return n.start=i,n.end=ye,ce.locations&&(n.loc.start=e,n.loc.end=xe),ce.ranges&&(n.range=[i,ye]),V(gi),n;case ci:var t=R();return A(),t.elements=le(fi,!0,!0),L(t,"ArrayExpression");case di:return ae();case $e:var t=R();return A(),he(t,!1);case ri:return se();default:B()}}function se(){var t=R();return A(),t.callee=ne(re(),!0),t.arguments=N(pi)?le(gi,!1):Re,L(t,"NewExpression")}function ae(){var t=R(),e=!0,n=!1;for(t.properties=[],A();!N(_i);){if(e)e=!1;else if(V(mi),ce.allowTrailingCommas&&N(_i))break;var r,s={key:oe()},a=!1;if(N(yi)?(s.value=G(!0),r=s.kind="init"):ce.ecmaVersion>=5&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(a=n=!0,r=s.kind=s.key.name,s.key=oe(),be!==pi&&B(),s.value=he(R(),!1)):B(),"Identifier"===s.key.type&&(ze||n))for(var o=0;o<t.properties.length;++o){var h=t.properties[o];if(h.key.name===s.key.name){var l=r==h.kind||a&&"init"===h.kind||"init"===r&&("get"===h.kind||"set"===h.kind);l&&!ze&&"init"===r&&"init"===h.kind&&(l=!1),l&&i(s.key.start,"Redefinition of property")}}t.properties.push(s)}return L(t,"ObjectExpression")}function oe(){return be===Ee||be===De?re():ue(!0)}function he(t,e){be===Ne?t.id=ue():e?B():t.id=null,t.params=[];var n=!0;for(V(pi);!N(gi);)n?n=!1:V(mi),t.params.push(ue());var r=Oe,s=Ie;if(Oe=!0,Ie=[],t.body=Y(!0),Oe=r,Ie=s,ze||t.body.body.length&&D(t.body.body[0]))for(var a=t.id?-1:0;a<t.params.length;++a){var o=0>a?t.id:t.params[a];if((Bi(o.name)||qi(o.name))&&i(o.start,"Defining '"+o.name+"' in strict mode"),a>=0)for(var h=0;a>h;++h)o.name===t.params[h].name&&i(o.start,"Argument name clash in strict mode")}return L(t,e?"FunctionDeclaration":"FunctionExpression")}function le(t,e,i){for(var n=[],r=!0;!N(t);){if(r)r=!1;else if(V(mi),e&&ce.allowTrailingCommas&&N(t))break;i&&be===mi?n.push(null):n.push(G(!0))}return n}function ue(t){var e=R();return e.name=be===Ne?Se:t&&!ce.forbidReserved&&be.keyword||B(),A(),L(e,"Identifier")}t.version="0.3.2";var ce,fe,de,_e;t.parse=function(t,i){return fe=t+"",de=fe.length,e(i),s(),X(ce.program)};var pe=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null},ge=t.getLineInfo=function(t,e){for(var i=1,n=0;;){Gi.lastIndex=n;var r=Gi.exec(t);if(!(r&&r.index<e))break;++i,n=r.index+r[0].length}return{line:i,column:e-n}};t.tokenize=function(t,i){function n(t){return y(t),r.start=ve,r.end=ye,r.startLoc=we,r.endLoc=xe,r.type=be,r.value=Se,r}fe=t+"",de=fe.length,e(i),s();var r={};return n.jumpTo=function(t,e){if(me=t,ce.locations){Te=1,Pe=Gi.lastIndex=0;for(var i;(i=Gi.exec(fe))&&i.index<t;)++Te,Pe=i.index+i[0].length}Ce=e,l()},n};var me,ve,ye,we,xe,be,Se,Ce,Te,Pe,ke,Me,Ae,Oe,Ie,ze,Re=[],Ee={type:"num"},Le={type:"regexp"},De={type:"string"},Ne={type:"name"},Fe={type:"eof"},je={keyword:"break"},Ve={keyword:"case",beforeExpr:!0},Be={keyword:"catch"},qe={keyword:"continue"},Xe={keyword:"debugger"},He={keyword:"default"},Ue={keyword:"do",isLoop:!0},Ye={keyword:"else",beforeExpr:!0},We={keyword:"finally"},Ze={keyword:"for",isLoop:!0},$e={keyword:"function"},Ge={keyword:"if"},Qe={keyword:"return",beforeExpr:!0},Je={keyword:"switch"},Ke={keyword:"throw",beforeExpr:!0},ti={keyword:"try"},ei={keyword:"var"},ii={keyword:"while",isLoop:!0},ni={keyword:"with"},ri={keyword:"new",beforeExpr:!0},si={keyword:"this"},ai={keyword:"null",atomValue:null},oi={keyword:"true",atomValue:!0},hi={keyword:"false",atomValue:!1},li={keyword:"in",binop:7,beforeExpr:!0},ui={"break":je,"case":Ve,"catch":Be,"continue":qe,"debugger":Xe,"default":He,"do":Ue,"else":Ye,"finally":We,"for":Ze,"function":$e,"if":Ge,"return":Qe,"switch":Je,"throw":Ke,"try":ti,"var":ei,"while":ii,"with":ni,"null":ai,"true":oi,"false":hi,"new":ri,"in":li,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":si,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},ci={type:"[",beforeExpr:!0},fi={type:"]"},di={type:"{",beforeExpr:!0},_i={type:"}"},pi={type:"(",beforeExpr:!0},gi={type:")"},mi={type:",",beforeExpr:!0},vi={type:";",beforeExpr:!0},yi={type:":",beforeExpr:!0},wi={type:"."},xi={type:"?",beforeExpr:!0},bi={binop:10,beforeExpr:!0},Si={isAssign:!0,beforeExpr:!0},Ci={isAssign:!0,beforeExpr:!0},Ti={binop:9,prefix:!0,beforeExpr:!0},Pi={postfix:!0,prefix:!0,isUpdate:!0},ki={prefix:!0,beforeExpr:!0},Mi={binop:1,beforeExpr:!0},Ai={binop:2,beforeExpr:!0},Oi={binop:3,beforeExpr:!0},Ii={binop:4,beforeExpr:!0},zi={binop:5,beforeExpr:!0},Ri={binop:6,beforeExpr:!0},Ei={binop:7,beforeExpr:!0},Li={binop:8,beforeExpr:!0},Di={binop:10,beforeExpr:!0};t.tokTypes={bracketL:ci,bracketR:fi,braceL:di,braceR:_i,parenL:pi,parenR:gi,comma:mi,semi:vi,colon:yi,dot:wi,question:xi,slash:bi,eq:Si,name:Ne,eof:Fe,num:Ee,regexp:Le,string:De};for(var Ni in ui)t.tokTypes["_"+Ni]=ui[Ni];var Fi,ji=n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Vi=n("class enum extends super const export import"),Bi=n("implements interface let package private protected public static yield"),qi=n("eval arguments"),Xi=n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Hi=/[\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/,Ui="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Yi="------------------------------------------------------------------------------------------------------------------------------------------",Wi=RegExp("["+Ui+"]"),Zi=RegExp("["+Ui+Yi+"]"),$i=/[\n\r\u2028\u2029]/,Gi=/\r\n|[\n\r\u2028\u2029]/g,Qi=t.isIdentifierStart=function(t){return 65>t?36===t:91>t?!0:97>t?95===t:123>t?!0:t>=170&&Wi.test(String.fromCharCode(t))},Ji=t.isIdentifierChar=function(t){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:t>=170&&Zi.test(String.fromCharCode(t))},Ki={kind:"loop"},tn={kind:"switch"}});var p=navigator.userAgent,g={};p.toLowerCase().replace(/(opera|chrome|safari|webkit|firefox|msie|trident)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(t,e,i,n,r){if(!g.chrome){var s="opera"===e?n:i;"trident"===e&&(s=r,e="msie"),g.version=parseFloat(s),g.name=e,g[e]=!0,g.chrome&&delete g.webkit}});var m={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"equals","!=":"equals"},v={"-":"__negate","+":null},y=e.each(["add","subtract","multiply","divide","modulo","negate"],function(t){this["__"+t]="#"+t},{});return h.inject(y),c.inject(y),N.inject(y),"complete"===document.readyState?setTimeout(l):q.add(window,{load:l}),{compile:s,execute:a,load:u,parse:n}}.call(this),paper=new(r.inject(e.exports,{enumerable:!0,Base:e,Numerical:o,DomElement:B,DomEvent:q,Http:J,Key:W})),"function"==typeof define&&define.amd?define("paper",paper):"object"==typeof module&&module&&"object"==typeof module.exports&&(module.exports=paper),paper};